{"version":3,"sources":["api/helpers.js/errorParser.js","api/authApi.js","actions/types.js","actions/authActions.js","hooks/useClickOutsideClose.js","components/NavBar/index.js","components/MailingList/index.js","components/Footer/index.js","pages/HomePage/index.js","actions/cartActions.js","api/productsApi.js","api/collectionApi.js","api/helpers.js/authHeader.js","api/adminApi.js","actions/collectionActions.js","hooks/useCollections.js","hooks/useProducts.js","actions/productActions.js","components/TwoPointSlider/index.js","components/TwoPointPriceSlider/index.js","hooks/useScrollToPrevious.js","pages/ShopPage/index.js","pages/PhotoDetailsPage/index.js","hooks/useCart.js","pages/CartPage/index.js","pages/LoginPage/index.js","pages/SignupPage/index.js","api/ordersApi.js","pages/PaymentPage/index.js","hooks/useOrders.js","actions/orderActions.js","pages/OrderCompletePage/index.js","components/ImageDownload/index.js","pages/MyPhotosPage/index.js","pages/MyAccountPage/index.js","pages/AdminLoginPage/index.js","components/AdminSummaryWidget/index.js","components/AdminNavSideBar/index.js","pages/AdminDashboardPage/index.js","components/AdminAddOrEditPhotoModal/index.js","components/AdminPageNumberNav/index.js","components/AdminGreyBackgroundCenter/index.js","components/AdminPhotoPositionField/index.js","pages/AdminPhotoPage/index.js","components/AdminAddOrEditCollectionModal/index.js","pages/AdminCollectionsPage/index.js","components/AdminOrderDetailsModal/index.js","pages/AdminOrdersPage/index.js","pages/AdminUsersPage/index.js","App.js","reducers/authReducers.js","reducers/index.js","reducers/productReducers.js","reducers/collectionReducers.js","reducers/cartReducers.js","reducers/ordersReducers.js","index.js"],"names":["errorParser","response","data","ok","status","store","dispatch","logout","Error","message","errors","API_URL","signup","name","email","password","a","fetch","method","headers","body","JSON","stringify","json","login","token","isAdmin","authApi","PRODUCT_LIST_REQUEST","PRODUCT_LIST_SUCCESS","PRODUCT_LIST_FAIL","PRODUCT_FETCH_SUCCESS","PRODUCT_FETCH_FAIL","ADD_CART_ITEM","DELETE_CART_ITEM","EMPTY_CART","ORDER_LIST_REQUEST","ORDER_LIST_SUCCESS","ORDER_LIST_FAIL","ORDER_FETCH_SUCCESS","ORDER_FETCH_FAIL","COLLECTION_LIST_REQUEST","COLLECTION_LIST_SUCCESS","COLLECTION_LIST_FAIL","SIGNUP_REQUEST","SIGNUP_SUCCESS","SIGNUP_FAIL","LOGIN_REQUEST","LOGIN_SUCCESS","LOGIN_FAIL","LOGOUT","type","console","log","payload","useClickOutsideClose","elementRef","useState","isElementVisible","setIsElementVisible","useEffect","handleClick","event","current","contains","target","document","addEventListener","removeEventListener","NavBar","modalToggleButton","useRef","modalRef","isUserModalOpen","setIsUserModalOpen","pathname","useLocation","navigate","useNavigate","isLoggedIn","useSelector","state","auth","useDispatch","className","to","alt","src","onClick","signupElement","loginElement","cartElement","ref","width","height","viewBox","fill","xmlns","d","renderRightElements","MailingList","setEmail","onSubmit","e","preventDefault","value","onChange","placeholder","onLinkClick","window","scrollTo","Footer","featuredPhotos","LandingPage","startingImageIndex","isFromLeft","isFromRight","imageSliderState","setImageSliderState","formEmail","setFormEmail","formName","setFormName","formSubject","setFormSubject","formMessage","setFormMessage","getNextStartingIndex","change","newIndex","length","handleArrowClick","renderedFeaturedPhotos","fromLeftClass","fromRightClass","i","push","Date","renderFeaturedPhotos","x","y","stroke","fillRule","clipRule","transform","AddCartItem","id","Number","fetchProducts","requestOptions","res","products","fetchProduct","product","productsApi","fetchCollections","collections","collectionApi","authHeader","userToken","getState","Authorization","addPhoto","imageFile","photoTitle","photoDescription","priceInPence","collectionId","formData","FormData","append","editPhoto","photoId","editedFields","orderPosition","postCollection","collectionName","editCollection","updatedCollectionName","getAdminData","endpoint","page","resultsPerPage","getPhotos","getOrders","getUsers","adminApi","fetchCollectionList","collectionsApi","productList","useCollections","collectionList","isLoading","isLoaded","error","collectionMap","forEach","collection","currentMaxProductPrice","useProducts","isCollectionsLoaded","collectionsError","isProductsLoaded","productsError","maxProductPrice","setMaxProductPrice","useLayoutEffect","maxPrice","reduce","prev","priceInPounds","TwoPointSlider","bouncyMinVal","setbouncyMinVal","bouncyMaxVal","setbouncyMaxVal","min","max","avg","setAvg","setWidth","minMaxSlider","minWidth","maxPercent","styles","left","resize","parentElement","getBoundingClientRect","htmlFor","style","step","TwoPointPriceSlider","setMinVal","setMaxVal","initialMin","initialMax","setBouncyMinVal","setBouncyMaxVal","timeoutId","setTimeout","Math","ceil","clearTimeout","useScrollToPrevious","location","scrollPos","scroll","ShopPage","filteredSortedProducts","setfilteredSortedProducts","maxValue","initialMinPrice","initialMaxPrice","initialCollection","minPrice","activeCollection","setActiveCollection","pageNum","setPageNum","isCollectionsFilterOpen","setIsCollectionsFilterOpen","isPriceFilterOpen","setIsPriceFilterOpen","setMinPrice","setMaxPrice","filter","prod","isValidPrice","isValidCollection","scrollToTop","scrollY","scrollTop","getElementsByTagName","changePageNum","amount","finalPageNum","floor","map","renderedProductElements","navState","from","handleProductClick","backgroundImage","imageWmarkedMedSquarePublicURL","title","renderProducts","PhotoDetailsPage","props","useParams","handleAddToCart","returnUrl","find","p","imageWmarkedMedPublicURL","description","rel","href","renderProduct","useCart","cart","missingProduct","cartItemsWithInfo","itemIds","itemId","cartItems","cartTotal","accumulator","pence","array","Array","String","splice","join","priceToPounds","CartPage","isCartLoaded","item","handlePhotoClick","LoginPage","setPassword","class","SignupPage","setName","repeatPassword","setRepeatPassword","onSignupSubmit","startOrder","clientSecret","orderId","fetchOrders","orders","fetchOrder","order","fetchSecureImage","blob","URL","createObjectURL","ordersApi","backArrow","radioSelected","PaymentPage","elements","useElements","stripe","useStripe","inputStyle","fontSize","color","cartItemIds","onPaymentSubmit","cardNumberElement","getElement","CardNumberElement","confirmCardPayment","payment_method","card","options","base","cartItem","useOrders","orderItems","setOrderItems","orderList","newOrderItems","OrderCompletePage","totalPriceInPence","ImageDownload","paddingBottom","imageObjectURL","setImageObjectURL","objectURL","fetchImage","revokeObjectURL","downloadIcon","MyPhotosPage","handleDownloadClick","createElement","display","download","appendChild","click","photosList","photo","imageMedCropped2to1Key","createdAt","split","reverse","imageKey","renderMyPhotos","MyAccountPage","AdminLoginPage","AdminSummaryWidget","heading","subheading","number","AdminNavSideBar","active","AdminPage","AdminAddOrEditPhotoModal","currentPhotoBeingEdited","setCurrentPhotoBeingEdited","setShowImageUploadModal","imageUploadInputLabelEle","setCollectionId","setPhotoTitle","setPhotoDescription","photoPrice","setPhotoPrice","photoURL","setPhotoURL","setImageFile","handleAddPhoto","handleEditPhoto","accept","files","reader","FileReader","onload","result","readAsDataURL","pattern","match","AdminPageNumberNav","maxPage","activePage","setActivePage","viewStartingPage","setViewStartingPage","smartSetActivePage","newPageNum","getPageNumElement","isActivePage","pageButtons","previousPageButton","nextPageButton","getPageButtonsForWhenGreaterThan5Pages","AdminGreyBackgroundCenter","children","AdminPhotoPositionField","position","positionInputValue","setPositionInputValue","AdminPhotoPage","imageUploadModalRef","showImageUploadModal","photos","setPhotos","totalPages","setTotalPages","updatePhotos","pageCount","creationDate","creationTime","newPosition","handleEditPhotoButtonClick","random","AdminAddOrEditCollectionModal","setIsCollectionAddEditOpen","collectionAddEditContainer","editingCollectionId","editingCollectionName","setEditingCollectionName","collectionAddEditName","setCollectionAddEditName","AdminCollectionsPage","setEditingCollectionId","isCollectionAddEditOpen","closeCross","rx","AdminOrderDetailsModal","closeModal","user","userCreationDate","orderItem","AdminOrdersPage","setOrders","activeOrderDetailsModalOrder","setactiveOrderDetailsModalOrder","AdminUsersPage","users","setUsers","stripePromise","loadStripe","ProtectedLoginRoute","ProtectedAdminLoginRoutes","App","path","element","AdminDashboardPage","initialState","combineReducers","action","oldProductIndex","findIndex","slice","existingItemIdIndex","filteredItemIds","oldOrderIndex","errorMessage","persistConfig","key","storage","whitelist","pReducer","persistReducer","reducers","createStore","composeWithDevTools","applyMiddleware","thunk","persistor","persistStore","ReactDOM","render","loading","querySelector"],"mappings":"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","file":"static/js/main.68b34fae.chunk.js","sourcesContent":["import { store } from '../../index';\nimport { logout } from '../../actions/authActions';\n\nconst errorParser = (response, data) => {\n  if (!response.ok) {\n    //Server will give status 401 whenever there is no valid authentication\n    //403 for when the user is authenticated but not authorized for endpoint\n    if (response.status === 401) {\n      store.dispatch(logout());\n    }\n\n    throw new Error(data.message || data.errors || 'Unexpected error');\n  }\n};\n\nexport default errorParser;\n","import errorParser from './helpers.js/errorParser';\n\nconst API_URL = 'https://skylight-photography.herokuapp.com/';\n\nconst signup = async (name, email, password) => {\n  const response = await fetch(API_URL + 'signup', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify({ name, email, password }),\n  });\n\n  const data = await response.json();\n\n  errorParser(response, data);\n};\n\nconst login = async (email, password) => {\n  const response = await fetch(API_URL + 'login', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify({ email, password }),\n  });\n\n  const data = await response.json();\n  const { token, isAdmin, name } = data;\n\n  errorParser(response, data);\n\n  return { token, isAdmin, name };\n};\n\n// signup('Loch', 'Odlum', 'lodlum5@gmail.com', 'password');\n// login('lodlum5@gmail.com', 'password');=\n\nconst authApi = {\n  signup,\n  login,\n};\n\nexport default authApi;\n","export const PRODUCT_LIST_REQUEST = 'PRODUCT_LIST_REQUEST';\nexport const PRODUCT_LIST_SUCCESS = 'PRODUCT_LIST_SUCCESS';\nexport const PRODUCT_LIST_FAIL = 'PRODUCT_LIST_FAIL';\nexport const PRODUCT_FETCH_REQUEST = 'PRODUCT_FETCH_REQUEST';\nexport const PRODUCT_FETCH_SUCCESS = 'PRODUCT_FETCH_SUCCESS';\nexport const PRODUCT_FETCH_FAIL = 'PRODUCT_FETCH_FAIL';\nexport const ADD_CART_ITEM = 'ADD_CART_ITEM';\nexport const DELETE_CART_ITEM = 'DELETE_CART_ITEM';\nexport const EMPTY_CART = 'EMPTY_CART';\nexport const ORDER_LIST_REQUEST = 'ORDER_LIST_REQUEST';\nexport const ORDER_LIST_SUCCESS = 'ORDER_LIST_SUCCESS';\nexport const ORDER_LIST_FAIL = 'ORDER_LIST_FAIL';\nexport const ORDER_FETCH_REQUEST = 'ORDER_FETCH_REQUEST';\nexport const ORDER_FETCH_SUCCESS = 'ORDER_FETCH_SUCCESS';\nexport const ORDER_FETCH_FAIL = 'ORDER_FETCH_FAIL';\nexport const COLLECTION_LIST_REQUEST = 'COLLECTIONLIST_REQUEST';\nexport const COLLECTION_LIST_SUCCESS = 'COLLECTION_LIST_SUCCESS';\nexport const COLLECTION_LIST_FAIL = 'COLLECTION_LIST_FAIL';\n// export const COLLECTION_POST_SUCCESS = 'COLLECTION_POST_SUCCESS';\nexport const SIGNUP_REQUEST = 'SIGNUP_REQUEST';\nexport const SIGNUP_SUCCESS = 'SIGNUP_SUCCESS';\nexport const SIGNUP_FAIL = 'SIGNUP_FAIL';\nexport const LOGIN_REQUEST = 'LOGIN_REQUEST';\nexport const LOGIN_SUCCESS = 'LOGIN_SUCCESS';\nexport const LOGIN_FAIL = 'LOGIN_FAIL';\nexport const LOGOUT = 'LOGOUT';\n","import authApi from '../api/authApi';\n\nimport { LOGIN_REQUEST, LOGIN_SUCCESS, LOGIN_FAIL, LOGOUT, SIGNUP_REQUEST, SIGNUP_FAIL, SIGNUP_SUCCESS } from './types';\n\nexport const login = (email, password) => async (dispatch) => {\n  dispatch({ type: LOGIN_REQUEST });\n\n  try {\n    const { token, isAdmin, name } = await authApi.login(email, password);\n    console.log('Logged in ');\n    console.log(token, isAdmin);\n    dispatch({\n      type: LOGIN_SUCCESS,\n      payload: { token, isAdmin, name },\n    });\n  } catch (error) {\n    dispatch({ type: LOGIN_FAIL });\n  }\n};\n\nexport const logout = () => {\n  return {\n    type: LOGOUT,\n  };\n};\n\nexport const signup = (name, email, password) => async (dispatch) => {\n  dispatch({ type: SIGNUP_REQUEST });\n\n  try {\n    await authApi.signup(name, email, password);\n    dispatch({ type: SIGNUP_SUCCESS });\n\n    //True denotes that signup was successful, so signup page can redirect on success.\n    return true;\n  } catch (error) {\n    dispatch({ type: SIGNUP_FAIL });\n    return false;\n  }\n};\n","import { useEffect, useState } from 'react';\n\nconst useClickOutsideClose = (elementRef) => {\n  const [isElementVisible, setIsElementVisible] = useState(false);\n\n  useEffect(() => {\n    const handleClick = (event) => {\n      //if modal isn't open\n\n      if (!elementRef.current || !isElementVisible) {\n        return;\n      }\n\n      if (elementRef.current.contains(event.target)) {\n        return;\n      }\n      setIsElementVisible(false);\n    };\n\n    document.addEventListener('click', handleClick);\n\n    return () => {\n      document.removeEventListener('click', handleClick);\n    };\n  }, [isElementVisible, elementRef]);\n\n  return [isElementVisible, setIsElementVisible];\n};\n\nexport default useClickOutsideClose;\n","import React, { useRef } from 'react';\nimport { Link, useLocation, useNavigate } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { logout } from '../../actions/authActions';\n\nimport useClickOutsideClose from '../../hooks/useClickOutsideClose';\n\nimport './index.css';\n\nconst NavBar = () => {\n  const modalToggleButton = useRef(null);\n  const modalRef = useRef(null);\n  const [isUserModalOpen, setIsUserModalOpen] = useClickOutsideClose(modalRef);\n  const { pathname } = useLocation();\n  const navigate = useNavigate();\n  const isLoggedIn = useSelector((state) => state.auth.isLoggedIn);\n  const isAdmin = useSelector((state) => state.auth.isAdmin);\n  const name = useSelector((state) => state.auth.name);\n  const dispatch = useDispatch();\n\n  const renderRightElements = () => {\n    const signupElement = (\n      <button\n        className='navbar-button grey-blue-button'\n        onClick={() => {\n          navigate('/signup');\n        }}\n      >\n        Sign Up\n      </button>\n    );\n    const loginElement = (\n      <button\n        className='navbar-button orange-brown-button'\n        onClick={() => {\n          navigate('/login');\n        }}\n      >\n        Login\n      </button>\n    );\n\n    const cartElement = (\n      <img\n        className='navBar-cart-icon'\n        src='/images/cart-icon.svg'\n        alt='cart-icon'\n        onClick={() => {\n          navigate('/cart');\n        }}\n      />\n    );\n\n    if (!isLoggedIn) {\n      return (\n        <>\n          {signupElement}\n          {loginElement}\n          {cartElement}\n        </>\n      );\n    } else {\n      return (\n        <>\n          <div\n            className={`nav-user-container ${isUserModalOpen ? 'active' : ''}`}\n            onClick={() => {\n              setIsUserModalOpen(true);\n            }}\n            ref={modalToggleButton}\n          >\n            Hi {name},\n            <svg\n              className='nav-user-arrow'\n              width='17'\n              height='11'\n              viewBox='0 0 17 11'\n              fill='none'\n              xmlns='http://www.w3.org/2000/svg'\n            >\n              <path\n                className={`nav-user-arrow-path ${isUserModalOpen ? 'active' : ''}`}\n                d='M2.28767 0L8.00195 6.875L13.7162 0L16.002 1.375L8.00195 11L0.00195312 1.375L2.28767 0Z'\n                fill='#8D8A8A'\n              />\n            </svg>\n            {isUserModalOpen && (\n              <div className='nav-user-modal' ref={modalRef}>\n                <div className='nav-user-modal-link'>\n                  <Link to='/myphotos'>My Photos</Link>\n                </div>\n                <div className='nav-user-modal-link'>\n                  <Link to='/myaccount'>My Account</Link>{' '}\n                </div>\n                {isAdmin && (\n                  <div className='nav-user-modal-link'>\n                    <Link to='/admin'>Dashboard</Link>{' '}\n                  </div>\n                )}\n                <div className='nav-user-modal-bottom-container'>\n                  <div\n                    className='nav-user-modal-link nav-user-modal-logout'\n                    onClick={() => {\n                      dispatch(logout());\n                    }}\n                  >\n                    Sign out\n                  </div>\n                </div>\n              </div>\n            )}\n          </div>\n          {/* <button\n            onClick={() => {\n              dispatch(logout());\n            }}\n          >\n            Logout\n          </button> */}\n          <button\n            className='navbar-button orange-brown-button'\n            onClick={() => {\n              navigate('/myphotos');\n            }}\n          >\n            My Photos\n          </button>\n          {cartElement}\n        </>\n      );\n    }\n  };\n\n  return (\n    <div className='navbar-container'>\n      <div className='navBar'>\n        <div className='navBar-start'>\n          <div className='navBar-start-item-container'>\n            <Link to='/' className={`navBar-start-item-a ${pathname === '/' ? 'active' : ''}`}>\n              Home\n            </Link>\n          </div>\n          {/* <Link to='/'>Portolio</Link> */}\n          <div className='navBar-start-item-container'>\n            <Link to='/shop' className={`navBar-start-item-a ${pathname === '/shop' ? 'active' : ''}`}>\n              Shop\n            </Link>\n          </div>\n        </div>\n        <img\n          alt='skylight-photography-logo'\n          src='/images/logo.png'\n          className='navBar-logo'\n          onClick={() => {\n            navigate('/');\n          }}\n        />\n        <div className='navBar-end'>{renderRightElements()}</div>\n      </div>\n    </div>\n  );\n};\n\nexport default NavBar;\n","import React, { useState } from 'react';\n\nimport './index.css';\n\nconst MailingList = () => {\n  const [email, setEmail] = useState();\n\n  const handleMailListSignup = (e) => {\n    e.preventDefault();\n  };\n\n  return (\n    <div className='mail-list-container'>\n      <div className='mail-list'>\n        <div className='mail-list-title'>Mailing List</div>\n        <form className='mail-list-form' onSubmit={handleMailListSignup}>\n          <input\n            className='mail-list-email-input'\n            value={email}\n            onChange={(e) => {\n              setEmail(e.target.value);\n            }}\n            placeholder='E-mail Address'\n            type='email'\n          />\n          <button className='orange-brown-button mail-list-email-signup-button' type='submit'>\n            Sign Up\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default MailingList;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport './index.css';\n\nconst onLinkClick = () => {\n  window.scrollTo(0, 0);\n};\n\nconst Footer = () => {\n  return (\n    <div className=\"footer-container\">\n      <div className=\"footer-content\">\n        <div className=\"footer-content-left\">\n          <img src=\"/images/logo.png\" alt=\"skylight-photography-logo\" />\n          <div className=\"footer-left-text\">\n            Check out our socials below to keep up to date with Skylight\n            Photography\n          </div>\n          <div className=\"footer-left-logos\">\n            <img\n              className=\"footer-left-logo\"\n              src=\"/images/linked-in-logo-footer.png\"\n              alt=\"linked-in-logo\"\n            />\n            <img\n              className=\"footer-left-logo\"\n              src=\"/images/twitter-logo-footer.png\"\n              alt=\"twitter-logo\"\n            />\n            <img\n              className=\"footer-left-logo\"\n              src=\"/images/facebook-logo-footer.png\"\n              alt=\"facebook-logo\"\n            />\n          </div>\n        </div>\n        <div className=\"footer-content-right\">\n          <div className=\"footer-right-column\">\n            <div className=\"footer-right-header\">About</div>\n            <Link\n              className=\"footer-right-column-subtext\"\n              to=\"/\"\n              onClick={onLinkClick}\n            >\n              Home\n            </Link>\n            <Link\n              className=\"footer-right-column-subtext\"\n              to=\"/shop\"\n              onClick={onLinkClick}\n            >\n              Shop\n            </Link>\n          </div>\n          <div className=\"footer-right-column\">\n            <div className=\"footer-right-header\">Information</div>\n            <Link\n              to=\"/myaccount\"\n              className=\"footer-right-column-subtext\"\n              onClick={onLinkClick}\n            >\n              Account\n            </Link>\n            <Link\n              to=\"/myphotos\"\n              className=\"footer-right-column-subtext\"\n              onClick={onLinkClick}\n            >\n              My Photos\n            </Link>\n            <div className=\"footer-right-column-subtext\">Newsletter</div>\n          </div>\n          <div className=\"footer-right-column\">\n            <div className=\"footer-right-header\">Get In Touch</div>\n            <div className=\"get-in-touch-row footer-right-column-subtext\">\n              <div>Telephone:</div>\n              <div className=\"get-in-touch-value\">07585 952895</div>\n            </div>\n            <div className=\"get-in-touch-row footer-right-column-subtext\">\n              <div>E-mail:</div>\n              <div className=\"get-in-touch-value\">\n                skylightphotography@gmail.com\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div className=\"footer-copyright\">© 2021 All Rights Reserved</div>\n    </div>\n  );\n};\n\nexport default Footer;\n","import React, { useState } from 'react';\nimport { useNavigate, Link } from 'react-router-dom';\nimport NavBar from '../../components/NavBar';\nimport MailingList from '../../components/MailingList';\nimport Footer from '../../components/Footer';\n\nimport './index.css';\n\nconst featuredPhotos = [\n  null,\n\n  'featured-photo-2.png',\n  'featured-photo-3.png',\n  'featured-photo-4.png',\n  'featured-photo-5.png',\n  'featured-photo-1.png',\n  null,\n];\n\n// const animationTime = 500;\n\nconst LandingPage = () => {\n  const navigate = useNavigate();\n\n  const [imageSliderState, setImageSliderState] = useState({\n    startingImageIndex: 0,\n    isFromLeft: false,\n    isFromRight: false,\n  });\n\n  const [formEmail, setFormEmail] = useState('');\n  const [formName, setFormName] = useState('');\n  const [formSubject, setFormSubject] = useState('');\n  const [formMessage, setFormMessage] = useState('');\n\n  const getNextStartingIndex = (change) => {\n    const newIndex = imageSliderState.startingImageIndex + change;\n    if (newIndex < 0 || newIndex > featuredPhotos.length - 5) {\n      return imageSliderState.startingImageIndex;\n    }\n    return newIndex;\n  };\n\n  const handleArrowClick = (change) => {\n    if (change === -1) {\n      const newIndex = getNextStartingIndex(-1);\n      if (newIndex === imageSliderState.startingImageIndex) {\n        return;\n      }\n\n      setImageSliderState({\n        startingImageIndex: getNextStartingIndex(-1),\n        isFromLeft: true,\n        isFromRight: false,\n      });\n    }\n    if (change === 1) {\n      const newIndex = getNextStartingIndex(1);\n      if (newIndex === imageSliderState.startingImageIndex) {\n        return;\n      }\n\n      setImageSliderState({\n        startingImageIndex: getNextStartingIndex(1),\n        isFromLeft: false,\n        isFromRight: true,\n      });\n    }\n  };\n\n  const renderFeaturedPhotos = () => {\n    // return featuredPhotos.map((fileName) => <img src={`/images/${fileName}`} />);\n\n    const renderedFeaturedPhotos = [];\n\n    // for (let i = startImageIndex; i < startImageIndex + 4; i++) {\n    //   const isFinalClass = i === startImageIndex + 3 ? 'final' : '';\n    //   renderedFeaturedPhotos.push(\n    //     <img className={`s2-img-slider-img ${isFinalClass}`} src={`/images/${featuredPhotos[i]}`} />\n    //   );\n    // }\n    const fromLeftClass = imageSliderState.isFromLeft ? 'from-left' : '';\n    const fromRightClass = imageSliderState.isFromRight ? 'from-right' : '';\n\n    for (let i = 0; i < 5; i++) {\n      if (imageSliderState.startingImageIndex === 0 && i === 0) {\n        //Fake image div to balance out positioning, is never in view.\n        renderedFeaturedPhotos.push(<div className='s2-img-slider-img s2-img-slider-fake-img-div'></div>);\n        continue;\n      }\n\n      renderedFeaturedPhotos.push(\n        <img\n          alt='slider'\n          className={`s2-img-slider-img ${fromLeftClass} ${fromRightClass} ${imageSliderState.startingImageIndex}`}\n          src={`/images/${featuredPhotos[i + imageSliderState.startingImageIndex]}`}\n          key={+new Date() + i}\n        />\n      );\n    }\n\n    return renderedFeaturedPhotos;\n  };\n\n  const renderFeaturedPhotosArrows = () => {\n    return (\n      <div className='hp-s2-photo-arrows'>\n        <svg\n          className='sp-arrow-left'\n          onClick={() => {\n            handleArrowClick(-1);\n          }}\n          width='39'\n          height='39'\n          viewBox='0 0 39 39'\n          fill='none'\n          xmlns='http://www.w3.org/2000/svg'\n        >\n          <rect x='0.5' y='0.5' width='38' height='38' stroke='#8D8A8A' />\n          <path\n            fillRule='evenodd'\n            clipRule='evenodd'\n            d='M29.4324 19.4998C29.4324 19.8221 29.3016 20.1313 29.0687 20.3592C28.8359 20.5871 28.5201 20.7152 28.1908 20.7152H13.8055L19.137 25.9315C19.2524 26.0445 19.344 26.1787 19.4065 26.3263C19.4689 26.474 19.5011 26.6322 19.5011 26.792C19.5011 26.9518 19.4689 27.1101 19.4065 27.2577C19.344 27.4053 19.2524 27.5395 19.137 27.6525C19.0215 27.7655 18.8845 27.8551 18.7337 27.9163C18.5828 27.9774 18.4212 28.0089 18.2579 28.0089C18.0947 28.0089 17.933 27.9774 17.7822 27.9163C17.6313 27.8551 17.4943 27.7655 17.3789 27.6525L9.92922 20.3603C9.8136 20.2474 9.72186 20.1133 9.65926 19.9656C9.59667 19.818 9.56445 19.6597 9.56445 19.4998C9.56445 19.34 9.59667 19.1817 9.65926 19.034C9.72186 18.8863 9.8136 18.7522 9.92922 18.6393L17.3789 11.3471C17.612 11.1189 17.9282 10.9907 18.2579 10.9907C18.5876 10.9907 18.9038 11.1189 19.137 11.3471C19.3701 11.5754 19.5011 11.8849 19.5011 12.2076C19.5011 12.5304 19.3701 12.8399 19.137 13.0681L13.8055 18.2844H28.1908C28.5201 18.2844 28.8359 18.4125 29.0687 18.6404C29.3016 18.8683 29.4324 19.1775 29.4324 19.4998Z'\n            fill='#8D8A8A'\n          />\n        </svg>\n        <svg\n          className='sp-arrow-right'\n          onClick={() => {\n            handleArrowClick(1);\n          }}\n          width='39'\n          height='39'\n          viewBox='0 0 39 39'\n          fill='none'\n          xmlns='http://www.w3.org/2000/svg'\n        >\n          <rect x='-0.5' y='0.5' width='38' height='38' transform='matrix(-1 0 0 1 38 0)' stroke='#8D8A8A' />\n          <path\n            fillRule='evenodd'\n            clipRule='evenodd'\n            d='M9.56762 19.4998C9.56762 19.8221 9.69843 20.1313 9.93128 20.3592C10.1641 20.5871 10.4799 20.7152 10.8092 20.7152H25.1945L19.863 25.9315C19.7476 26.0445 19.656 26.1787 19.5935 26.3263C19.5311 26.474 19.4989 26.6322 19.4989 26.792C19.4989 26.9518 19.5311 27.1101 19.5935 27.2577C19.656 27.4053 19.7476 27.5395 19.863 27.6525C19.9785 27.7655 20.1155 27.8551 20.2663 27.9163C20.4172 27.9774 20.5788 28.0089 20.7421 28.0089C20.9053 28.0089 21.067 27.9774 21.2178 27.9163C21.3687 27.8551 21.5057 27.7655 21.6211 27.6525L29.0708 20.3603C29.1864 20.2474 29.2781 20.1133 29.3407 19.9656C29.4033 19.818 29.4355 19.6597 29.4355 19.4998C29.4355 19.34 29.4033 19.1817 29.3407 19.034C29.2781 18.8863 29.1864 18.7522 29.0708 18.6393L21.6211 11.3471C21.388 11.1189 21.0718 10.9907 20.7421 10.9907C20.4124 10.9907 20.0962 11.1189 19.863 11.3471C19.6299 11.5754 19.4989 11.8849 19.4989 12.2076C19.4989 12.5304 19.6299 12.8399 19.863 13.0681L25.1945 18.2844H10.8092C10.4799 18.2844 10.1641 18.4125 9.93128 18.6404C9.69843 18.8683 9.56762 19.1775 9.56762 19.4998Z'\n            fill='#8D8A8A'\n          />\n        </svg>\n      </div>\n    );\n  };\n\n  const handleContactUsSubmit = (e) => {\n    e.preventDefault();\n    return;\n  };\n\n  return (\n    <div className='home-page'>\n      <NavBar />\n      <div className='section-1-container'>\n        <div className='section-1'>\n          <div className='hp-1-images-container'>\n            <img src='/images/clouds-photo-2.png' alt='skylight-photography' className='hp-1-image-under' />\n            <img src='/images/finger-photo-2.png' alt='skylight-photography' className='hp-1-image-over' />\n          </div>\n          <div className='hp-1-content-right'>\n            <div className='hp-1-welcome-text'>Welcome To</div>\n            <div className='hp-1-sp'>Skylight Photography</div>\n            <div className='hp-1-description'>\n              Profesional Photography Services centered in the Norfolk Rocklands St Peter area. Check out our digital\n              shop or read more about us below.\n            </div>\n            <button\n              className='orange-brown-button hp-1-shop-button'\n              onClick={() => {\n                navigate('/shop');\n              }}\n            >\n              Shop\n            </button>\n          </div>\n        </div>\n      </div>\n      <div className='sp-section-2-container'>\n        <div className='sp-section-2'>\n          <div className='sp-s2-content-left'>\n            <div className='sp-s2-title'>Featured Photos</div>\n            <div className='sp-s2-description'>\n              We specialise in Landscape Photography which can be seen throughout our shop. We vary from beautfiul river\n              scapes to the streets of Milan. These featured photos can be found in the shop.\n            </div>\n            <button className='orange-brown-button sp-s2-shop-all-button'>\n              <Link to='/shop'>Shop All</Link>\n            </button>\n          </div>\n          <div className='sp-s2-content-right'>\n            <div className='sp-s2-photo-slider'>{renderFeaturedPhotos()}</div>\n            <div>{renderFeaturedPhotosArrows()}</div>\n          </div>\n        </div>\n      </div>\n      <div className='section-3-container'>\n        <div className='section-3'>\n          <div className='s3-about-us-container'>\n            <div className='s3-about-us-title'>About Us</div>\n            <div className='s3-about-us-text s3-about-us-text-1'>\n              Skylight Photography is a Proud small business centered in the Norfolk Norfolk Rocklands St Peter area! We\n              not only sell our own photographs but also are avaliable for private event photography. See our contact us\n              section below for more details.\n            </div>\n            <div className='s3-about-us-text s3-about-us-text-2'>\n              {/* Skylight Photography isn’t just a business but a family of photographers. We take the wellbeing and\n              happiness of both our staff and clients with great pride. CEO, and Lead Photographer George Ward has been\n              looking after Skylight Photography for nearly 5 years now, and is at the forefront of the business still\n              to this day. */}\n            </div>\n          </div>\n          <div className='s3-images-container'>\n            <img className='s3-image-behind' alt='skylight-photography' src='/images/s3-behind.png' />\n            <img className='s3-image-top' alt='skylight-photography' src='/images/s3-front.png' />\n          </div>\n        </div>\n      </div>\n      <div className='section-4-container'>\n        <div className='section-4'>\n          <div className='s4-line s4-line-top'></div>\n          <div className='s4-title'>Contact Us</div>\n          <div className='s4-contact-us-container'>\n            <form className='s4-cu-form' onSubmit={handleContactUsSubmit}>\n              <input\n                className='s4-cu-form-input'\n                name='email'\n                type='email'\n                placeholder='E-mail Address'\n                value={formEmail}\n                onChange={(e) => {\n                  setFormEmail(e.target.value);\n                }}\n              />\n              <input\n                className='s4-cu-form-input'\n                name='name'\n                type='text'\n                placeholder='Name'\n                value={formName}\n                onChange={(e) => {\n                  setFormName(e.target.value);\n                }}\n              />\n              <input\n                className='s4-cu-form-input'\n                name='subject'\n                type='text'\n                placeholder='Subject'\n                value={formSubject}\n                onChange={(e) => {\n                  setFormSubject(e.target.value);\n                }}\n              />\n              <input\n                className='s4-cu-form-input'\n                name='message'\n                type='text'\n                placeholder='Message'\n                value={formMessage}\n                onChange={(e) => {\n                  setFormMessage(e.target.value);\n                }}\n              />\n              <button className='orange-brown-button s4-cu-submit-button' type='submit'>\n                Send\n              </button>\n            </form>\n            <div className='s4-cu-right'>\n              <div className='s4-cu-subtitle'>Let’s Connect</div>\n              <div className='s4-cu-text'>\n                Here at Skylight Photography we provide a range of services including private event photography. We\n                specialise in aerial, weddings, sports, events, product, food and much more! If you have any questions\n                please contact the team now and we will get back to you as soon as possible!\n              </div>\n              <div className='s4-cu-text'>\n                If you want to keep up to date with the latest Skylight Photography news then subscribe to our Mailing\n                List below to get Newsletters and more!\n              </div>\n            </div>\n          </div>\n          <div className='s4-line s4-line-bottom'></div>\n        </div>\n        <MailingList />\n        <Footer />\n      </div>\n    </div>\n  );\n};\n\nexport default LandingPage;\n","import { ADD_CART_ITEM, DELETE_CART_ITEM, EMPTY_CART } from './types';\n\nexport const AddCartItem = (id) => async (dispatch) => {\n  dispatch({\n    type: ADD_CART_ITEM,\n    payload: Number(id),\n  });\n};\n\nexport const DeleteCartItem = (id) => async (dispatch) => {\n  dispatch({\n    type: DELETE_CART_ITEM,\n    payload: Number(id),\n  });\n};\n\nexport const EmptyCart = () => ({\n  type: EMPTY_CART,\n});\n","const API_URL = 'https://skylight-photography.herokuapp.com/shop/products/';\n\nconst fetchProducts = async () => {\n  // console.log('Getting products');\n  const requestOptions = {\n    method: 'GET',\n  };\n\n  const res = await fetch(`${API_URL}`, requestOptions);\n  const products = await res.json();\n\n  return products;\n};\n\nconst fetchProduct = async (id) => {\n  console.log('Getting product');\n  const requestOptions = {\n    method: 'GET',\n  };\n\n  const res = await fetch(`${API_URL}${id}`, requestOptions);\n  const product = await res.json();\n\n  return product;\n};\n\nconst productsApi = {\n  fetchProducts,\n  fetchProduct,\n};\n\nexport default productsApi;\n","import errorParser from './helpers.js/errorParser';\n\nconst API_URL = 'https://skylight-photography.herokuapp.com/';\n\nconst fetchCollections = async () => {\n  const requestOptions = {\n    method: 'GET',\n  };\n\n  const res = await fetch(`${API_URL}shop/collections`, requestOptions);\n  const collections = await res.json();\n\n  errorParser(res, collections);\n\n  return collections;\n};\n\nconst collectionApi = {\n  fetchCollections,\n};\n\nexport default collectionApi;\n","import { store } from '../../index';\n\nconst authHeader = () => {\n  const userToken = store.getState().auth.token;\n\n  return userToken ? { Authorization: `Bearer ${userToken}` } : {};\n};\n\nexport default authHeader;\n","import errorParser from './helpers.js/errorParser';\nimport authHeader from './helpers.js/authHeader';\n\nconst API_URL = 'https://skylight-photography.herokuapp.com/';\n\nconst addPhoto = async (imageFile, photoTitle, photoDescription, priceInPence, collectionId) => {\n  const formData = new FormData();\n\n  formData.append('image', imageFile);\n  formData.append('title', photoTitle);\n  formData.append('collectionId', collectionId);\n  formData.append('description', photoDescription);\n  formData.append('priceInPence', priceInPence);\n\n  const response = await fetch(API_URL + 'admin/photo', {\n    method: 'POST',\n    headers: {\n      ...authHeader(),\n    },\n    body: formData,\n  });\n\n  const data = await response.json();\n\n  errorParser(response, data);\n};\n\nconst editPhoto = async (photoId, editedFields) => {\n  console.log(photoId);\n  console.log(editedFields);\n  //Destructure to ensure only the correct fields get sent in request.\n  const { orderPosition, imageFile, photoTitle, photoDescription, priceInPence, collectionId } = editedFields;\n\n  const formData = new FormData();\n\n  formData.append('image', imageFile);\n  formData.append('orderPosition', orderPosition);\n  formData.append('title', photoTitle);\n  formData.append('collectionId', collectionId);\n  formData.append('description', photoDescription);\n  formData.append('priceInPence', priceInPence);\n\n  const requestOptions = {\n    method: 'PATCH',\n    headers: { ...authHeader() },\n    body: formData,\n  };\n\n  const response = await fetch(`${API_URL}admin/photo/${photoId}`, requestOptions);\n\n  const data = response.json();\n\n  errorParser(response, data);\n\n  return data;\n};\n\nconst postCollection = async (collectionName) => {\n  const requestOptions = {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json', ...authHeader() },\n    body: JSON.stringify({ collectionName }),\n  };\n\n  const response = await fetch(`${API_URL}admin/collection`, requestOptions);\n\n  const data = await response.json();\n\n  errorParser(response, data);\n\n  return data;\n};\n\nconst editCollection = async (collectionId, editedFields) => {\n  const { updatedCollectionName } = editedFields;\n\n  const requestOptions = {\n    method: 'PATCH',\n    headers: { 'Content-Type': 'application/json', ...authHeader() },\n    body: JSON.stringify({ updatedCollectionName }),\n  };\n\n  const res = await fetch(`${API_URL}admin/collection/${collectionId}`, requestOptions);\n\n  const data = await res.json();\n\n  errorParser(res, data);\n\n  return data;\n};\n\nconst getAdminData = async (endpoint, page, resultsPerPage) => {\n  const requestOptions = {\n    method: 'GET',\n    headers: { ...authHeader() },\n  };\n\n  const response = await fetch(\n    `${API_URL}admin/${endpoint}?page=${page}&resultsPerPage=${resultsPerPage}`,\n    requestOptions\n  );\n\n  const data = await response.json();\n\n  errorParser(response, data);\n\n  return data;\n};\n\nconst getPhotos = async (page, resultsPerPage) => {\n  return await getAdminData('photos', page, resultsPerPage);\n};\n\nconst getOrders = async (page, resultsPerPage) => {\n  return await getAdminData('orders', page, resultsPerPage);\n};\n\nconst getUsers = async (page, resultsPerPage) => {\n  return await getAdminData('users', page, resultsPerPage);\n};\n\nconst adminApi = {\n  addPhoto,\n  editPhoto,\n  postCollection,\n  getPhotos,\n  getOrders,\n  getUsers,\n  editCollection,\n};\n\nexport default adminApi;\n","import {\n  COLLECTION_LIST_REQUEST,\n  COLLECTION_LIST_FAIL,\n  COLLECTION_LIST_SUCCESS,\n  // COLLECTION_POST_SUCCESS,\n} from './types';\n\nimport collectionsApi from '../api/collectionApi';\nimport adminApi from '../api/adminApi';\n\nexport const fetchCollectionList = () => async (dispatch) => {\n  try {\n    dispatch({\n      type: COLLECTION_LIST_REQUEST,\n    });\n\n    const productList = await collectionsApi.fetchCollections();\n\n    dispatch({\n      type: COLLECTION_LIST_SUCCESS,\n      payload: productList,\n    });\n  } catch (error) {\n    dispatch({\n      type: COLLECTION_LIST_FAIL,\n      payload: error,\n    });\n  }\n};\n\nexport const addCollection = (collectionName) => async (dispatch) => {\n  try {\n    await adminApi.postCollection(collectionName);\n\n    dispatch(fetchCollectionList());\n  } catch (error) {\n    console.error(error);\n  }\n};\n\nexport const editCollection = (collectionId, updatedCollectionName) => async (dispatch) => {\n  try {\n    await adminApi.editCollection(collectionId, { updatedCollectionName });\n\n    dispatch(fetchCollectionList());\n  } catch (error) {\n    console.error(error);\n  }\n};\n","import { useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { fetchCollectionList } from '../actions/collectionActions';\n\n//Purpose is to ensure product list is fetched from server and added to redux state\n//Maybe add optional parm for fetchNewList, if true then will fetch product list from backend and update state\n//first time the component mounts (could be usefull for cart)\nconst useCollections = () => {\n  const { collections, isLoading, isLoaded, error } = useSelector((state) => state.collectionList);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (!isLoading && !isLoaded) {\n      dispatch(fetchCollectionList());\n    }\n    // eslint-disable-next-line\n  }, []);\n\n  if (isLoaded) {\n    //Generate list of collection names,\n    const collectionMap = {};\n\n    collections.forEach((collection) => {\n      collectionMap[collection.id] = collection.name;\n    });\n\n    return { collections, collectionMap, isLoaded, error };\n  }\n\n  return { collections: [], collectionMap: {}, isLoaded, error };\n};\n\nexport default useCollections;\n","import { useState, useEffect, useLayoutEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { fetchProductList } from '../actions/productActions';\n\nimport useCollections from './useCollections';\n\n//Purpose is to ensure product list is fetched from server and added to redux state\n//Maybe add optional parm for fetchNewList, if true then will fetch product list from backend and update state\n//first time the component mounts (could be usefull for cart)\n\n//TODO: Need to only return when collection and products are loaded. Map products so\n//TODO: collectionid is turned to collection name.\n\nlet currentMaxProductPrice = 0;\n\nconst useProducts = () => {\n  const { collections, collectionMap, isLoaded: isCollectionsLoaded, error: collectionsError } = useCollections();\n  const {\n    products,\n    isLoading,\n    isLoaded: isProductsLoaded,\n    error: productsError,\n  } = useSelector((state) => state.productList);\n  const [maxProductPrice, setMaxProductPrice] = useState(currentMaxProductPrice);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (!isLoading && !isProductsLoaded) {\n      dispatch(fetchProductList());\n    }\n    // eslint-disable-next-line\n  }, []);\n\n  useLayoutEffect(() => {\n    //Get max price of product\n    let maxPrice = products.reduce(\n      (prev, current) => (+current.priceInPounds > prev ? current.priceInPounds : prev),\n      0\n    );\n\n    setMaxProductPrice(maxPrice);\n    currentMaxProductPrice = maxPrice;\n  }, [products]);\n\n  if (isProductsLoaded && isCollectionsLoaded && maxProductPrice) {\n    return {\n      products,\n      isLoaded: true,\n      error: null,\n      collectionMap,\n      collections,\n      maxProductPrice: maxProductPrice,\n    };\n  }\n\n  const error = productsError || collectionsError;\n\n  return { products: [], error, collectionMap: [], collections: [], isLoaded: false, maxProductPrice: maxProductPrice };\n};\n\nexport default useProducts;\n","import {\n  PRODUCT_LIST_REQUEST,\n  PRODUCT_LIST_FAIL,\n  PRODUCT_LIST_SUCCESS,\n  PRODUCT_FETCH_REQUEST,\n  PRODUCT_FETCH_FAIL,\n  PRODUCT_FETCH_SUCCESS,\n} from './types';\nimport productsApi from '../api/productsApi';\n\n//Fetches list of products from backend, productList.products is set to result\nexport const fetchProductList = () => async (dispatch, getState) => {\n  try {\n    dispatch({\n      type: PRODUCT_LIST_REQUEST,\n    });\n\n    const productList = await productsApi.fetchProducts();\n\n    dispatch({\n      type: PRODUCT_LIST_SUCCESS,\n      payload: productList,\n    });\n  } catch (error) {\n    dispatch({\n      type: PRODUCT_LIST_FAIL,\n      payload: error,\n    });\n  }\n};\n\n//Will fetch product from backend and put to productList\nexport const fetchProduct = (id) => async (dispatch) => {\n  try {\n    dispatch({\n      type: PRODUCT_FETCH_REQUEST,\n    });\n\n    const product = await productsApi.fetchProduct(id);\n\n    dispatch({\n      type: PRODUCT_FETCH_SUCCESS,\n      payload: product,\n    });\n  } catch (error) {\n    dispatch({\n      type: PRODUCT_FETCH_FAIL,\n      payload: error,\n    });\n  }\n};\n","import React, { useLayoutEffect, useState, useRef, useEffect } from 'react';\n\nimport './index.css';\n\nlet thumbsize = 14;\n\nconst TwoPointSlider = ({ bouncyMinVal, setbouncyMinVal, bouncyMaxVal, setbouncyMaxVal, min, max }) => {\n  const [avg, setAvg] = useState((min + max) / 2);\n  const [width, setWidth] = useState(0);\n  const minMaxSlider = useRef(null);\n\n  const minWidth = thumbsize + ((avg - min) / (max - min)) * (width - 2 * thumbsize);\n  const minPercent = ((bouncyMinVal - min) / (avg - min)) * 100;\n  const maxPercent = ((bouncyMaxVal - avg) / (max - avg)) * 100;\n  const styles = {\n    min: {\n      width: minWidth,\n      left: 0,\n      '--minRangePercent': `${minPercent}%`,\n    },\n    max: {\n      width: thumbsize + ((max - avg) / (max - min)) * (width - 2 * thumbsize),\n      left: minWidth,\n      '--maxRangePercent': `${maxPercent}%`,\n    },\n  };\n\n  //This keeps the width of the component to the same as its parent container.\n  useEffect(() => {\n    const resize = () => {\n      if (!minMaxSlider.current) {\n        return;\n      }\n      setWidth(minMaxSlider.current.parentElement.getBoundingClientRect().width);\n    };\n\n    window.addEventListener('resize', resize);\n\n    return () => {\n      window.removeEventListener('resize', resize);\n    };\n  }, []);\n\n  useLayoutEffect(() => {\n    console.log('test');\n    // console.log(minMaxSlider.current.parentElement.getBoundingClientRect().width);\n    setWidth(minMaxSlider.current.parentElement.getBoundingClientRect().width);\n  }, []);\n\n  useLayoutEffect(() => {\n    setAvg((bouncyMaxVal + bouncyMinVal) / 2);\n  }, [bouncyMinVal, bouncyMaxVal]);\n\n  return (\n    <div\n      className='min-max-slider'\n      ref={minMaxSlider}\n      data-legendnum='2'\n      data-rangemin={min}\n      data-rangemax={max}\n      data-thumbsize={thumbsize}\n      data-rangewidth={width}\n    >\n      <label htmlFor='min'>Minimum price</label>\n      <input\n        id='min'\n        className='min'\n        style={styles.min}\n        name='min'\n        type='range'\n        step='1'\n        min={min}\n        max={avg}\n        value={bouncyMinVal}\n        onChange={({ target }) => setbouncyMinVal(Number(target.value))}\n      />\n      <label htmlFor='max'>Maximum price</label>\n      <input\n        id='max'\n        className='max'\n        style={styles.max}\n        name='max'\n        type='range'\n        step='1'\n        min={avg}\n        max={max}\n        value={bouncyMaxVal}\n        onChange={({ target }) => setbouncyMaxVal(Number(target.value))}\n      />\n    </div>\n  );\n};\n\nexport default TwoPointSlider;\n","import React, { useState, useEffect } from 'react';\nimport TwoPointSlider from '../TwoPointSlider';\n\n//Purpose of component is to display values of slider instantly as prices, but debounce the change for any other components to use\nconst TwoPointPriceSlider = ({ setMinVal, setMaxVal, min, max, initialMin, initialMax }) => {\n  const [bouncyMinVal, setBouncyMinVal] = useState(initialMin);\n  const [bouncyMaxVal, setBouncyMaxVal] = useState(initialMax);\n\n  //Effect to debounce the min and max values for any parent component to use\n  useEffect(() => {\n    const timeoutId = setTimeout(() => {\n      setMinVal(bouncyMinVal);\n      setMaxVal(Math.ceil(bouncyMaxVal));\n    }, 50);\n\n    return () => {\n      clearTimeout(timeoutId);\n    };\n  });\n\n  return (\n    <>\n      <div className='shop-price-slider-prices'>\n        <div>£{bouncyMinVal}</div>\n        <div className='shop-price-filter-maxprice'>£{Math.ceil(bouncyMaxVal)}</div>\n      </div>\n      <TwoPointSlider\n        bouncyMaxVal={bouncyMaxVal}\n        bouncyMinVal={bouncyMinVal}\n        setbouncyMinVal={setBouncyMinVal}\n        setbouncyMaxVal={setBouncyMaxVal}\n        min={min}\n        max={max}\n      />\n    </>\n  );\n};\n\nexport default TwoPointPriceSlider;\n","import { useLayoutEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\n\nconst useScrollToPrevious = () => {\n  const location = useLocation();\n\n  useLayoutEffect(() => {\n    console.log('hey');\n    if (location?.state?.scrollPos) {\n      const { scrollPos } = location.state;\n      console.log('scrolling to');\n      console.log(scrollPos);\n      window.scroll(0, scrollPos);\n    }\n  }, [location.state]);\n};\n\nexport default useScrollToPrevious;\n","import React, { useState, useEffect, useLayoutEffect } from 'react';\nimport { useNavigate, useLocation } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\nimport { AddCartItem } from '../../actions/cartActions';\nimport useProducts from '../../hooks/useProducts';\nimport NavBar from '../../components/NavBar';\nimport MailingList from '../../components/MailingList';\nimport Footer from '../../components/Footer';\nimport TwoPointPriceSlider from '../../components/TwoPointPriceSlider';\nimport useScrollToPrevious from '../../hooks/useScrollToPrevious';\n\nimport './index.css';\n\nconst PRODS_PER_PAGE = 9;\n\nconst ShopPage = () => {\n  const { products, collections, collectionMap, isLoaded, error, maxProductPrice } = useProducts();\n  const [filteredSortedProducts, setfilteredSortedProducts] = useState([]);\n\n  const location = useLocation();\n  // const [searchParams, setSearchParams] = useSearchParams();\n  //Min and max values possible for price filter\n  const minValue = 0;\n  const maxValue = Math.ceil(maxProductPrice);\n  //TODO: Messy bellow, figure out cleaner simpler way of managing rehydrating filters\n  let initialMinPrice = 0;\n  let initialMaxPrice = 200;\n  let initialCollection = null;\n  if (location.state) {\n    initialMinPrice = location.state.minPrice ? location.state.minPrice : 0;\n    initialMaxPrice = location.state.maxPrice ? location.state.maxPrice : 200;\n    initialCollection = location.state.collection ? location.state.collection : null;\n  }\n  //Set active collection id for filtering, null means all collections\n  const [activeCollection, setActiveCollection] = useState(initialCollection);\n  const [pageNum, setPageNum] = useState(0);\n  const [isCollectionsFilterOpen, setIsCollectionsFilterOpen] = useState(true);\n  const [isPriceFilterOpen, setIsPriceFilterOpen] = useState(false);\n  //Current min and max values to filter products\n  const [minPrice, setMinPrice] = useState(initialMinPrice);\n  const [maxPrice, setMaxPrice] = useState(initialMaxPrice);\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  useScrollToPrevious();\n\n  useEffect(() => {\n    setMaxPrice(Math.ceil(maxProductPrice));\n  }, [maxProductPrice]);\n\n  //rehydrates the old filter settings from location state once clicked back from details page\n  useLayoutEffect(() => {\n    if (!location.state) {\n      return;\n    }\n\n    let { collection, minPrice, maxPrice, pageNum } = location.state;\n\n    if (!collectionMap[collection]) {\n      collection = null;\n    }\n\n    if (!maxPrice || maxPrice > maxProductPrice) {\n      maxPrice = Math.ceil(maxProductPrice);\n    }\n\n    if (!minPrice || minPrice < 0 || minPrice >= maxPrice) {\n      minPrice = 0;\n    }\n\n    if (!pageNum) {\n      pageNum = 0;\n    }\n\n    setActiveCollection(collection);\n    setMinPrice(minPrice);\n    setMaxPrice(maxPrice);\n    setPageNum(pageNum);\n\n    // eslint-disable-next-line\n  }, [isLoaded, maxProductPrice, location.state]);\n\n  //Creates filtered and sorted products array every time products or filters change\n  useEffect(() => {\n    const filterProducts = (prods) => {\n      const filteredSortedProducts = prods.filter((prod) => {\n        const isValidPrice = prod.priceInPounds >= minPrice && prod.priceInPounds <= maxPrice;\n        const isValidCollection = activeCollection === null || prod.collectionId === activeCollection ? true : false;\n\n        return isValidPrice && isValidCollection;\n      });\n\n      return filteredSortedProducts;\n    };\n\n    // const sortProducts = (prods) => {\n\n    // }\n\n    // const filteredProducts = filterProducts(products);\n\n    setfilteredSortedProducts(filterProducts(products));\n    // eslint-disable-next-line\n  }, [products.length, activeCollection, minPrice, maxPrice]);\n\n  //Will scroll to top unless already close making it unnecessary\n  const scrollToTop = () => {\n    const scrollPos = window.scrollY || window.scrollTop || document.getElementsByTagName('html')[0].scrollTop;\n\n    if (scrollPos > 460) {\n      window.scrollTo(0, 0);\n    }\n  };\n\n  const changePageNum = (amount) => {\n    const finalPageNum = Math.floor(products.length / PRODS_PER_PAGE);\n    if (pageNum + amount >= 0 && pageNum + amount <= finalPageNum) {\n      window.scrollTo(0, 0);\n      setPageNum(pageNum + amount);\n    }\n  };\n\n  const handleProductClick = (product) => {\n    const scrollPos = window.scrollY || window.scrollTop || document.getElementsByTagName('html')[0].scrollTop;\n    const navState = {\n      from: '/shop',\n      collection: activeCollection,\n      minPrice,\n      maxPrice,\n      scrollPos,\n      pageNum,\n    };\n    navigate(`/photo/${product.id}`, { state: navState });\n  };\n\n  const renderProducts = () => {\n    if (error) {\n      return <div>Error fetching product data!</div>;\n    }\n\n    if (!isLoaded) {\n      return <div>Loading product data!</div>;\n    }\n\n    const renderedProductElements = [];\n\n    for (let i = PRODS_PER_PAGE * pageNum; i < PRODS_PER_PAGE * (pageNum + 1); i++) {\n      const product = filteredSortedProducts[i];\n      if (!product) {\n        continue;\n      }\n\n      renderedProductElements.push(\n        <div className='photo-container' key={product.id}>\n          <div\n            className='sp-photo-title-container'\n            onClick={() => {\n              handleProductClick(product);\n            }}\n          >\n            <div className='sp-photo-img-container'>\n              <div\n                className='sp-photo-img'\n                style={{ backgroundImage: `url('${product.imageWmarkedMedSquarePublicURL}')` }}\n                // stlye={{ backgroundImage: product.mediumCroppedSquareWatermarkedImagePublicURL }}\n              />\n            </div>\n            <div className='sp-photo-title'>{product.title}</div>\n          </div>\n          <div className='shop-photo-bottom'>\n            <button\n              className='orange-brown-button shop-add-to-cart'\n              onClick={() => {\n                dispatch(AddCartItem(product.id));\n                navigate('/cart');\n              }}\n            >\n              Add To Cart\n            </button>\n            <div className='shop-photo-price'>£{product.priceInPounds}</div>\n          </div>\n          {/* <Link to={`/photo/${product.id}`}>Click me!</Link> */}\n        </div>\n      );\n    }\n\n    return renderedProductElements;\n  };\n\n  const renderCollectionFilters = () => {\n    return collections.map((collection) => (\n      <div\n        className={`shop-filter-block-filter ${activeCollection === collection.id ? 'active' : ''}`}\n        onClick={() => {\n          setActiveCollection(collection.id);\n          scrollToTop();\n        }}\n      >\n        {collection.name}\n      </div>\n    ));\n  };\n\n  const renderPageArrows = () => {\n    if (filteredSortedProducts.length <= PRODS_PER_PAGE) {\n      return <div className='no-filter-arrow-padding'></div>;\n      // return null;\n    }\n\n    return (\n      <div className='sp-page-arrows'>\n        <svg\n          className='sp-arrow-left'\n          onClick={() => {\n            changePageNum(-1);\n          }}\n          width='39'\n          height='39'\n          viewBox='0 0 39 39'\n          fill='none'\n          xmlns='http://www.w3.org/2000/svg'\n        >\n          <rect x='0.5' y='0.5' width='38' height='38' stroke='#8D8A8A' />\n          <path\n            fillRule='evenodd'\n            clipRule='evenodd'\n            d='M29.4324 19.4998C29.4324 19.8221 29.3016 20.1313 29.0687 20.3592C28.8359 20.5871 28.5201 20.7152 28.1908 20.7152H13.8055L19.137 25.9315C19.2524 26.0445 19.344 26.1787 19.4065 26.3263C19.4689 26.474 19.5011 26.6322 19.5011 26.792C19.5011 26.9518 19.4689 27.1101 19.4065 27.2577C19.344 27.4053 19.2524 27.5395 19.137 27.6525C19.0215 27.7655 18.8845 27.8551 18.7337 27.9163C18.5828 27.9774 18.4212 28.0089 18.2579 28.0089C18.0947 28.0089 17.933 27.9774 17.7822 27.9163C17.6313 27.8551 17.4943 27.7655 17.3789 27.6525L9.92922 20.3603C9.8136 20.2474 9.72186 20.1133 9.65926 19.9656C9.59667 19.818 9.56445 19.6597 9.56445 19.4998C9.56445 19.34 9.59667 19.1817 9.65926 19.034C9.72186 18.8863 9.8136 18.7522 9.92922 18.6393L17.3789 11.3471C17.612 11.1189 17.9282 10.9907 18.2579 10.9907C18.5876 10.9907 18.9038 11.1189 19.137 11.3471C19.3701 11.5754 19.5011 11.8849 19.5011 12.2076C19.5011 12.5304 19.3701 12.8399 19.137 13.0681L13.8055 18.2844H28.1908C28.5201 18.2844 28.8359 18.4125 29.0687 18.6404C29.3016 18.8683 29.4324 19.1775 29.4324 19.4998Z'\n            fill='#8D8A8A'\n          />\n        </svg>\n        <svg\n          className='sp-arrow-right'\n          onClick={() => {\n            changePageNum(1);\n          }}\n          width='39'\n          height='39'\n          viewBox='0 0 39 39'\n          fill='none'\n          xmlns='http://www.w3.org/2000/svg'\n        >\n          <rect x='-0.5' y='0.5' width='38' height='38' transform='matrix(-1 0 0 1 38 0)' stroke='#8D8A8A' />\n          <path\n            fillRule='evenodd'\n            clipRule='evenodd'\n            d='M9.56762 19.4998C9.56762 19.8221 9.69843 20.1313 9.93128 20.3592C10.1641 20.5871 10.4799 20.7152 10.8092 20.7152H25.1945L19.863 25.9315C19.7476 26.0445 19.656 26.1787 19.5935 26.3263C19.5311 26.474 19.4989 26.6322 19.4989 26.792C19.4989 26.9518 19.5311 27.1101 19.5935 27.2577C19.656 27.4053 19.7476 27.5395 19.863 27.6525C19.9785 27.7655 20.1155 27.8551 20.2663 27.9163C20.4172 27.9774 20.5788 28.0089 20.7421 28.0089C20.9053 28.0089 21.067 27.9774 21.2178 27.9163C21.3687 27.8551 21.5057 27.7655 21.6211 27.6525L29.0708 20.3603C29.1864 20.2474 29.2781 20.1133 29.3407 19.9656C29.4033 19.818 29.4355 19.6597 29.4355 19.4998C29.4355 19.34 29.4033 19.1817 29.3407 19.034C29.2781 18.8863 29.1864 18.7522 29.0708 18.6393L21.6211 11.3471C21.388 11.1189 21.0718 10.9907 20.7421 10.9907C20.4124 10.9907 20.0962 11.1189 19.863 11.3471C19.6299 11.5754 19.4989 11.8849 19.4989 12.2076C19.4989 12.5304 19.6299 12.8399 19.863 13.0681L25.1945 18.2844H10.8092C10.4799 18.2844 10.1641 18.4125 9.93128 18.6404C9.69843 18.8683 9.56762 19.1775 9.56762 19.4998Z'\n            fill='#8D8A8A'\n          />\n        </svg>\n      </div>\n    );\n  };\n\n  return (\n    <div className='main-shop-container'>\n      <NavBar />\n      <div className='main-shop'>\n        <div className='shop-top'>\n          <button className='shop-sort-by-button'>\n            <div className='shop-sort-by-text'> Sort By</div>\n\n            <svg\n              className='shop-sort-by-arrow'\n              width='15'\n              height='7'\n              viewBox='0 0 15 7'\n              fill='none'\n              xmlns='http://www.w3.org/2000/svg'\n            >\n              <path\n                d='M1.31714 0.299609C1.72031 0.117605 2.19299 0.191547 2.52133 0.487982L5.50846 3.18491C6.65044 4.21595 8.38728 4.21595 9.52925 3.18491L12.5164 0.487982C12.8447 0.191547 13.3174 0.117605 13.7206 0.299609C14.4524 0.629951 14.6045 1.60271 14.0086 2.14075L9.52925 6.18492C8.38728 7.21595 6.65044 7.21595 5.50846 6.18491L1.02912 2.14075C0.43319 1.60271 0.585362 0.629951 1.31714 0.299609Z'\n                fill='#8D8A8A'\n              />\n            </svg>\n          </button>\n        </div>\n        <div className='shop-lower'>\n          <div className='content-left'>\n            <div className='shop-title'>\n              OUR <br /> ARTWORK\n            </div>\n            <div className='shop-filter-container'>\n              <div className='shop-filter-title'>Filter by</div>\n              <div className='shop-filter-list'>\n                <div className='shop-filter-block'>\n                  <div className='shop-filter-header'>\n                    <div className='shop-filter-block-title'>Collection</div>\n                    <div\n                      className='shop-filter-svg-container'\n                      onClick={() => {\n                        setIsCollectionsFilterOpen(!isCollectionsFilterOpen);\n                      }}\n                    >\n                      {isCollectionsFilterOpen && (\n                        <svg\n                          className='sp-filter-minus'\n                          width='15'\n                          height='3'\n                          viewBox='0 0 15 3'\n                          fill='none'\n                          xmlns='http://www.w3.org/2000/svg'\n                        >\n                          <path d='M13.4453 1.875H1.44531' stroke='#8D8A8A' stroke-width='2' stroke-linecap='round' />\n                        </svg>\n                      )}\n                      {!isCollectionsFilterOpen && (\n                        <svg\n                          className='sp-filter-plus'\n                          width='14'\n                          height='14'\n                          viewBox='0 0 14 14'\n                          fill='none'\n                          xmlns='http://www.w3.org/2000/svg'\n                        >\n                          <path d='M13 7H1' stroke='#8D8A8A' stroke-width='2' stroke-linecap='round' />\n                          <path d='M7 1L7 13' stroke='#8D8A8A' stroke-width='2' stroke-linecap='round' />\n                        </svg>\n                      )}\n                    </div>\n                  </div>\n                  {isLoaded && (\n                    <div className={`shop-filter-block-filters${isCollectionsFilterOpen ? '' : ' hidden'}`}>\n                      <div\n                        className={`shop-filter-block-filter ${activeCollection === null ? 'active' : ''}`}\n                        onClick={() => {\n                          setActiveCollection(null);\n                          scrollToTop();\n                        }}\n                      >\n                        All\n                      </div>\n                      {renderCollectionFilters()}\n                    </div>\n                  )}\n                </div>\n                <div className='shop-filter-block'>\n                  <div className='shop-filter-header'>\n                    <div className='shop-filter-block-title'>Price</div>\n                    <div\n                      className='shop-filter-svg-container'\n                      onClick={() => {\n                        setIsPriceFilterOpen(!isPriceFilterOpen);\n                      }}\n                    >\n                      {isPriceFilterOpen && (\n                        <svg\n                          className='sp-filter-minus'\n                          width='15'\n                          height='3'\n                          viewBox='0 0 15 3'\n                          fill='none'\n                          xmlns='http://www.w3.org/2000/svg'\n                        >\n                          <path d='M13.4453 1.875H1.44531' stroke='#8D8A8A' stroke-width='2' stroke-linecap='round' />\n                        </svg>\n                      )}\n                      {!isPriceFilterOpen && (\n                        <svg\n                          className='sp-filter-plus'\n                          width='14'\n                          height='14'\n                          viewBox='0 0 14 14'\n                          fill='none'\n                          xmlns='http://www.w3.org/2000/svg'\n                        >\n                          <path d='M13 7H1' stroke='#8D8A8A' stroke-width='2' stroke-linecap='round' />\n                          <path d='M7 1L7 13' stroke='#8D8A8A' stroke-width='2' stroke-linecap='round' />\n                        </svg>\n                      )}\n                    </div>\n                  </div>\n                  <div className={`shop-filter-block-filters${isPriceFilterOpen ? '' : ' hidden'}`}>\n                    <div className='shop-price-slider-container'>\n                      <div className='shop-twopointslider'>\n                        {isPriceFilterOpen && (\n                          <TwoPointPriceSlider\n                            min={minValue}\n                            max={maxValue}\n                            setMinVal={setMinPrice}\n                            setMaxVal={setMaxPrice}\n                            initialMin={minPrice}\n                            initialMax={maxPrice}\n                          />\n                        )}\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div className='content-right'>\n            <div className='photo-photo-list'>{renderProducts()}</div>\n            {renderPageArrows()}\n          </div>\n        </div>\n      </div>\n      <MailingList />\n      <Footer />\n    </div>\n  );\n};\n\nexport default ShopPage;\n","import React, { useEffect, useLayoutEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { useParams, useNavigate, useLocation } from 'react-router-dom';\n\nimport NavBar from '../../components/NavBar';\nimport Footer from '../../components/Footer';\nimport MailingList from '../../components/MailingList';\n\nimport useProducts from '../../hooks/useProducts';\n\nimport useCollections from '../../hooks/useCollections';\nimport { fetchProduct } from '../../actions/productActions';\nimport { AddCartItem } from '../../actions/cartActions';\n\nimport './index.css';\n\nconst PhotoDetailsPage = (props) => {\n  const navigate = useNavigate();\n  const location = useLocation();\n  console.log(location.state.scrollPos);\n  const id = Number(useParams().id);\n  const dispatch = useDispatch();\n\n  const { products, isLoaded: isProductsLoaded, error } = useProducts();\n  const { collectionMap, isLoaded: isCollectionsLoaded } = useCollections();\n\n  const isLoaded = isProductsLoaded && isCollectionsLoaded;\n\n  useEffect(() => {\n    //Causes product to be updated in product List\n    dispatch(fetchProduct(id));\n  }, [dispatch, id]);\n\n  useLayoutEffect(() => {\n    window.scrollTo(0, 0);\n  }, []);\n\n  const handleAddToCart = () => {\n    dispatch(AddCartItem(id));\n    navigate('/cart');\n  };\n\n  const handleClickBack = () => {\n    let returnUrl = '/shop';\n\n    if (location?.state?.from) {\n      returnUrl = location.state.from;\n    }\n\n    navigate(returnUrl, { state: { ...location.state, from: null } });\n  };\n\n  const renderProduct = () => {\n    if (error) {\n      return <div>Error loading product data</div>;\n    }\n    if (!isLoaded) {\n      return <div>Loading</div>;\n    }\n\n    const product = products.find((p) => p.id === id);\n\n    return (\n      <>\n        <div className='pd-details-image-left'>\n          <img alt='skylight-photography' className='pd-details-image' src={product.imageWmarkedMedPublicURL} />\n        </div>\n        <div className='pd-details-right'>\n          <h4 className='pd-collection'>{collectionMap[product.collectionId]}</h4>\n          <h1 className='pd-title'>{product.title}</h1>\n          <h2 className='pd-price'>£{product.priceInPounds}</h2>\n          <p className='pd-description'>{product.description}</p>\n\n          <button onClick={handleAddToCart} className='grey-blue-button pd-add-to-basket-button'>\n            Add to Basket\n          </button>\n          <p4 className='pd-share-this'>Share this</p4>\n          <div className='pd-share-this-buttons'>\n            {/* <img src='/images/linked-in-logo-footer.png' className='pd-linked-logo' alt='linked-in-logo' /> */}\n            <a\n              target='_blank'\n              rel='noreferrer'\n              href={`https://twitter.com/intent/tweet?url=https://skylightphotography.co.uk/photo/${product.id}&text=Check+out+this+awesome+photo+from+Skylight+Photography!`}\n            >\n              <img src='/images/twitter-logo-footer.png' className='pd-linked-logo' alt='twitter-logo' />\n            </a>\n            <a\n              target='_blank'\n              rel='noreferrer'\n              href={`https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fskylightphotography.co.uk%2Fphoto%2F${product.id}`}\n            >\n              <img src='/images/facebook-logo-footer.png' className='pd-linked-logo' alt='facebook-logo' />\n            </a>\n          </div>\n        </div>\n      </>\n    );\n  };\n\n  return (\n    <div>\n      <NavBar />\n      <div className='pd-back-arrow-container'>\n        <div className='pd-back-arrow' onClick={handleClickBack}>\n          <svg width='41' height='30' viewBox='0 0 41 30' fill='none' xmlns='http://www.w3.org/2000/svg'>\n            <path\n              d='M0.585786 13.5858C-0.195262 14.3668 -0.195262 15.6332 0.585786 16.4142L13.3137 29.1421C14.0948 29.9232 15.3611 29.9232 16.1421 29.1421C16.9232 28.3611 16.9232 27.0948 16.1421 26.3137L4.82843 15L16.1421 3.68629C16.9232 2.90524 16.9232 1.63891 16.1421 0.857864C15.3611 0.0768158 14.0948 0.0768158 13.3137 0.857864L0.585786 13.5858ZM41 13L2 13V17L41 17V13Z'\n              fill='#8D8A8A'\n            />\n          </svg>\n          Back\n        </div>\n      </div>\n      <div className='pd-details-container'>{renderProduct()}</div>\n      <MailingList />\n      <Footer />\n    </div>\n  );\n};\n\nexport default PhotoDetailsPage;\n","// import React from 'react';\nimport { useSelector } from 'react-redux';\n\nimport useProducts from '../hooks/useProducts';\n\nconst priceToPounds = (pence) => {\n  const array = Array.from(String(pence));\n  array.splice(array.length - 2, 0, '.');\n\n  return +array.join('');\n};\n\n//Expected output: {items, total}\nconst useCart = () => {\n  const { products, error, isLoaded } = useProducts();\n  const cart = useSelector((state) => state.cart);\n\n  let missingProduct = false;\n\n  const cartItemsWithInfo = cart.itemIds.map((itemId) => {\n    const prod = products.find((p) => p.id === itemId);\n\n    if (!prod) {\n      missingProduct = true;\n    }\n\n    return { ...prod };\n  });\n\n  if (missingProduct && !isLoaded) {\n    return { isLoaded, cartItems: [] };\n  }\n\n  if (missingProduct && isLoaded) {\n    return { error: 'Could not find all products in cart' };\n  }\n\n  let cartTotal = cartItemsWithInfo.reduce((accumulator, current) => accumulator + Number(current.priceInPence), 0);\n  cartTotal = priceToPounds(cartTotal);\n\n  return { cartItems: cartItemsWithInfo, cartTotal, error, isLoaded };\n};\n\nexport default useCart;\n","import React, { useLayoutEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { useNavigate } from 'react-router-dom';\n// import useProducts from '../../hooks/useProducts';\nimport { DeleteCartItem } from '../../actions/cartActions';\nimport NavBar from '../../components/NavBar';\nimport Footer from '../../components/Footer';\nimport useCart from '../../hooks/useCart';\nimport useCollections from '../../hooks/useCollections';\nimport useScrollToPrevious from '../../hooks/useScrollToPrevious';\n\nimport './index.css';\n\nconst CartPage = () => {\n  const { cartItems, cartTotal, error, isLoaded: isCartLoaded } = useCart();\n  useScrollToPrevious();\n  const { collectionMap, isLoaded: isCollectionsLoaded } = useCollections();\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n\n  const isLoaded = isCartLoaded && isCollectionsLoaded;\n\n  useLayoutEffect(() => {\n    window.scrollTo(0, 0);\n  }, []);\n\n  if (error) {\n    return <div>Error fetching cart data!</div>;\n  }\n\n  const handlePhotoClick = (item) => {\n    const scrollPos = window.scrollY || window.scrollTop || document.getElementsByTagName('html')[0].scrollTop;\n    navigate(`/photo/${item.id}`, { state: { from: '/cart', scrollPos } });\n  };\n\n  const renderCartTableBody = () => {\n    if (!isLoaded) {\n      return <div>Loading cart data!</div>;\n    }\n\n    return cartItems.map((item) => {\n      return (\n        <tr className='cp-cart-table-row' key={item.id}>\n          <td\n            className='cp-photo-cell'\n            onClick={() => {\n              handlePhotoClick(item);\n            }}\n          >\n            <img className='cp-photo-img' alt='cart-item' src={`${item.imageWmarkedMedSquarePublicURL}`} />\n            <div className='cp-photo-cell-info'>\n              <div className='cp-photo-title'>{item.title}</div>\n              <div className='cp-photo-collection-name'>{collectionMap[item.collectionId]}</div>\n            </div>\n          </td>\n          <td className='text-center cp-cell'>£{item.priceInPounds}</td>\n          <td className='text-center cp-cell'>\n            <img\n              alt='del-icon'\n              src='/images/del-icon.png'\n              onClick={() => {\n                dispatch(DeleteCartItem(item.id));\n              }}\n            />\n          </td>\n        </tr>\n      );\n    });\n  };\n\n  // return (\n  //   <div>\n  //     {renderCartItems()}\n  //     Cart total: {cartTotal}\n  //     <br />\n  //     <Link to='/payment'>Continue to purchase</Link>\n  //   </div>\n  // );\n\n  return (\n    <div className='cp-container'>\n      <NavBar />\n      <div className='cp'>\n        <div className='cp-title'>Shopping Cart</div>\n        <div className='cp-cart-info-container'>\n          <table className='cp-table'>\n            <thead className='cp-thead'>\n              <tr>\n                <th className='cp-th cp-th-photo text-left'>Photo</th>\n                <th className='cp-th cp-th-price text-center'>Price</th>\n                <th className='cp-th'>Action</th>\n              </tr>\n            </thead>\n            <tbody>{renderCartTableBody()}</tbody>\n          </table>\n          <div className='cp-order-summary'>\n            <div className='cp-order-summary-inner-content'>\n              <div className='cp-order-summary-title'>Order Summary</div>\n              <div className='cp-order-summary-subtotal'>\n                <div className='cb-order-summary-subtotal-title'>Subtotal</div>\n                <div className='cb-order-summary-subtotal-price'>£{cartTotal}</div>\n              </div>\n              <div className='cp-order-summary-total'>\n                <div className='cb-order-summary-total-title'>Total</div>\n                <div className='cb-order-summary-total-price'>£{cartTotal}</div>\n              </div>\n            </div>\n            <button\n              className='grey-blue-button cp-order-checkout-button'\n              onClick={() => {\n                navigate('/checkout');\n              }}\n            >\n              Checkout\n            </button>\n          </div>\n        </div>\n      </div>\n      <Footer />\n    </div>\n  );\n};\n\nexport default CartPage;\n","import React, { useState } from 'react';\nimport { Link, Navigate } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\nimport NavBar from '../../components/NavBar';\n\nimport { login } from '../../actions/authActions';\n\nimport './index.css';\n\nconst LoginPage = () => {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  // const navigate = useNavigate();\n  const isLoggedIn = useSelector((state) => state.auth.isLoggedIn);\n  // const { isLoading, errorMessage } = useSelector((state) => state.login);\n  const dispatch = useDispatch();\n\n  // dispatch(logout());\n\n  const onLoginSubmit = (e) => {\n    e.preventDefault();\n    dispatch(login(email, password));\n  };\n\n  if (isLoggedIn) {\n    return <Navigate to='/' />;\n  }\n\n  return (\n    <div className='lip-container'>\n      <NavBar />\n      <div className='lip'>\n        <img className='lip-image' alt='skylight-photography' src='/images/login-page-img.png' />\n        <form class='lip-form' onSubmit={onLoginSubmit}>\n          <div className='lip-title'>Login</div>\n          <div className='lip-email-input-container'>\n            <label className='lip-label' htmlFor='emailInput'>\n              <svg width='21' height='17' viewBox='0 0 21 17' fill='none' xmlns='http://www.w3.org/2000/svg'>\n                <path\n                  d='M17.9785 0.419922H3.97852C3.18287 0.419922 2.4198 0.735992 1.8572 1.2986C1.29459 1.86121 0.978516 2.62427 0.978516 3.41992V13.4199C0.978516 14.2156 1.29459 14.9786 1.8572 15.5412C2.4198 16.1039 3.18287 16.4199 3.97852 16.4199H17.9785C18.7742 16.4199 19.5372 16.1039 20.0998 15.5412C20.6624 14.9786 20.9785 14.2156 20.9785 13.4199V3.41992C20.9785 2.62427 20.6624 1.86121 20.0998 1.2986C19.5372 0.735992 18.7742 0.419922 17.9785 0.419922V0.419922ZM17.3085 2.41992L10.9785 7.16992L4.64852 2.41992H17.3085ZM17.9785 14.4199H3.97852C3.7133 14.4199 3.45895 14.3146 3.27141 14.127C3.08387 13.9395 2.97852 13.6851 2.97852 13.4199V3.66992L10.3785 9.21992C10.5516 9.34974 10.7621 9.41992 10.9785 9.41992C11.1949 9.41992 11.4054 9.34974 11.5785 9.21992L18.9785 3.66992V13.4199C18.9785 13.6851 18.8732 13.9395 18.6856 14.127C18.4981 14.3146 18.2437 14.4199 17.9785 14.4199Z'\n                  fill='black'\n                />\n              </svg>\n            </label>\n            <input\n              id='lipemailInput'\n              placeholder='E-mail Address'\n              type='email'\n              value={email}\n              onChange={(e) => {\n                setEmail(e.target.value);\n              }}\n            />\n          </div>\n          <div className='lip-password-input-container'>\n            <label className='lip-label' htmlFor='passwordInput'>\n              <svg width='18' height='24' viewBox='0 0 18 24' fill='none' xmlns='http://www.w3.org/2000/svg'>\n                <path\n                  d='M17.1973 10.8447H15.5371V4.50098C15.5371 2.49873 14.1382 0.875977 12.4121 0.875977H6.35742C4.63135 0.875977 3.23242 2.49873 3.23242 4.50098V10.8447H1.57227C1.14014 10.8447 0.791016 11.2497 0.791016 11.751V22.626C0.791016 23.1272 1.14014 23.5322 1.57227 23.5322H17.1973C17.6294 23.5322 17.9785 23.1272 17.9785 22.626V11.751C17.9785 11.2497 17.6294 10.8447 17.1973 10.8447ZM10.0684 17.5566V19.0576C10.0684 19.1822 9.98047 19.2842 9.87305 19.2842H8.89648C8.78906 19.2842 8.70117 19.1822 8.70117 19.0576V17.5566C8.49964 17.3888 8.34922 17.1511 8.27156 16.8778C8.19389 16.6045 8.193 16.3096 8.269 16.0357C8.345 15.7617 8.49397 15.5228 8.69447 15.3533C8.89498 15.1838 9.13667 15.0925 9.38477 15.0925C9.63286 15.0925 9.87455 15.1838 10.0751 15.3533C10.2756 15.5228 10.4245 15.7617 10.5005 16.0357C10.5765 16.3096 10.5756 16.6045 10.498 16.8778C10.4203 17.1511 10.2699 17.3888 10.0684 17.5566ZM13.7793 10.8447H4.99023V4.50098C4.99023 3.62588 5.60303 2.91504 6.35742 2.91504H12.4121C13.1665 2.91504 13.7793 3.62588 13.7793 4.50098V10.8447Z'\n                  fill='black'\n                />\n              </svg>\n            </label>\n            <input\n              id='lippasswordInput'\n              type='password'\n              placeholder='Password'\n              value={password}\n              onChange={(e) => {\n                setPassword(e.target.value);\n              }}\n            />\n          </div>\n          <button type='submit' className='orange-brown-button lip-login-button'>\n            Login\n          </button>\n          <br />\n          <div className='lip-signup-link-container'>\n            <span className='lip-signup-pretext'>Don't have an account?</span>\n            <span className='lip-signup-link'>\n              <Link to='/signup'>Signup</Link>\n            </span>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default LoginPage;\n","import React, { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link, useNavigate, Navigate } from 'react-router-dom';\nimport { signup } from '../../actions/authActions';\nimport NavBar from '../../components/NavBar';\n\nimport './index.css';\n\nconst SignupPage = () => {\n  const isLoggedIn = useSelector((state) => state.auth.isLoggedIn);\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [repeatPassword, setRepeatPassword] = useState('');\n\n  if (isLoggedIn) {\n    return <Navigate to='/' />;\n  }\n\n  const onSignupSubmit = async (e) => {\n    e.preventDefault();\n    const isSignedup = await dispatch(signup(name, email, password));\n\n    if (isSignedup) {\n      navigate('/login');\n    }\n  };\n\n  return (\n    <div className='sup-container'>\n      <NavBar />\n      <div className='sup'>\n        <form class='sup-form' onSubmit={onSignupSubmit}>\n          <div className='sup-title'>Sign Up</div>\n\n          <div className='sup-name-input-container sup-input-container'>\n            <label className='sup-label' htmlFor='passwordInput'>\n              <svg width='20' height='23' viewBox='0 0 20 23' fill='none' xmlns='http://www.w3.org/2000/svg'>\n                <path\n                  d='M9.7959 11.7812C12.5573 11.7812 14.7959 9.54267 14.7959 6.78125C14.7959 4.01983 12.5573 1.78125 9.7959 1.78125C7.03447 1.78125 4.7959 4.01983 4.7959 6.78125C4.7959 9.54267 7.03447 11.7812 9.7959 11.7812Z'\n                  stroke='black'\n                  stroke-width='2'\n                />\n                <path\n                  d='M14.796 13.7813H15.148C15.879 13.7815 16.5849 14.0486 17.1329 14.5325C17.6809 15.0164 18.0333 15.6838 18.124 16.4093L18.515 19.5333C18.5501 19.8147 18.525 20.1004 18.4414 20.3714C18.3577 20.6424 18.2173 20.8924 18.0296 21.105C17.8419 21.3176 17.6111 21.4879 17.3525 21.6045C17.094 21.7211 16.8136 21.7813 16.53 21.7812H3.06196C2.77834 21.7813 2.49795 21.7211 2.2394 21.6045C1.98086 21.4879 1.75006 21.3176 1.56233 21.105C1.37461 20.8924 1.23425 20.6424 1.15056 20.3714C1.06688 20.1004 1.04179 19.8147 1.07696 19.5333L1.46696 16.4093C1.55766 15.6835 1.91037 15.0158 2.45879 14.5319C3.00721 14.0479 3.71354 13.781 4.44496 13.7813H4.79596'\n                  stroke='black'\n                  stroke-width='2'\n                  stroke-linecap='round'\n                  stroke-linejoin='round'\n                />\n              </svg>\n            </label>\n            <input\n              className='supInput'\n              type='text'\n              placeholder='Name'\n              value={name}\n              onChange={(e) => {\n                setName(e.target.value);\n              }}\n            />\n          </div>\n\n          <div className='sup-input-container'>\n            <label className='sup-label' htmlFor='emailInput'>\n              <svg width='21' height='17' viewBox='0 0 21 17' fill='none' xmlns='http://www.w3.org/2000/svg'>\n                <path\n                  d='M17.9785 0.419922H3.97852C3.18287 0.419922 2.4198 0.735992 1.8572 1.2986C1.29459 1.86121 0.978516 2.62427 0.978516 3.41992V13.4199C0.978516 14.2156 1.29459 14.9786 1.8572 15.5412C2.4198 16.1039 3.18287 16.4199 3.97852 16.4199H17.9785C18.7742 16.4199 19.5372 16.1039 20.0998 15.5412C20.6624 14.9786 20.9785 14.2156 20.9785 13.4199V3.41992C20.9785 2.62427 20.6624 1.86121 20.0998 1.2986C19.5372 0.735992 18.7742 0.419922 17.9785 0.419922V0.419922ZM17.3085 2.41992L10.9785 7.16992L4.64852 2.41992H17.3085ZM17.9785 14.4199H3.97852C3.7133 14.4199 3.45895 14.3146 3.27141 14.127C3.08387 13.9395 2.97852 13.6851 2.97852 13.4199V3.66992L10.3785 9.21992C10.5516 9.34974 10.7621 9.41992 10.9785 9.41992C11.1949 9.41992 11.4054 9.34974 11.5785 9.21992L18.9785 3.66992V13.4199C18.9785 13.6851 18.8732 13.9395 18.6856 14.127C18.4981 14.3146 18.2437 14.4199 17.9785 14.4199Z'\n                  fill='black'\n                />\n              </svg>\n            </label>\n            <input\n              id='supemailInput'\n              className='supInput'\n              placeholder='E-mail Address'\n              type='email'\n              value={email}\n              onChange={(e) => {\n                setEmail(e.target.value);\n              }}\n            />\n          </div>\n          <div className='sup-input-container'>\n            <label className='sup-label' htmlFor='passwordInput'>\n              <svg width='18' height='24' viewBox='0 0 18 24' fill='none' xmlns='http://www.w3.org/2000/svg'>\n                <path\n                  d='M17.1973 10.8447H15.5371V4.50098C15.5371 2.49873 14.1382 0.875977 12.4121 0.875977H6.35742C4.63135 0.875977 3.23242 2.49873 3.23242 4.50098V10.8447H1.57227C1.14014 10.8447 0.791016 11.2497 0.791016 11.751V22.626C0.791016 23.1272 1.14014 23.5322 1.57227 23.5322H17.1973C17.6294 23.5322 17.9785 23.1272 17.9785 22.626V11.751C17.9785 11.2497 17.6294 10.8447 17.1973 10.8447ZM10.0684 17.5566V19.0576C10.0684 19.1822 9.98047 19.2842 9.87305 19.2842H8.89648C8.78906 19.2842 8.70117 19.1822 8.70117 19.0576V17.5566C8.49964 17.3888 8.34922 17.1511 8.27156 16.8778C8.19389 16.6045 8.193 16.3096 8.269 16.0357C8.345 15.7617 8.49397 15.5228 8.69447 15.3533C8.89498 15.1838 9.13667 15.0925 9.38477 15.0925C9.63286 15.0925 9.87455 15.1838 10.0751 15.3533C10.2756 15.5228 10.4245 15.7617 10.5005 16.0357C10.5765 16.3096 10.5756 16.6045 10.498 16.8778C10.4203 17.1511 10.2699 17.3888 10.0684 17.5566ZM13.7793 10.8447H4.99023V4.50098C4.99023 3.62588 5.60303 2.91504 6.35742 2.91504H12.4121C13.1665 2.91504 13.7793 3.62588 13.7793 4.50098V10.8447Z'\n                  fill='black'\n                />\n              </svg>\n            </label>\n            <input\n              id='suppasswordInput'\n              className='supInput'\n              type='password'\n              placeholder='Password'\n              value={password}\n              onChange={(e) => {\n                setPassword(e.target.value);\n              }}\n            />\n          </div>\n          <div className='sup-input-container'>\n            <label className='sup-label' htmlFor='passwordInput'>\n              <svg width='19' height='24' viewBox='0 0 19 24' fill='none' xmlns='http://www.w3.org/2000/svg'>\n                <path\n                  d='M17.3232 10.8423H15.6631V4.49854C15.6631 2.49629 14.2642 0.873535 12.5381 0.873535H6.4834C4.75732 0.873535 3.3584 2.49629 3.3584 4.49854V10.8423H1.69824C1.26611 10.8423 0.916992 11.2473 0.916992 11.7485V22.6235C0.916992 23.1248 1.26611 23.5298 1.69824 23.5298H17.3232C17.7554 23.5298 18.1045 23.1248 18.1045 22.6235V11.7485C18.1045 11.2473 17.7554 10.8423 17.3232 10.8423ZM5.11621 4.49854C5.11621 3.62344 5.729 2.9126 6.4834 2.9126H12.5381C13.2925 2.9126 13.9053 3.62344 13.9053 4.49854V10.8423H5.11621V4.49854ZM16.3467 21.4907H2.6748V12.8813H16.3467V21.4907ZM8.82715 17.5542V19.0552C8.82715 19.1798 8.91504 19.2817 9.02246 19.2817H9.99902C10.1064 19.2817 10.1943 19.1798 10.1943 19.0552V17.5542C10.3959 17.3864 10.5463 17.1487 10.624 16.8753C10.7016 16.602 10.7025 16.3072 10.6265 16.0332C10.5505 15.7593 10.4015 15.5203 10.201 15.3509C10.0005 15.1814 9.75883 15.0901 9.51074 15.0901C9.26265 15.0901 9.02096 15.1814 8.82045 15.3509C8.61995 15.5203 8.47097 15.7593 8.39497 16.0332C8.31897 16.3072 8.31987 16.602 8.39753 16.8753C8.4752 17.1487 8.62562 17.3864 8.82715 17.5542Z'\n                  fill='black'\n                />\n              </svg>\n            </label>\n            <input\n              id='suppasswordInput'\n              className='supInput'\n              type='password'\n              placeholder='Repeat password'\n              value={repeatPassword}\n              onChange={(e) => {\n                setRepeatPassword(e.target.value);\n              }}\n            />\n          </div>\n          <button type='submit' className='grey-blue-button sup-login-button'>\n            Sign up\n          </button>\n          <br />\n          <div className='sup-signup-link-container'>\n            <span className='sup-signup-pretext'>Already have an account?</span>\n            <span className='sup-signup-link'>\n              <Link to='/login'>Login</Link>\n            </span>\n          </div>\n        </form>\n        <img className='sup-image' alt='skylight-photography' src='/images/signup-page-img1.png' />\n      </div>\n    </div>\n  );\n};\n\n// return (\n//   <div className='sup-container'>\n//     <NavBar />\n//     <form onSubmit={onSignupSubmit}>\n//       <div>\n//         <label htmlFor='firstName'>First name</label>\n//         <input\n//           id='firstName'\n//           type='text'\n//           value={firstName}\n//           onChange={(e) => {\n//             setFirstName(e.target.value);\n//           }}\n//         />\n//       </div>\n//       <div>\n//         <label htmlFor='emailInput'>Surname</label>\n//         <input\n//           id='surname'\n//           type='text'\n//           value={surname}\n//           onChange={(e) => {\n//             setSurname(e.target.value);\n//           }}\n//         />\n//       </div>\n//       <div>\n//         <label htmlFor='emailInput'>Email</label>\n//         <input\n//           id='emailInput'\n//           type='email'\n//           value={email}\n//           onChange={(e) => {\n//             setEmail(e.target.value);\n//           }}\n//         />\n//       </div>\n//       <div>\n//         <label htmlFor='passwordInput'>Password</label>\n//         <input\n//           id='passwordInput'\n//           type='password'\n//           value={password}\n//           onChange={(e) => {\n//             setPassword(e.target.value);\n//           }}\n//         />\n//       </div>\n//       <button type='submit'>Login</button>\n//     </form>\n//   </div>\n// );\n// };\n\nexport default SignupPage;\n","import authHeader from './helpers.js/authHeader';\nimport errorParser from './helpers.js/errorParser';\n\nconst API_URL = 'https://skylight-photography.herokuapp.com/shop/';\n\nconst startOrder = async (itemIds) => {\n  const requestOptions = {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n      ...authHeader(),\n    },\n    body: JSON.stringify({\n      itemIds,\n    }),\n  };\n  const res = await fetch(`${API_URL}startOrder`, requestOptions);\n\n  const data = await res.json();\n\n  errorParser(res, data);\n\n  return { clientSecret: data.clientSecret, orderId: data.orderId };\n};\n\nconst fetchOrders = async () => {\n  const requestOptions = {\n    method: 'GET',\n    headers: {\n      ...authHeader(),\n    },\n  };\n\n  const res = await fetch(`${API_URL}myOrders`, requestOptions);\n\n  const data = await res.json();\n\n  errorParser(res, data);\n\n  return data.orders;\n};\n\nconst fetchOrder = async (orderId) => {\n  const requestOptions = {\n    method: 'GET',\n    headers: {\n      ...authHeader(),\n    },\n  };\n\n  const res = await fetch(`${API_URL}myOrder/${orderId}`, requestOptions);\n\n  const data = await res.json();\n\n  errorParser(res, data);\n\n  return data.order;\n};\n\nconst fetchSecureImage = async (endpoint) => {\n  const requestOptions = {\n    method: 'GET',\n    headers: {\n      ...authHeader(),\n    },\n  };\n\n  const res = await fetch(`${API_URL}/${endpoint}`, requestOptions);\n\n  errorParser(res, { message: 'Could not download image' });\n\n  const blob = await res.blob();\n\n  return URL.createObjectURL(blob);\n};\n\nconst ordersApi = {\n  startOrder,\n  fetchOrders,\n  fetchOrder,\n  fetchSecureImage,\n};\n\nexport default ordersApi;\n","import React from 'react';\nimport { CardNumberElement, CardExpiryElement, CardCvcElement, useElements, useStripe } from '@stripe/react-stripe-js';\nimport { useNavigate, Link } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\nimport ordersApi from '../../api/ordersApi';\nimport useCart from '../../hooks/useCart';\nimport { EmptyCart } from '../../actions/cartActions';\n\nimport NavBar from '../../components/NavBar';\nimport './index.css';\nimport useCollections from '../../hooks/useCollections';\n\nconst PaymentPage = () => {\n  const elements = useElements();\n  const stripe = useStripe();\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  const { cartItems, cartTotal, isLoaded } = useCart();\n  const { collectionMap } = useCollections();\n\n  const inputStyle = {\n    fontSize: '20px',\n    '::placeholder': {\n      color: '#B1ADAD',\n    },\n  };\n\n  if (!isLoaded) {\n    return <div>Loading data!</div>;\n  }\n\n  const cartItemIds = cartItems.map((item) => item.id);\n\n  const renderOrderSummaryItems = () =>\n    cartItems.map((cartItem) => (\n      <div className='pp-order-summary-item' key={cartItem.id}>\n        <img className='pp-summary-item-img' alt={cartItem.title} src={cartItem.imageWmarkedMedSquarePublicURL} />\n        <div className='pp-summary-item-titleandcollection'>\n          <div className='pp-summary-item-title'>{cartItem.title}</div>\n          <div className='pp-summary-item-collection'>{collectionMap[cartItem.collectionId]}</div>\n        </div>\n        <div className='pp-summary-item-price'>£{cartItem.priceInPounds}</div>\n      </div>\n    ));\n  const onPaymentSubmit = async (e) => {\n    console.log('t');\n\n    e.preventDefault();\n    if (!stripe || !elements) {\n      return;\n    }\n\n    try {\n      const { clientSecret, orderId } = await ordersApi.startOrder(cartItemIds);\n\n      const cardNumberElement = elements.getElement(CardNumberElement);\n      console.log(cardNumberElement);\n\n      const { error } = await stripe.confirmCardPayment(clientSecret, {\n        payment_method: {\n          card: cardNumberElement,\n        },\n      });\n      // const {error, paymentMethod} = await stripe?.createPaymentMethod({\n      //   type: 'card',\n      //   card: cardNumberElement,  // pass as card\n      //   billing_details: {\n      //     name, // name of the user\n      //   },\n      // });\n\n      if (!error) {\n        dispatch(EmptyCart());\n        navigate(`/order/success/${orderId}`);\n      }\n    } catch (error) {\n      //TODO: Add error handling. error component to display error at top of payment page????\n      //Would need to have state to store error. General error state or state for payment page containing errors?\n      console.log(error);\n    }\n  };\n\n  return (\n    <>\n      <NavBar />\n      <div className='pp-container'>\n        <h1 className='pp-title-checkout'>Checkout</h1>\n        <div className='pp-payment-container'>\n          <div className='pp-form-container'>\n            <h2 className='pp-subtitle'>Payment Method</h2>\n            <p className='pp-description'>\n              All transactions are secure and your credit card information is never stored\n            </p>\n            <div className='payment-option'>\n              {radioSelected}\n              <div className='payment-option-1-text'>Credit/Debit Card</div>\n              <div className='payment-option-1-icons'>\n                <img className='payment-option-1-visa-icon' alt='visa icon' src='/images/VisaIcon.png' />\n                <img\n                  className='payment-option-1-mastercard-icon'\n                  alt='mastercard icon'\n                  src='/images/mastercardIcon.svg'\n                />\n              </div>\n            </div>\n            <form className='payment-form' onSubmit={onPaymentSubmit}>\n              {/* <label htmlFor='card-element'>Card</label> */}\n              <div className='pp-stripe-order-row-1'>\n                <CardNumberElement\n                  className='stripe-element'\n                  options={{\n                    style: {\n                      base: inputStyle,\n                    },\n                    placeholder: 'Card Number',\n                  }}\n                />\n              </div>\n              <div className='pp-stripe-order-row-2'>\n                <CardExpiryElement\n                  className='stripe-element pp-stripe-card-expiry'\n                  options={{\n                    style: {\n                      base: inputStyle,\n                    },\n                  }}\n                />\n\n                <CardCvcElement\n                  className='stripe-element pp-stripe-card-cvc'\n                  options={{\n                    style: {\n                      base: inputStyle,\n                    },\n                  }}\n                />\n              </div>\n              <button type='submit' id='pp-place-order-button' className='orange-brown-button'>\n                Place Order\n              </button>\n              <Link to='/shop' className='pp-return-to-store'>\n                <div className='pp-back-arrow-returnstore'>{backArrow}</div>Return to Store\n              </Link>\n            </form>\n          </div>\n          <div className='pp-order-summary'>\n            <div className='pp-order-summary-title-container'>\n              <h2 className='pp-order-summary-title'>Your Order</h2>\n              <Link to='/cart' className='pp-order-summary-edit-text'>\n                (Edit)\n              </Link>\n            </div>\n            {renderOrderSummaryItems()}\n            <div className='pp-order-summary-total-info'>\n              <div className='pp-order-summary-total-title'>Total</div>\n              <div className='pp-order-summary-total-value'>£{cartTotal}</div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nconst backArrow = (\n  <svg width='14' height='10' viewBox='0 0 14 10' fill='none' xmlns='http://www.w3.org/2000/svg'>\n    <path\n      fill-rule='evenodd'\n      clip-rule='evenodd'\n      d='M14.0009 5.09731C14.0009 4.9647 13.9482 4.83753 13.8544 4.74376C13.7607 4.64999 13.6335 4.59731 13.5009 4.59731H1.70789L4.85489 1.45131C4.90138 1.40482 4.93826 1.34963 4.96342 1.28889C4.98858 1.22816 5.00153 1.16306 5.00153 1.09731C5.00153 1.03157 4.98858 0.966467 4.96342 0.905728C4.93826 0.844988 4.90138 0.789799 4.85489 0.743311C4.80841 0.696823 4.75322 0.659947 4.69248 0.634788C4.63174 0.609629 4.56664 0.59668 4.50089 0.59668C4.43515 0.59668 4.37005 0.609629 4.30931 0.634788C4.24857 0.659947 4.19338 0.696823 4.14689 0.743311L0.146894 4.74331C0.100331 4.78976 0.0633877 4.84493 0.0381812 4.90568C0.0129748 4.96642 0 5.03154 0 5.09731C0 5.16308 0.0129748 5.2282 0.0381812 5.28894C0.0633877 5.34969 0.100331 5.40487 0.146894 5.45131L4.14689 9.45131C4.19338 9.4978 4.24857 9.53468 4.30931 9.55983C4.37005 9.58499 4.43515 9.59794 4.50089 9.59794C4.56664 9.59794 4.63174 9.58499 4.69248 9.55983C4.75322 9.53468 4.80841 9.4978 4.85489 9.45131C4.90138 9.40482 4.93826 9.34963 4.96342 9.28889C4.98858 9.22816 5.00153 9.16305 5.00153 9.09731C5.00153 9.03157 4.98858 8.96647 4.96342 8.90573C4.93826 8.84499 4.90138 8.7898 4.85489 8.74331L1.70789 5.59731H13.5009C13.6335 5.59731 13.7607 5.54463 13.8544 5.45086C13.9482 5.3571 14.0009 5.22992 14.0009 5.09731Z'\n      fill='black'\n    />\n  </svg>\n);\n\nconst radioSelected = (\n  <svg width='31' height='30' viewBox='0 0 31 30' fill='none' xmlns='http://www.w3.org/2000/svg'>\n    <path\n      d='M15.918 6.25C11.0942 6.25 7.16797 10.1763 7.16797 15C7.16797 19.8237 11.0942 23.75 15.918 23.75C20.7417 23.75 24.668 19.8237 24.668 15C24.668 10.1763 20.7417 6.25 15.918 6.25ZM15.918 21.25C12.4717 21.25 9.66797 18.4462 9.66797 15C9.66797 11.5538 12.4717 8.75 15.918 8.75C19.3642 8.75 22.168 11.5538 22.168 15C22.168 18.4462 19.3642 21.25 15.918 21.25Z'\n      fill='black'\n    />\n    <path\n      d='M15.918 11.25C13.8842 11.25 12.168 12.9663 12.168 15C12.168 17.0338 13.8842 18.75 15.918 18.75C17.9517 18.75 19.668 17.0338 19.668 15C19.668 12.9663 17.9517 11.25 15.918 11.25Z'\n      fill='black'\n    />\n  </svg>\n);\n\nexport default PaymentPage;\n","import { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { fetchOrderList } from '../actions/orderActions';\n\n//Purpose is to ensure product list is fetched from server and added to redux state\n//Maybe add optional parm for fetchNewList, if true then will fetch product list from backend and update state\n//first time the component mounts (could be usefull for cart)\nconst useOrders = () => {\n  const [orderItems, setOrderItems] = useState([]);\n  const { orders, isLoading, isLoaded, error } = useSelector((state) => state.orderList);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (!isLoading && !isLoaded) {\n      dispatch(fetchOrderList());\n    }\n    // eslint-disable-next-line\n  }, []);\n\n  useEffect(() => {\n    if (!orders) {\n      return;\n    }\n\n    const newOrderItems = [];\n\n    orders.forEach((order) => {\n      newOrderItems.push(...order.orderItems);\n    });\n\n    setOrderItems(newOrderItems);\n  }, [orders]);\n\n  return { orders, orderItems, isLoaded, error };\n};\n\nexport default useOrders;\n","import {\n  ORDER_LIST_REQUEST,\n  ORDER_LIST_FAIL,\n  ORDER_LIST_SUCCESS,\n  ORDER_FETCH_REQUEST,\n  ORDER_FETCH_FAIL,\n  ORDER_FETCH_SUCCESS,\n} from './types';\nimport ordersApi from '../api/ordersApi';\n\n//Fetches list of orders from backend, orderList.orders is set to result\nexport const fetchOrderList = () => async (dispatch, getState) => {\n  try {\n    dispatch({\n      type: ORDER_LIST_REQUEST,\n    });\n\n    const orderList = await ordersApi.fetchOrders();\n\n    dispatch({\n      type: ORDER_LIST_SUCCESS,\n      payload: orderList,\n    });\n  } catch (error) {\n    dispatch({\n      type: ORDER_LIST_FAIL,\n      payload: error,\n    });\n  }\n};\n\n//Will fetch order from backend and put to orderList\nexport const fetchOrder = (id) => async (dispatch) => {\n  try {\n    dispatch({\n      type: ORDER_FETCH_REQUEST,\n    });\n\n    const order = await ordersApi.fetchOrder(id);\n\n    dispatch({\n      type: ORDER_FETCH_SUCCESS,\n      payload: order,\n    });\n  } catch (error) {\n    dispatch({\n      type: ORDER_FETCH_FAIL,\n      payload: error,\n    });\n  }\n};\n","import React, { useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { fetchOrder } from '../../actions/orderActions';\nimport { useDispatch } from 'react-redux';\nimport useOrders from '../../hooks/useOrders';\n\nimport NavBar from '../../components/NavBar';\n\nconst OrderCompletePage = () => {\n  const { orders } = useOrders();\n  const orderId = useParams().orderId;\n  const dispatch = useDispatch();\n\n  const order = orders?.find((order) => order.id === +orderId);\n\n  useEffect(() => {\n    dispatch(fetchOrder(orderId));\n\n    // eslint-disable-next-line\n  }, [orderId]);\n\n  return (\n    <>\n      <NavBar />\n      <div>\n        {!order && <div>Loading order info!</div>}\n\n        {order && (\n          <>\n            <div>Payment Success!</div>\n            <div>Order #{order.id}</div>\n            <div>Total: £{order.totalPriceInPence / 100}</div>{' '}\n          </>\n        )}\n      </div>\n    </>\n  );\n};\n\nexport default OrderCompletePage;\n","import { useState, useEffect } from 'react';\r\nimport ordersApi from '../../api/ordersApi';\r\n\r\nimport './ImageDownload.css';\r\n\r\nconst ImageDownload = ({ endpoint, paddingBottom }) => {\r\n  const [imageObjectURL, setImageObjectURL] = useState(null);\r\n\r\n  useEffect(() => {\r\n    let objectURL;\r\n\r\n    const fetchImage = async () => {\r\n      objectURL = await ordersApi.fetchSecureImage(endpoint);\r\n      setImageObjectURL(objectURL);\r\n    };\r\n\r\n    fetchImage();\r\n\r\n    return () => {\r\n      URL.revokeObjectURL(objectURL);\r\n    };\r\n  }, [endpoint]);\r\n\r\n  return <div style={{ backgroundImage: `url('${imageObjectURL}')`, paddingBottom }} className='mpp-photo-img' />;\r\n};\r\n\r\nexport default ImageDownload;\r\n","import React from 'react';\nimport useOrders from '../../hooks/useOrders';\nimport NavBar from '../../components/NavBar';\nimport MailingList from '../../components/MailingList';\nimport Footer from '../../components/Footer';\nimport ordersApi from '../../api/ordersApi';\nimport ImageDownload from '../../components/ImageDownload';\n\nimport './index.css';\n\nconst MyPhotosPage = () => {\n  const { orderItems, isLoading, error } = useOrders();\n\n  //TODO: UX for downloading\n  // When downloading have download wheel and disable access to click button. Grey it out a bit etc..\n  const handleDownloadClick = async (title, endpoint) => {\n    console.log('clicked download');\n    const objectURL = await ordersApi.fetchSecureImage(endpoint);\n\n    const a = document.createElement('a');\n    a.style.display = 'none';\n    a.href = objectURL;\n    // the filename you want\n    a.download = title;\n    document.body.appendChild(a);\n    a.click();\n    window.URL.revokeObjectURL(objectURL);\n  };\n\n  const renderMyPhotos = () => {\n    if (isLoading) {\n      return <div>Loading Photos!</div>;\n    }\n\n    if (error) {\n      return <div>Error!</div>;\n    }\n\n    const photosList = [];\n\n    console.log(orderItems);\n\n    orderItems.forEach((photo) => {\n      photosList.push(\n        <div className='mpp-photo-container' key={photo.id}>\n          <div className='mpp-photo-img-container'>\n            <ImageDownload paddingBottom={'84.5%'} endpoint={`photoMedCropped2to1/${photo.imageMedCropped2to1Key}`} />\n          </div>\n          <div className='mpp-photo-content-right'>\n            <div className='mpp-photo-info-grid'>\n              <div className='mpp-photo-info-heading'>Name</div>\n              <div className='mpp-photo-info-text  mpp-photo-name'>{photo.title}</div>\n\n              <div className='mpp-photo-info-heading'>Date</div>\n              <div className='mpp-photo-info-text'>{photo.createdAt.split('T')[0].split('-').reverse().join('/')}</div>\n\n              <div className='mpp-photo-info-heading'>Status</div>\n              <div className='mpp-photo-info-text'>Confirmed</div>\n\n              <div className='mpp-photo-info-heading'>Total</div>\n              <div className='mpp-photo-info-text'>£{photo.priceInPounds}</div>\n            </div>\n            <button\n              className='orange-brown-button mpp-download-button'\n              onClick={() => {\n                handleDownloadClick(photo.title, `photo/${photo.imageKey}`);\n              }}\n            >\n              Download\n              <div className='mpp-download-icon'>{downloadIcon} </div>\n            </button>\n          </div>\n        </div>\n      );\n    });\n\n    return photosList;\n  };\n\n  return (\n    <>\n      <NavBar />\n      <div className='mpp-container'>\n        <h1 className='mpp-page-title'>My Photos</h1>\n        <p className='mpp-page-desc'>\n          Check the status of Orders or Browse through your <br /> Purchases\n        </p>\n        <div className='mpp-photos-container'>{renderMyPhotos()}</div>\n      </div>\n      <MailingList />\n      <Footer />\n    </>\n  );\n};\n\nconst downloadIcon = (\n  <svg width='19' height='17' viewBox='0 0 19 17' fill='none' xmlns='http://www.w3.org/2000/svg'>\n    <path\n      d='M9.40649 10.8158L12.5708 7.71152M9.40649 10.8158V1.50293V10.8158ZM9.40649 10.8158L6.24219 7.71152L9.40649 10.8158Z'\n      stroke='white'\n      stroke-width='2'\n      stroke-linecap='round'\n      stroke-linejoin='round'\n    />\n    <path\n      d='M1.49609 12.3682L1.98735 14.2967C2.07291 14.6324 2.27041 14.9305 2.54848 15.1436C2.82655 15.3566 3.16922 15.4723 3.52203 15.4724H15.2916C15.6444 15.4723 15.9871 15.3566 16.2652 15.1436C16.5432 14.9305 16.7407 14.6324 16.8263 14.2967L17.3175 12.3682'\n      stroke='white'\n      stroke-width='2'\n      stroke-linecap='round'\n      stroke-linejoin='round'\n    />\n  </svg>\n);\n\nexport default MyPhotosPage;\n","import React from 'react';\nimport NavBar from '../../components/NavBar';\n\nconst MyAccountPage = () => {\n  return (\n    <>\n      <NavBar />\n      <div>My account page</div>\n    </>\n  );\n};\n\nexport default MyAccountPage;\n","import React, { useState } from 'react';\nimport { Navigate } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { login } from '../../actions/authActions';\n\nimport './AdminLoginPage.css';\n\nconst AdminLoginPage = () => {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  // const navigate = useNavigate();\n  const { isLoggedIn, isAdmin } = useSelector((state) => state.auth);\n  // const { isLoading, errorMessage } = useSelector((state) => state.login);\n  const dispatch = useDispatch();\n\n  const onLoginSubmit = (e) => {\n    e.preventDefault();\n    dispatch(login(email, password));\n  };\n\n  if (isLoggedIn && isAdmin) {\n    return <Navigate to=\"/admin\" />;\n  }\n\n  if (isLoggedIn && !isAdmin) {\n    return <Navigate to=\"/\" />;\n  }\n\n  return (\n    <div className=\"alip-main\">\n      <div className=\"alip-login-container\">\n        <form onSubmit={onLoginSubmit} className=\"alip-login-form\">\n          <div>\n            {/* <label htmlFor=\"emailInput\">Email</label> */}\n            <input\n              className=\"alip-input alip-email-input\"\n              placeholder=\"johndoe@xyz.com\"\n              id=\"emailInput\"\n              type=\"email\"\n              value={email}\n              onChange={(e) => {\n                setEmail(e.target.value);\n              }}\n            />\n          </div>\n          <div>\n            {/* <label htmlFor=\"passwordInput\">Password</label> */}\n            <input\n              className=\"alip-input alip-password-input\"\n              placeholder=\"•••••••••\"\n              id=\"passwordInput\"\n              type=\"password\"\n              value={password}\n              onChange={(e) => {\n                setPassword(e.target.value);\n              }}\n            />\n          </div>\n          <button type=\"submit\">Login</button>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default AdminLoginPage;\n","import React from 'react';\n\nimport './AdminSummaryWidget.css';\n\nconsole.log('aaaaaaaaaaaaaaaaa');\n\nconst AdminSummaryWidget = ({ heading, subheading, number }) => {\n  return (\n    <div className='admin-widget card'>\n      <div className='admin-widget-content'>\n        <div className='admin-widget-content-left'>\n          <div className='admin-widget-content-heading'>{heading}</div>\n          <div className='admin-widget-content-subheading'>{subheading}</div>\n        </div>\n        <div className='admin-widget-content-right'>{number}</div>\n      </div>\n    </div>\n  );\n};\n\nexport default AdminSummaryWidget;\n","import React from 'react';\nimport { Link, useLocation } from 'react-router-dom';\n\nimport './AdminNavSideBar.css';\n\nconst AdminNavSideBar = ({ active }) => {\n  const { pathname } = useLocation();\n\n  const getIsAdminPage = () => {\n    if (pathname === '/admin/' || pathname === '/admin') {\n      return true;\n    }\n\n    return false;\n  };\n\n  return (\n    <nav className='ap-sidebar'>\n      <div className='ap-sidebar-header'>\n        <Link to='/'>SKYLIGHT PHOTOGRAPHY </Link>\n      </div>\n      <ul className='ap-sidebar-menu'>\n        <Link to='/admin/' className={`ap-sidebar-menu-item ${getIsAdminPage() ? 'active' : ''}`}>\n          <img className='ap-sidebar-menu-item-icon' alt='dashboard-icon' src='/images/dashboard.svg' />\n          Dashboard\n        </Link>\n        <Link to='/admin/photos' className={`ap-sidebar-menu-item ${pathname === '/admin/photos' ? 'active' : ''}`}>\n          <img alt='photos-icon' className='ap-sidebar-menu-item-icon' src='/images/photo.svg' />\n          Photos\n        </Link>\n        <Link\n          to='/admin/collections'\n          className={`ap-sidebar-menu-item ${pathname === '/admin/collections' ? 'active' : ''}`}\n        >\n          <img alt='collections-icon' className='ap-sidebar-menu-item-icon' src='/images/collection-icon.svg' />\n          Collections\n        </Link>\n        <Link\n          to='/admin/orders'\n          alt='orders-icon'\n          className={`ap-sidebar-menu-item ${pathname === '/admin/orders' ? 'active' : ''}`}\n        >\n          <img alt='orders-icon' className='ap-sidebar-menu-item-icon' src='/images/orders.svg' />\n          Orders\n        </Link>\n        <Link to='/admin/users' className={`ap-sidebar-menu-item ${pathname === '/admin/users' ? 'active' : ''}`}>\n          <img alt='users-icon' className='ap-sidebar-menu-item-icon' src='/images/user.svg' />\n          Users\n        </Link>\n      </ul>\n    </nav>\n  );\n};\n\nexport default AdminNavSideBar;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport AdminSummaryWidget from '../../components/AdminSummaryWidget';\nimport AdminNavSideBar from '../../components/AdminNavSideBar';\nimport './adminDashboardPage.css';\n\nconst AdminPage = () => {\n  return (\n    <>\n      <AdminNavSideBar />\n      <section className='ap-main'>\n        <div className='ap-main-inner'>\n          <div className='ap-main-summary-row'>\n            <AdminSummaryWidget heading={'Total Orders'} subheading='All time orders' number='26' />\n            <AdminSummaryWidget heading={'Revenue'} subheading='Total revenue' number='£1,223' />\n            <AdminSummaryWidget heading={'Total Users'} subheading='Signed up users' number='54' />\n          </div>\n          <div className='ap-main-users-table card'>\n            <div className='ap-main-users-table-header'>Recent Orders</div>\n            <table>\n              <thead>\n                <tr>\n                  <th className='admin-table-cell'>#</th>\n                  <th className='admin-table-cell text-left'>Name</th>\n                  <th className='admin-table-cell'>Date</th>\n                  <th className='admin-table-cell'>Total</th>\n                  <th className='admin-table-cell'>Actions</th>\n                </tr>\n              </thead>\n              <tbody>\n                <tr className='admin-table-body-row'>\n                  <td className='text-center'>#327</td>\n                  <td className='admin-table-cell'>\n                    <div className='admin-table-cell-name-wrapper'>\n                      <img src='/images/user.png' alt='user-icon' className='admin-table-cell-user-icon'></img>\n                      Lochlan Odlum\n                    </div>\n                  </td>\n                  <td className='admin-table-cell text-center'>20:30 01/12/2021 </td>\n                  <td className='admin-table-cell text-center'>£32.99</td>\n                  <td className='admin-table-cell text-center'>\n                    <button className='admin-table-details-button'>Details</button>\n                  </td>\n                </tr>\n                <tr className='admin-table-body-row'>\n                  <td className='text-center'>#326</td>\n                  <td className='admin-table-cell'>\n                    <div className='admin-table-cell-name-wrapper'>\n                      <img src='/images/user.png' alt='user-icon' className='admin-table-cell-user-icon'></img>\n                      George Ward\n                    </div>\n                  </td>\n                  <td className='admin-table-cell text-center'>20:30 28/11/2021 </td>\n                  <td className='admin-table-cell text-center'>£19.99</td>\n                  <td className='admin-table-cell text-center'>\n                    <button className='admin-table-details-button'>Details</button>\n                  </td>\n                </tr>\n                <tr className='admin-table-body-row'>\n                  <td className='text-center'>#325</td>\n                  <td className='admin-table-cell'>\n                    <div className='admin-table-cell-name-wrapper'>\n                      <img src='/images/user.png' alt='user-icon' className='admin-table-cell-user-icon'></img>\n                      George Goldsmith\n                    </div>\n                  </td>\n                  <td className='admin-table-cell text-center'>20:30 27/11/2021 </td>\n                  <td className='admin-table-cell text-center'>£26.49</td>\n                  <td className='admin-table-cell text-center'>\n                    <button className='admin-table-details-button'>Details</button>\n                  </td>\n                </tr>\n                <tr className='admin-table-body-row'>\n                  <td className='text-center'>#324</td>\n                  <td className='admin-table-cell'>\n                    <div className='admin-table-cell-name-wrapper'>\n                      <img src='/images/user.png' alt='user-icon' className='admin-table-cell-user-icon'></img>\n                      Eddie Hall\n                    </div>\n                  </td>\n                  <td className='admin-table-cell text-center'>20:30 13/11/2021 </td>\n                  <td className='admin-table-cell text-center'>£129.99</td>\n                  <td className='admin-table-cell text-center'>\n                    <button className='admin-table-details-button'>Details</button>\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n            <div className='ap-main-users-table-footer'>\n              <div className='ap-main-users-table-footer-link'>\n                <Link to='/admin/orders'>{'All Orders >'}</Link>\n              </div>\n            </div>\n          </div>\n        </div>\n      </section>\n    </>\n  );\n};\n\nexport default AdminPage;\n","import React, { useRef, useState, useEffect } from 'react';\n\nimport adminApi from '../../api/adminApi';\nimport useCollections from '../../hooks/useCollections';\n\nimport './AdminAddOrEditPhotoModal.css';\n\nconst AdminAddOrEditPhotoModal = ({\n  currentPhotoBeingEdited = null,\n  setCurrentPhotoBeingEdited,\n  setShowImageUploadModal,\n}) => {\n  //If edit mode then set these default values to values passed from props\n  const { collections, isLoaded: isCollectionsLoaded } = useCollections();\n  const imageUploadInputLabelEle = useRef(null);\n  const [collectionId, setCollectionId] = useState(currentPhotoBeingEdited?.collectionId || '');\n  const [photoTitle, setPhotoTitle] = useState(currentPhotoBeingEdited?.title || '');\n  const [photoDescription, setPhotoDescription] = useState(currentPhotoBeingEdited?.description || '');\n  const [photoPrice, setPhotoPrice] = useState(currentPhotoBeingEdited?.priceInPence / 100 || '');\n  // const [photoPrice, setPhotoPrice] = useState(4.444 || '');\n  const [photoURL, setPhotoURL] = useState(currentPhotoBeingEdited?.imageWmarkedMedPublicURL || null);\n  const [imageFile, setImageFile] = useState(null);\n\n  useEffect(() => {\n    return () => {\n      setCurrentPhotoBeingEdited(null);\n    };\n  }, [setCurrentPhotoBeingEdited]);\n\n  useEffect(() => {\n    if (isCollectionsLoaded && !collectionId) {\n      setCollectionId(collections[0].id);\n    }\n  }, [isCollectionsLoaded, collections, collectionId]);\n\n  const handleImageUploadChange = (e) => {\n    if (!e.target.files || !e.target.files[0]) {\n      return;\n    }\n\n    setImageFile(e.target.files[0]);\n\n    const reader = new FileReader();\n    reader.onload = () => {\n      setPhotoURL(reader.result);\n      console.log('t');\n    };\n\n    reader.readAsDataURL(e.target.files[0]);\n  };\n\n  const handleAddPhoto = () => {\n    const priceInPence = photoPrice * 100;\n\n    adminApi.addPhoto(imageFile, photoTitle, photoDescription, priceInPence, collectionId);\n  };\n\n  const handleEditPhoto = async () => {\n    console.log('t');\n    const priceInPence = photoPrice * 100;\n\n    await adminApi.editPhoto(currentPhotoBeingEdited.id, {\n      imageFile,\n      photoTitle,\n      photoDescription,\n      priceInPence,\n      collectionId,\n    });\n\n    setShowImageUploadModal(false);\n  };\n\n  const renderCollectionSelect = () => {\n    if (!isCollectionsLoaded) {\n      return null;\n    }\n\n    return collections.map((collection) => {\n      return (\n        <option value={collection.id} key={collection.id}>\n          {collection.name}\n        </option>\n      );\n    });\n  };\n\n  return (\n    <div className='ap-image-upload-modal'>\n      <div className='ap-image-upload-input-container'>\n        <label\n          htmlFor='ap-image-upload-input'\n          className='ap-image-upload-input-label'\n          ref={imageUploadInputLabelEle}\n          style={{ backgroundImage: `url('${photoURL}')` }}\n        >\n          {!photoURL && <div>+ Select Photo</div>}\n        </label>\n        <input\n          type='file'\n          accept='image/png, image/jpg, image/jpeg, image/webp'\n          onChange={handleImageUploadChange}\n          id='ap-image-upload-input'\n        />\n      </div>\n      <div className='ap-iu-input-grid'>\n        <label className='ap-iu-input-grid-label'>Title</label>\n        <input\n          className='ap-iu-input-field'\n          type='text'\n          value={photoTitle}\n          onChange={(e) => setPhotoTitle(e.target.value)}\n        />\n\n        <label className='ap-iu-input-grid-label'>Collection</label>\n        <select\n          className='ap-iu-input-field ap-iu-input-field-collection'\n          value={collectionId}\n          onChange={(e) => {\n            setCollectionId(e.target.value);\n          }}\n        >\n          {renderCollectionSelect()}\n        </select>\n\n        <label className='ap-iu-input-grid-label'>Price</label>\n        <input\n          className='ap-iu-input-field ap-iu-input-field-price'\n          pattern='d\\+\\.\\d\\d$'\n          type='number'\n          step='.01'\n          value={photoPrice}\n          onChange={(e) => {\n            const validated = e.target.value.match(/^(\\d*\\.{0,1}\\d{0,2}$)/);\n            if (validated) {\n              setPhotoPrice(e.target.value);\n            }\n          }}\n        />\n\n        <label className='ap-iu-input-grid-label'>Description</label>\n        <textarea\n          className='ap-iu-input-field apiu-description-textarea'\n          value={photoDescription}\n          onChange={(e) => setPhotoDescription(e.target.value)}\n        />\n      </div>\n      {console.log('#t')}\n      {console.log(currentPhotoBeingEdited ? handleEditPhoto : handleAddPhoto)}\n      <button\n        onClick={currentPhotoBeingEdited ? handleEditPhoto : handleAddPhoto}\n        className='ap-image-upload-submit-button'\n      >\n        {currentPhotoBeingEdited ? 'Edit' : 'Add Photo'}\n      </button>\n    </div>\n  );\n};\n\nexport default AdminAddOrEditPhotoModal;\n","import React, { useState, useEffect } from 'react';\n\nimport './index.css';\n\nconst AdminPageNumberNav = ({ maxPage, activePage, setActivePage }) => {\n  //Since a max of 5 page numbers will be shown, this will initially centre the active page\n  const [viewStartingPage, setViewStartingPage] = useState(1);\n\n  //Effect to update which page number the list begins with when activePage is updated\n  useEffect(() => {\n    //Will stop starting page being set so that page numbers begin with 0 or lower\n    if (activePage < 3) {\n      setViewStartingPage(1);\n      return;\n    }\n    //Stop starting page being set such that the 5th page number will exceed maximum possible page\n    if (activePage > maxPage - 3) {\n      setViewStartingPage(maxPage - 4);\n      return;\n    }\n\n    setViewStartingPage(activePage - 2);\n  }, [activePage, maxPage]);\n\n  const smartSetActivePage = (newPageNum) => {\n    //Checks if activePage is within valid range, if not sets it to 1;\n    if (activePage < 0 || activePage > maxPage) {\n      setActivePage(1);\n    }\n\n    //Will stop further logic if trying to change page to one outside valid range\n    if (newPageNum < 1 || newPageNum > maxPage) {\n      return;\n    }\n\n    setActivePage(newPageNum);\n  };\n\n  const getPageNumElement = (pageNum) => {\n    const isActivePage = pageNum === activePage ? 'active' : '';\n\n    return (\n      <div key={pageNum} className={`ap-photos-pageNum ${isActivePage}`} onClick={() => smartSetActivePage(pageNum)}>\n        {pageNum}\n      </div>\n    );\n  };\n\n  if (!maxPage) {\n    return null;\n  }\n\n  if (maxPage <= 5) {\n    const pageButtons = [];\n\n    for (let i = 1; i <= maxPage; i++) {\n      pageButtons.push(getPageNumElement(i));\n    }\n\n    return pageButtons;\n  }\n\n  const getPageButtonsForWhenGreaterThan5Pages = () => {\n    const pageButtons = [];\n    for (let i = viewStartingPage; i < viewStartingPage + 5; i++) {\n      pageButtons.push(getPageNumElement(i));\n    }\n    return pageButtons;\n  };\n\n  const previousPageButton = (\n    <button\n      className='admin-pagNav-previous-button'\n      onClick={() => {\n        smartSetActivePage(activePage - 1);\n      }}\n    >\n      Previous\n    </button>\n  );\n\n  const nextPageButton = (\n    <button\n      className='admin-pagNav-next-button'\n      onClick={() => {\n        smartSetActivePage(activePage + 1);\n      }}\n    >\n      Next\n    </button>\n  );\n\n  return [previousPageButton, getPageButtonsForWhenGreaterThan5Pages(), nextPageButton];\n};\n\nexport default AdminPageNumberNav;\n","import React from 'react';\r\n\r\nimport './AdminGreyBackgroundCenter.css';\r\n\r\nconst AdminGreyBackgroundCenter = ({ children }) => {\r\n  return <div className='adminGreyBackgroundCenter'>{children}</div>;\r\n};\r\n\r\nexport default AdminGreyBackgroundCenter;\r\n","import React, { useState } from 'react';\r\n\r\nimport './AdminPhotoPositionField.css';\r\n\r\nconst AdminPhotoPositionField = ({ position, onSubmit }) => {\r\n  const [positionInputValue, setPositionInputValue] = useState(position);\r\n\r\n  return (\r\n    <form\r\n      onSubmit={(e) => {\r\n        e.preventDefault();\r\n        console.log('submited');\r\n        onSubmit(positionInputValue);\r\n      }}\r\n    >\r\n      <input\r\n        className='admin-table-cell-input admin-table-cell-orderPos-input'\r\n        value={positionInputValue}\r\n        onChange={(e) => {\r\n          setPositionInputValue(e.target.value);\r\n        }}\r\n      />\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default AdminPhotoPositionField;\r\n","import React, { useEffect, useRef, useState } from 'react';\n\nimport adminApi from '../../api/adminApi';\nimport useClickOutsideClose from '../../hooks/useClickOutsideClose';\nimport AdminAddOrEditPhotoModal from '../../components/AdminAddOrEditPhotoModal';\nimport AdminNavSideBar from '../../components/AdminNavSideBar';\nimport AdminPageNumberNav from '../../components/AdminPageNumberNav';\nimport AdminGreyBackgroundCenter from '../../components/AdminGreyBackgroundCenter';\n\nimport AdminPhotoPositionField from '../../components/AdminPhotoPositionField';\n\nimport './adminPhotoPage.css';\n\nconst AdminPhotoPage = () => {\n  const imageUploadModalRef = useRef(null);\n  const [showImageUploadModal, setShowImageUploadModal] = useClickOutsideClose(imageUploadModalRef);\n  const [currentPhotoBeingEdited, setCurrentPhotoBeingEdited] = useState(null);\n  const [photos, setPhotos] = useState(null);\n  const [totalPages, setTotalPages] = useState(null);\n  const [activePage, setActivePage] = useState(1);\n\n  const updatePhotos = async () => {\n    try {\n      const { products: photos, pageCount } = await adminApi.getPhotos(activePage, 8);\n      console.log('updating photos');\n      setTotalPages(pageCount);\n      setPhotos(photos);\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  //Update Photos whenever image add or edit modal is closed. To ensure photos are up to date with any changes\n  useEffect(() => {\n    if (!showImageUploadModal) {\n      updatePhotos();\n    }\n    // eslint-disable-next-line\n  }, [showImageUploadModal]);\n\n  useEffect(() => {\n    updatePhotos();\n    // eslint-disable-next-line\n  }, [activePage]);\n\n  const handleAddPhotoButtonClick = () => {\n    setShowImageUploadModal(true);\n  };\n\n  const handleEditPhotoButtonClick = (photo) => {\n    setCurrentPhotoBeingEdited(photo);\n    setShowImageUploadModal(true);\n  };\n\n  const renderImageUploadModal = () => {\n    return (\n      <AdminGreyBackgroundCenter>\n        <div ref={imageUploadModalRef}>\n          <AdminAddOrEditPhotoModal\n            currentPhotoBeingEdited={currentPhotoBeingEdited}\n            setCurrentPhotoBeingEdited={setCurrentPhotoBeingEdited}\n            setShowImageUploadModal={setShowImageUploadModal}\n          />\n        </div>\n      </AdminGreyBackgroundCenter>\n    );\n  };\n\n  const renderTableRows = () => {\n    if (!photos) {\n      return null;\n    }\n\n    return photos.map((photo) => {\n      const [creationDate, creationTime] = photo.createdAt.split('.')[0].split('T');\n\n      return (\n        // <tr className='admin-table-body-row' key={`${photo.id} - ${photo.positionOrder}`}>\n        <tr className='admin-table-body-row' key={Math.random()}>\n          <td className='admin-table-cell text-center'>\n            <AdminPhotoPositionField\n              position={photo.orderPosition}\n              onSubmit={async (newPosition) => {\n                await adminApi.editPhoto(photo.id, { orderPosition: newPosition });\n                updatePhotos();\n              }}\n            />\n            {/* <input className='admin-table-cell-input admin-table-cell-orderPos-input' value={photo.orderPosition} /> */}\n          </td>\n          <td className='text-center'>\n            <img className='admin-page-photo-preview' alt='whatever' src={photo.imageWmarkedMedSquarePublicURL} />\n          </td>\n          <td className='admin-table-cell'>{photo.title}</td>\n          <td className='admin-table-cell text-center'>\n            {creationTime} {creationDate.split('-').join('/')}\n          </td>\n          <td className='admin-table-cell text-center'>£{photo.priceInPounds}</td>\n          <td className='admin-table-cell text-center'>\n            <button\n              onClick={() => {\n                handleEditPhotoButtonClick(photo);\n              }}\n              className='admin-table-details-button'\n            >\n              Edit\n            </button>\n          </td>\n        </tr>\n      );\n    });\n  };\n\n  return (\n    <>\n      <AdminNavSideBar />\n      {showImageUploadModal && renderImageUploadModal()}\n      <div className='ap-main'>\n        <div className='ap-main-inner'>\n          <div className='ap-main-users-table card'>\n            <div className='ap-main-users-table-header'>\n              Photos\n              <button className='admin-table-add-photo-button' onClick={handleAddPhotoButtonClick}>\n                Add Photo\n              </button>\n            </div>\n            <table>\n              <thead>\n                <tr>\n                  <th className='admin-table-cell admin-photos-table-header '>Pos.</th>\n                  <th className='admin-table-cell admin-photos-table-header '>Preview</th>\n                  <th className='admin-table-cell admin-photos-table-header text-left'>Title</th>\n                  <th className='admin-table-cell admin-photos-table-header'>Date</th>\n                  <th className='admin-table-cell admin-photos-table-header'>Price</th>\n                  <th className='admin-table-cell admin-photos-table-header'>Actions</th>\n                </tr>\n              </thead>\n              <tbody>{renderTableRows()}</tbody>\n            </table>\n            <div className='ap-main-users-table-footer'>\n              <div className='ap-photos-page-buttons'>\n                <AdminPageNumberNav activePage={activePage} setActivePage={setActivePage} maxPage={totalPages} />\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default AdminPhotoPage;\n","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\n\r\nimport { addCollection, editCollection } from '../../actions/collectionActions';\r\nimport AdminGreyBackgroundCenter from '../AdminGreyBackgroundCenter';\r\n\r\nconst AdminAddOrEditCollectionModal = ({\r\n  setIsCollectionAddEditOpen,\r\n  collectionAddEditContainer,\r\n  editingCollectionId,\r\n  editingCollectionName,\r\n  setEditingCollectionName,\r\n}) => {\r\n  const [collectionAddEditName, setCollectionAddEditName] = useState(editingCollectionName || '');\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      setEditingCollectionName('');\r\n    };\r\n  }, [setEditingCollectionName]);\r\n\r\n  const handleEditCollectionSubmit = (e) => {\r\n    e.preventDefault();\r\n    dispatch(editCollection(editingCollectionId, collectionAddEditName));\r\n    setIsCollectionAddEditOpen(false);\r\n  };\r\n\r\n  const handleAddCollectionSubmit = (e) => {\r\n    e.preventDefault();\r\n    dispatch(addCollection(collectionAddEditName));\r\n    setIsCollectionAddEditOpen(false);\r\n  };\r\n\r\n  return (\r\n    <AdminGreyBackgroundCenter>\r\n      <div className='apc-add-collection' ref={collectionAddEditContainer}>\r\n        <form\r\n          className='apc-ac-form'\r\n          onSubmit={editingCollectionName ? handleEditCollectionSubmit : handleAddCollectionSubmit}\r\n        >\r\n          <input\r\n            value={collectionAddEditName}\r\n            className='apc-ac-input'\r\n            onChange={(e) => {\r\n              setCollectionAddEditName(e.target.value);\r\n            }}\r\n          ></input>\r\n          <button className='apc-ac-add-button' type='submit'>\r\n            <div className='apc-ac-add-text'>{editingCollectionName ? 'Edit' : 'Add'}</div>\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </AdminGreyBackgroundCenter>\r\n  );\r\n};\r\n\r\nexport default AdminAddOrEditCollectionModal;\r\n","import React, { useRef, useState } from 'react';\n\nimport AdminNavSideBar from '../../components/AdminNavSideBar';\nimport useCollections from '../../hooks/useCollections';\nimport useClickOutsideClose from '../../hooks/useClickOutsideClose';\nimport AdminAddOrEditCollectionModal from '../../components/AdminAddOrEditCollectionModal';\n\nimport './index.css';\n\nconst AdminCollectionsPage = () => {\n  const [editingCollectionName, setEditingCollectionName] = useState(null);\n  const [editingCollectionId, setEditingCollectionId] = useState(null);\n  const collectionAddEditContainer = useRef(null);\n  const [isCollectionAddEditOpen, setIsCollectionAddEditOpen] = useClickOutsideClose(collectionAddEditContainer);\n  const { collections, isLoaded, error } = useCollections();\n\n  const handleEditCollectionButtonClick = (collectionId, collectionName) => {\n    setEditingCollectionId(collectionId);\n    setEditingCollectionName(collectionName);\n    setIsCollectionAddEditOpen(true);\n  };\n\n  const renderCollectionTableRows = () => {\n    if (error) {\n      return <div>Error Fetching Collection data</div>;\n    }\n    if (!isLoaded) {\n      return <div> Loading Collection Data </div>;\n    }\n\n    return collections.map((collection) => {\n      // console.log(collection);\n      const [creationDate, creationTime] = collection.createdAt.split('.')[0].split('T');\n\n      return (\n        <tr className='admin-table-body-row'>\n          <td className='admin-table-cell text-center'>{collection.name}</td>\n          <td className='admin-table-cell text-center'>\n            {creationTime} {creationDate.split('-').join('/')}{' '}\n          </td>\n          <td className='admin-table-cell text-center'>\n            <button\n              className='admin-table-details-button'\n              onClick={() => {\n                handleEditCollectionButtonClick(collection.id, collection.name);\n              }}\n            >\n              Edit\n            </button>\n          </td>\n        </tr>\n      );\n    });\n  };\n\n  return (\n    <>\n      <AdminNavSideBar />\n      {isCollectionAddEditOpen && (\n        <AdminAddOrEditCollectionModal\n          setIsCollectionAddEditOpen={setIsCollectionAddEditOpen}\n          collectionAddEditContainer={collectionAddEditContainer}\n          editingCollectionId={editingCollectionId}\n          editingCollectionName={editingCollectionName}\n          setEditingCollectionName={setEditingCollectionName}\n        />\n      )}\n      <div className='ap-main'>\n        <div className='ap-main-inner'>\n          <div className='ap-main-users-table card'>\n            <div className='ap-main-users-table-header'>\n              Collections\n              <button\n                className='admin-table-add-photo-button'\n                onClick={() => {\n                  setIsCollectionAddEditOpen(true);\n                }}\n              >\n                Add Collection\n              </button>\n            </div>\n            <table>\n              <thead>\n                <tr>\n                  {/* <th className='admin-table-cell'>#</th> */}\n                  <th className='admin-table-cell'>Collection</th>\n                  <th className='admin-table-cell'>Date Added</th>\n                  <th className='admin-table-cell'>Actions</th>\n                </tr>\n              </thead>\n              <tbody>{renderCollectionTableRows()}</tbody>\n            </table>\n            <div className='ap-main-users-table-footer'>\n              <div className='ap-main-users-table-footer-link'>\n                {/* <Link to='/admin/orders'>{'All Orders >'}</Link> */}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default AdminCollectionsPage;\n","import React from 'react';\r\n\r\nimport ImageDownload from '../ImageDownload';\r\n\r\nimport './AdminOrderDetailsModal.css';\r\n\r\nconst AdminOrderDetailsModal = ({ order, closeModal }) => {\r\n  const [userCreationDate] = order.user.createdAt.split('.')[0].split('T');\r\n\r\n  console.log(order);\r\n  const renderOrderItems = () => {\r\n    return order.orderItems.map((orderItem) => {\r\n      return (\r\n        <div key={orderItem.id} className='aodm-orderItem'>\r\n          <div className='aodm-orderItem-image'>\r\n            <ImageDownload\r\n              paddingBottom={'100%'}\r\n              endpoint={`photoMedCropped2to1/${orderItem.imageMedCropped2to1Key}`}\r\n            />\r\n          </div>\r\n          <div className='aodm-oi-info-1'>\r\n            <div className='aodm-oi-title'>{orderItem.title}</div>\r\n            <div className='aodm-oi-price'>£{orderItem.priceInPence / 100}</div>\r\n          </div>\r\n          {/* <div className='aodm-oi-info-2'>{orderItem.title}</div> */}\r\n        </div>\r\n      );\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className='aodm'>\r\n      <div className='aodm-header'>\r\n        <div className='aodm-order-num'>{`Order #${order.id}`}</div>\r\n        <div className='aodm-header-close-cross' onClick={closeModal}>\r\n          {closeCross}\r\n        </div>\r\n      </div>\r\n      <div className='aodm-content'>\r\n        <div className='aodm-content-main'>\r\n          <div className='aodm-content-left'>\r\n            <div className='aodm-customer-info'>\r\n              <div className='aodm-customer-title'>Customer</div>\r\n              <div className='aodm-customer-data'>\r\n                <div className='aodm-customer-data-row'>\r\n                  <div className='aodm-customer-data-key'>Name:</div>\r\n                  <div className='aodm-customer-data-value'>{order.user.name}</div>\r\n                </div>\r\n                <div className='aodm-customer-data-row'>\r\n                  <div className='aodm-customer-data-key'>Email:</div>\r\n                  <div className='aodm-customer-data-value'> {order.user.email}</div>\r\n                </div>\r\n                <div className='aodm-customer-data-row'>\r\n                  <div className='aodm-customer-data-key'>Account Creation Date:</div>\r\n                  <div className='aodm-customer-data-value'>{userCreationDate}</div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className='aodm-seperator-bar' />\r\n          <div className='aodm-content-right'>{renderOrderItems()}</div>\r\n        </div>\r\n        <div className='aodm-content-lower'>\r\n          <div className='aodm-order-total'>Total: £{order.totalPriceInPence / 100}</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst closeCross = (\r\n  <svg width='28' height='28' viewBox='0 0 28 28' fill='none' xmlns='http://www.w3.org/2000/svg'>\r\n    <rect x='1.8501' width='35.9498' height='2.61625' rx='1.30812' transform='rotate(45 1.8501 0)' fill='#777777' />\r\n    <rect y='25.4203' width='35.9498' height='2.61625' rx='1.30812' transform='rotate(-45 0 25.4203)' fill='#777777' />\r\n  </svg>\r\n);\r\n\r\nexport default AdminOrderDetailsModal;\r\n","import React, { useEffect, useState } from 'react';\n\nimport adminApi from '../../api/adminApi';\nimport AdminNavSideBar from '../../components/AdminNavSideBar';\nimport AdminPageNumberNav from '../../components/AdminPageNumberNav';\nimport AdminGreyBackgroundCenter from '../../components/AdminGreyBackgroundCenter';\nimport AdminOrderDetailsModal from '../../components/AdminOrderDetailsModal';\n\nimport './index.css';\n\nconst AdminOrdersPage = () => {\n  const [orders, setOrders] = useState(null);\n  const [totalPages, setTotalPages] = useState(null);\n  const [activePage, setActivePage] = useState(1);\n  const [activeOrderDetailsModalOrder, setactiveOrderDetailsModalOrder] = useState(null);\n\n  const closeOrderDetailsModal = () => {\n    setactiveOrderDetailsModalOrder(null);\n  };\n\n  useEffect(() => {\n    const updatePhotos = async () => {\n      try {\n        const { orders, pageCount } = await adminApi.getOrders(activePage, 8);\n        console.log(orders);\n        setTotalPages(pageCount);\n        setOrders(orders);\n      } catch (error) {\n        console.error(error);\n      }\n    };\n\n    updatePhotos();\n  }, [activePage]);\n\n  const renderTableRows = () => {\n    if (!orders) {\n      return null;\n    }\n\n    return orders.map((order) => {\n      const [creationDate, creationTime] = order.createdAt.split('.')[0].split('T');\n\n      return (\n        <tr className='admin-table-body-row' key={order.id}>\n          {/* <td className='text-center'>\n            <img className='admin-page-photo-preview' src={photo.imageWmarkedMedSquarePublicURL} />\n          </td> */}\n          <td className='admin-table-cell text-center'>#{order.id}</td>\n          <td className='admin-table-cell text-center'>{order.user.name}</td>\n          <td className='admin-table-cell text-center'>\n            {creationTime} {creationDate.split('-').join('/')}\n          </td>\n          <td className='admin-table-cell text-center'>£{order.totalPriceInPence / 100}</td>\n          <td className='admin-table-cell text-center'>\n            <button\n              className='admin-table-details-button'\n              onClick={() => {\n                setactiveOrderDetailsModalOrder(order);\n              }}\n            >\n              Details\n            </button>\n          </td>\n        </tr>\n      );\n    });\n  };\n\n  return (\n    <>\n      <AdminNavSideBar />\n      {activeOrderDetailsModalOrder && (\n        <AdminGreyBackgroundCenter>\n          <AdminOrderDetailsModal closeModal={closeOrderDetailsModal} order={activeOrderDetailsModalOrder} />\n        </AdminGreyBackgroundCenter>\n      )}\n      <div className='ap-main'>\n        <div className='ap-main-inner'>\n          <div className='ap-main-users-table card'>\n            <div className='ap-main-users-table-header'>Orders</div>\n            <table>\n              <thead>\n                <tr>\n                  <th className='admin-table-cell admin-photos-table-header '>Order #</th>\n                  <th className='admin-table-cell admin-photos-table-header '>Name</th>\n                  <th className='admin-table-cell admin-photos-table-header'>Date</th>\n                  <th className='admin-table-cell admin-photos-table-header'>Total</th>\n                  <th className='admin-table-cell admin-photos-table-header'>Actions</th>\n                </tr>\n              </thead>\n              <tbody>{renderTableRows()}</tbody>\n            </table>\n            <div className='ap-main-users-table-footer'>\n              <div className='ap-photos-page-buttons'>\n                <AdminPageNumberNav activePage={activePage} setActivePage={setActivePage} maxPage={totalPages} />\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default AdminOrdersPage;\n","import React, { useEffect, useState } from 'react';\n\nimport adminApi from '../../api/adminApi';\nimport AdminNavSideBar from '../../components/AdminNavSideBar';\nimport AdminPageNumberNav from '../../components/AdminPageNumberNav';\n\nimport './index.css';\n\nconst AdminUsersPage = () => {\n  const [users, setUsers] = useState(null);\n  const [totalPages, setTotalPages] = useState(null);\n  const [activePage, setActivePage] = useState(1);\n\n  useEffect(() => {\n    const updatePhotos = async () => {\n      try {\n        const { users, pageCount } = await adminApi.getUsers(activePage, 8);\n        setTotalPages(pageCount);\n        setUsers(users);\n      } catch (error) {\n        console.error(error);\n      }\n    };\n\n    updatePhotos();\n  }, [activePage]);\n\n  const renderTableRows = () => {\n    if (!users) {\n      return null;\n    }\n\n    return users.map((user) => {\n      const [creationDate, creationTime] = user.createdAt.split('.')[0].split('T');\n\n      return (\n        <tr className='admin-table-body-row'>\n          {/* <td className='text-center'>\n            <img className='admin-page-photo-preview' src={photo.imageWmarkedMedSquarePublicURL} />\n          </td> */}\n          <td className='admin-table-cell text-center'>{user.name}</td>\n          <td className='admin-table-cell text-center'>{user.email}</td>\n          <td className='admin-table-cell text-center'>\n            {creationTime} {creationDate.split('-').join('/')}\n          </td>\n          <td className='admin-table-cell text-center'>\n            <button className='admin-table-details-button'>Edit</button>\n          </td>\n        </tr>\n      );\n    });\n  };\n\n  return (\n    <>\n      <AdminNavSideBar />\n      <div className='ap-main'>\n        <div className='ap-main-inner'>\n          <div className='ap-main-users-table card'>\n            <div className='ap-main-users-table-header'>Users</div>\n            <table>\n              <thead>\n                <tr>\n                  <th className='admin-table-cell admin-photos-table-header '>Name</th>\n                  <th className='admin-table-cell admin-photos-table-header '>Email</th>\n                  <th className='admin-table-cell admin-photos-table-header'>Creation Date</th>\n                  {/* <th className='admin-table-cell admin-photos-table-header'>Price</th> */}\n                  <th className='admin-table-cell admin-photos-table-header'>Actions</th>\n                </tr>\n              </thead>\n              <tbody>{renderTableRows()}</tbody>\n            </table>\n            <div className='ap-main-users-table-footer'>\n              <div className='ap-photos-page-buttons'>\n                <AdminPageNumberNav activePage={activePage} setActivePage={setActivePage} maxPage={totalPages} />\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default AdminUsersPage;\n","import React, { useEffect } from 'react';\nimport { BrowserRouter, Route, Routes, Outlet, Navigate } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport { Elements } from '@stripe/react-stripe-js';\nimport { loadStripe } from '@stripe/stripe-js';\n\nimport HomePage from './pages/HomePage';\nimport ShopPage from './pages/ShopPage';\nimport PhotoDetailsPage from './pages/PhotoDetailsPage';\nimport CartPage from './pages/CartPage';\nimport LoginPage from './pages/LoginPage';\nimport SignupPage from './pages/SignupPage';\nimport PaymentPage from './pages/PaymentPage';\nimport OrderCompletePage from './pages/OrderCompletePage';\nimport MyPhotosPage from './pages/MyPhotosPage';\nimport MyAccountPage from './pages/MyAccountPage';\n\nimport AdminLoginPage from './pages/AdminLoginPage';\nimport AdminDashboardPage from './pages/AdminDashboardPage';\nimport AdminPhotoPage from './pages/AdminPhotoPage';\nimport AdminCollectionsPage from './pages/AdminCollectionsPage';\nimport AdminOrdersPage from './pages/AdminOrdersPage';\nimport AdminUsersPage from './pages/AdminUsersPage';\n\nimport './app.css';\n\nconst STRIPE_PUBLISHABLE_KEY =\n  'pk_test_51JmjyLBxc7UTHklpkl2msXfRPXO5UmEfW2b33xIk4S0y5Pc9oKObZibwotF3S626UWjGdGFQSJ7JGRZfVIwITrt800sVddKcVx';\n\nconst API_URL = 'https://skylight-photography.herokuapp.com/';\n\nconst stripePromise = loadStripe(STRIPE_PUBLISHABLE_KEY);\n\n//TODO: Route back to original route once logged in\nconst ProtectedLoginRoute = () => {\n  const isLoggedIn = useSelector((state) => state.auth.isLoggedIn);\n  return isLoggedIn ? <Outlet /> : <LoginPage />;\n};\n\nconst ProtectedAdminLoginRoutes = () => {\n  const { isLoggedIn, isAdmin } = useSelector((state) => state.auth);\n  if (!isLoggedIn) {\n    return <AdminLoginPage />;\n  }\n\n  if (!isAdmin) {\n    return <Navigate to='/' />;\n  }\n\n  return <Outlet />;\n};\n\nconst App = () => {\n  //Wake up backend server if it's asleep\n  useEffect(() => {\n    fetch(`${API_URL}ping`);\n  }, []);\n\n  return (\n    <Elements stripe={stripePromise}>\n      <BrowserRouter>\n        <Routes>\n          <Route path='/' element={<HomePage />} />\n          <Route path='/shop' element={<ShopPage />} />\n          <Route path='/photo/:id' element={<PhotoDetailsPage />} />\n          <Route path='/cart' element={<CartPage />} />\n          <Route path='/login' element={<LoginPage />} />\n          <Route path='/signup' element={<SignupPage />} />\n\n          {/* Routes requiring user to be logged in */}\n          <Route path='/' element={<ProtectedLoginRoute />}>\n            <Route path='/myPhotos' element={<MyPhotosPage />} />\n            <Route path='/checkout' element={<PaymentPage />} />\n            <Route path='/myaccount' element={<MyAccountPage />} />\n            <Route path='/order/success/:orderId' element={<OrderCompletePage />} />\n          </Route>\n          {/* Admin restricted Routes  */}\n          <Route path='/admin/login' element={<AdminLoginPage />} />\n          <Route path='/admin' element={<ProtectedAdminLoginRoutes />}>\n            <Route path='/admin' element={<AdminDashboardPage />} />\n            <Route path='/admin/photos' element={<AdminPhotoPage />} />\n            <Route path='/admin/collections' element={<AdminCollectionsPage />} />\n            <Route path='/admin/orders' element={<AdminOrdersPage />} />\n            <Route path='/admin/users' element={<AdminUsersPage />} />\n          </Route>\n        </Routes>\n      </BrowserRouter>\n    </Elements>\n  );\n};\n\nexport default App;\n","import {\n  SIGNUP_REQUEST,\n  SIGNUP_SUCCESS,\n  SIGNUP_FAIL,\n  LOGIN_REQUEST,\n  LOGIN_SUCCESS,\n  LOGIN_FAIL,\n  LOGOUT,\n} from '../actions/types';\n\nconst initialState = { isLoggedIn: false, token: null, isAdmin: false, name: null };\n\nexport const authReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case SIGNUP_REQUEST:\n      return {\n        ...state,\n        isLoggedIn: false,\n        name: null,\n        token: null,\n        isAdmin: null,\n      };\n    case SIGNUP_SUCCESS:\n      return {\n        ...state,\n        isLoggedIn: false,\n        name: null,\n        token: null,\n        isAdmin: null,\n      };\n    case SIGNUP_FAIL:\n      return {\n        ...state,\n        isLoggedIn: false,\n        name: null,\n        token: null,\n        isAdmin: null,\n      };\n    case LOGIN_REQUEST:\n      return {\n        ...state,\n        isLoggedIn: false,\n        name: null,\n        token: null,\n        isAdmin: null,\n      };\n    case LOGIN_SUCCESS:\n      return {\n        ...state,\n        isLoggedIn: true,\n        name: action.payload.name,\n        token: action.payload.token,\n        isAdmin: action.payload.isAdmin,\n      };\n    case LOGIN_FAIL:\n      return {\n        ...state,\n        isLoggedIn: false,\n        name: null,\n        token: null,\n        isAdmin: null,\n      };\n    case LOGOUT:\n      return {\n        ...state,\n        isLoggedIn: false,\n        name: null,\n        token: null,\n        isAdmin: null,\n      };\n    default:\n      return state;\n  }\n};\n\nexport const loginReducer = (state = { isLoading: false, errorMessage: null }, action) => {\n  switch (action.type) {\n    case LOGIN_REQUEST:\n      return {\n        isLoading: true,\n        errorMessage: null,\n      };\n    case LOGIN_SUCCESS:\n      return {\n        isLoading: false,\n        errorMessage: null,\n      };\n    case LOGIN_FAIL:\n      return {\n        isLoading: false,\n        errorMessage: action.payload,\n      };\n    default:\n      return state;\n  }\n};\n\nexport const signupReducer = (state = { isLoading: false, errorMessage: null }, action) => {\n  switch (action.type) {\n    case SIGNUP_REQUEST:\n      return {\n        isLoading: true,\n        errorMessage: null,\n      };\n    case SIGNUP_SUCCESS:\n      return {\n        isLoading: false,\n        errorMessage: null,\n      };\n    case SIGNUP_FAIL:\n      return {\n        isLoading: false,\n        errorMessage: action.payload,\n      };\n    default:\n      return state;\n  }\n};\n","import { combineReducers } from 'redux';\nimport { productListReducer } from './productReducers';\nimport { cartReducer } from './cartReducers';\nimport { authReducer, loginReducer, signupReducer } from './authReducers';\nimport { OrderListReducer } from './ordersReducers';\nimport { collectionReducer } from './collectionReducers';\n\nexport default combineReducers({\n  productList: productListReducer,\n  collectionList: collectionReducer,\n  cart: cartReducer,\n  orderList: OrderListReducer,\n  auth: authReducer,\n  login: loginReducer,\n  signup: signupReducer,\n});\n","//Actions needed:\n//Get products (fetches a list of all products)\n//\n\nimport {\n  PRODUCT_LIST_REQUEST,\n  PRODUCT_LIST_FAIL,\n  PRODUCT_LIST_SUCCESS,\n  PRODUCT_FETCH_SUCCESS,\n  PRODUCT_FETCH_FAIL,\n} from '../actions/types';\n\nexport const productListReducer = (state = { products: [] }, action) => {\n  switch (action.type) {\n    case PRODUCT_LIST_REQUEST:\n      return { isLoading: true, products: [] };\n    case PRODUCT_LIST_SUCCESS:\n      return { isLoading: false, isLoaded: true, products: action.payload };\n    case PRODUCT_LIST_FAIL:\n      return { isLoading: false, error: action.payload, products: [] };\n    case PRODUCT_FETCH_SUCCESS:\n      //Logic below required to ensure newly fetched product is put in same place in array as before\n      const oldProductIndex = state.products.findIndex((prod) => prod.id === action.payload.id);\n      if (oldProductIndex >= 0) {\n        return {\n          isLoading: state.isLoading,\n          isLoaded: state.isLoaded,\n          products: [\n            ...state.products.slice(0, oldProductIndex),\n            action.payload,\n            ...state.products.slice(oldProductIndex + 1),\n          ],\n        };\n      } else {\n        return { isLoading: false, isLoaded: true, products: [...state.products, action.payload] };\n      }\n    case PRODUCT_FETCH_FAIL:\n      return { isLoading: false, error: action.payload, products: [] };\n    default:\n      return state;\n  }\n};\n\n//Seperate state to store product on product details page. Easier to work with than getting info from productList.\n","import { COLLECTION_LIST_REQUEST, COLLECTION_LIST_SUCCESS, COLLECTION_LIST_FAIL } from '../actions/types';\n\nexport const collectionReducer = (\n  state = { collections: [], isLoading: false, isLoaded: false, error: null },\n  action\n) => {\n  switch (action.type) {\n    case COLLECTION_LIST_REQUEST:\n      return { collections: [], isLoading: true, isLoaded: false, error: null };\n    case COLLECTION_LIST_SUCCESS:\n      return { collections: action.payload, isLoading: false, isLoaded: true, error: null };\n    case COLLECTION_LIST_FAIL:\n      return { collections: [], isLoading: false, isLoaded: false, error: action.payload };\n    default:\n      return state;\n  }\n};\n","import { ADD_CART_ITEM, DELETE_CART_ITEM, EMPTY_CART } from '../actions/types';\n\nexport const cartReducer = (state = { itemIds: [] }, action) => {\n  switch (action.type) {\n    case ADD_CART_ITEM: {\n      const itemId = action.payload;\n      const existingItemIdIndex = state.itemIds.findIndex((id) => id === itemId);\n      if (existingItemIdIndex >= 0) {\n        return state;\n      }\n      return { itemIds: [itemId, ...state.itemIds] };\n    }\n    case DELETE_CART_ITEM: {\n      const itemId = action.payload;\n      const filteredItemIds = state.itemIds.filter((id) => id !== itemId);\n      return { itemIds: filteredItemIds };\n    }\n    case EMPTY_CART:\n      return { itemIds: [] };\n    default: {\n      return state;\n    }\n  }\n};\n","import {\n  ORDER_LIST_REQUEST,\n  ORDER_LIST_SUCCESS,\n  ORDER_FETCH_SUCCESS,\n  ORDER_FETCH_FAIL,\n  ORDER_LIST_FAIL,\n  LOGOUT,\n} from '../actions/types';\n\nexport const OrderListReducer = (state = { orders: [] }, action) => {\n  switch (action.type) {\n    case LOGOUT:\n      return { isLoading: false, orders: [] };\n    case ORDER_LIST_REQUEST:\n      return { isLoading: true, orders: [] };\n    case ORDER_LIST_SUCCESS:\n      return { isLoading: false, isLoaded: true, orders: action.payload };\n    case ORDER_LIST_FAIL:\n      return { isLoading: false, error: action.payload, orders: [] };\n    case ORDER_FETCH_SUCCESS:\n      //Logic below required to ensure newly fetched ORDER is put in same place in array as before\n      const oldOrderIndex = state.orders.findIndex((prod) => prod.id === action.payload.id);\n      if (oldOrderIndex >= 0) {\n        return {\n          isLoading: state.isLoading,\n          isLoaded: state.isLoaded,\n          orders: [...state.orders.slice(0, oldOrderIndex), action.payload, ...state.orders.slice(oldOrderIndex + 1)],\n        };\n      } else {\n        return { isLoading: false, isLoaded: true, orders: [...state.orders, action.payload] };\n      }\n    case ORDER_FETCH_FAIL:\n      return { isLoading: false, error: action.payload, orders: [] };\n    default:\n      return state;\n  }\n};\n","import ReactDOM from 'react-dom';\nimport React from 'react';\nimport { Provider } from 'react-redux';\nimport { createStore, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\nimport { persistStore, persistReducer } from 'redux-persist';\nimport storage from 'redux-persist/lib/storage';\nimport { PersistGate } from 'redux-persist/lib/integration/react';\nimport { composeWithDevTools } from 'redux-devtools-extension';\n\nimport App from './App';\nimport reducers from './reducers';\n\nconst persistConfig = {\n  key: 'reduxPersist',\n  storage: storage,\n  whitelist: ['cart', 'auth'], // which reducer want to store\n};\n\nconst pReducer = persistReducer(persistConfig, reducers);\n\n// const store = createStore(reducers, applyMiddleware(thunk));\nexport const store = createStore(pReducer, composeWithDevTools(applyMiddleware(thunk)));\n\nconst persistor = persistStore(store);\n\nReactDOM.render(\n  <Provider store={store}>\n    <PersistGate loading={null} persistor={persistor}>\n      <App />\n    </PersistGate>\n  </Provider>,\n  document.querySelector('#root')\n);\n"],"sourceRoot":""}