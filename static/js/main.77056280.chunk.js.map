{"version":3,"sources":["util/config.js","util/util.js","api/authApi.js","actions/types.js","actions/authActions.js","hooks/useOnClickOutsideElement.js","components/NavBar/NavBar.js","components/MailingList/MailingList.js","components/Footer/Footer.js","pages/HomePage/HomePage.js","actions/cartActions.js","api/productsApi.js","api/collectionApi.js","hooks/useCollections.js","actions/collectionActions.js","hooks/useProducts.js","actions/productActions.js","components/TwoPointSlider/index.js","components/TwoPointPriceSlider/TwoPointPriceSlider.js","hooks/useScrollToPrevious.js","components/SortBySelect/SortBySelect.js","pages/ShopPage/ShopPage.js","pages/PhotoDetailsPage/PhotoDetailsPage.js","hooks/useCart.js","pages/CartPage/CartPage.js","pages/LoginPage/LoginPage.js","pages/SignupPage/SignupPage.js","api/ordersApi.js","pages/PaymentPage/PaymentPage.js","hooks/useOrders.js","actions/orderActions.js","components/ImageDownload/ImageDownload.js","pages/OrderCompletePage/OrderCompletePage.js","pages/MyPhotosPage/MyPhotosPage.js","pages/MyAccountPage/MyAccountPage.js","App.js","reducers/authReducers.js","reducers/index.js","reducers/productReducers.js","reducers/collectionReducers.js","reducers/cartReducers.js","reducers/ordersReducers.js","index.js"],"names":["API_URL","errorParser","response","data","ok","status","store","dispatch","logout","Error","message","errors","getAuthHeader","userToken","getState","auth","token","Authorization","makeRequest","path","a","requestOptions","headers","authRequestOptions","fetch","json","signupRequest","name","email","password","method","body","JSON","stringify","loginRequest","PRODUCT_LIST_REQUEST","PRODUCT_LIST_SUCCESS","PRODUCT_LIST_FAIL","PRODUCT_FETCH_SUCCESS","PRODUCT_FETCH_FAIL","ADD_CART_ITEM","DELETE_CART_ITEM","EMPTY_CART","ORDER_LIST_REQUEST","ORDER_LIST_SUCCESS","ORDER_LIST_FAIL","ORDER_FETCH_SUCCESS","ORDER_FETCH_FAIL","COLLECTION_LIST_REQUEST","COLLECTION_LIST_SUCCESS","COLLECTION_LIST_FAIL","SIGNUP_REQUEST","SIGNUP_SUCCESS","SIGNUP_FAIL","LOGIN_REQUEST","LOGIN_SUCCESS","LOGIN_FAIL","LOGOUT","type","signup","useOnClickOutsideElement","elementRef","callback","useEffect","handleClick","event","current","contains","target","document","addEventListener","removeEventListener","NavBar","modalToggleButton","useRef","modalRef","useState","isUserModalOpen","setIsUserModalOpen","pathname","useLocation","navigate","useNavigate","isLoggedIn","useSelector","state","isAdmin","useDispatch","className","to","alt","src","onClick","signupElement","loginElement","cartElement","ref","width","height","viewBox","fill","xmlns","d","href","renderRightElements","MailingList","setEmail","onSubmit","e","preventDefault","value","onChange","placeholder","onLinkClick","window","scrollTo","Footer","featuredPhotos","HomePage","startingImageIndex","isFromLeft","isFromRight","imageSliderState","setImageSliderState","formEmail","setFormEmail","formName","setFormName","formSubject","setFormSubject","formMessage","setFormMessage","getNextStartingIndex","change","newIndex","length","handleArrowClick","renderedFeaturedPhotos","fromLeftClass","fromRightClass","i","push","Date","renderFeaturedPhotos","x","y","stroke","fillRule","clipRule","transform","AddCartItem","id","payload","Number","fetchProductsRequest","fetchProductRequest","fetchCollectionsRequest","useCollections","collectionList","collections","isLoading","isLoaded","error","productList","collectionMap","forEach","collection","currentMaxProductPrice","useProducts","isCollectionsLoaded","collectionsError","products","isProductsLoaded","productsError","maxProductPrice","setMaxProductPrice","useLayoutEffect","maxPrice","reduce","prev","priceInPence","TwoPointSlider","bouncyMinVal","setbouncyMinVal","bouncyMaxVal","setbouncyMaxVal","min","max","avg","setAvg","setWidth","minMaxSlider","minWidth","maxPercent","styles","left","resize","parentElement","getBoundingClientRect","console","log","htmlFor","style","step","TwoPointPriceSlider","setMinVal","setMaxVal","initialMin","initialMax","setBouncyMinVal","setBouncyMaxVal","timeoutId","setTimeout","Math","ceil","clearTimeout","useScrollToPrevious","location","scrollPos","scroll","SortBySelect","sortByOptions","activeSortBy","setActiveSortBy","isSelectOpen","setIsSelectOpen","selectElementRef","description","slice","map","option","isActiveOption","sortFunc","b","orderPosition","aTimeStamp","createdAt","getTime","ShopPage","filteredProducts","setFilteredProducts","filteredSortedProducts","setFilteredSortedProducts","maxValue","initialMinPrice","initialMaxPrice","initialCollection","minPrice","activeCollection","setActiveCollection","pageNum","setPageNum","isCollectionsFilterOpen","setIsCollectionsFilterOpen","isPriceFilterOpen","setIsPriceFilterOpen","setMinPrice","setMaxPrice","filter","prod","isValidPrice","isValidCollection","collectionId","filteredProductsShallowCopy","sort","scrollToTop","scrollY","scrollTop","getElementsByTagName","changePageNum","amount","finalPageNum","floor","renderedProductElements","product","navState","from","handleProductClick","backgroundImage","imageWmarkedMedSquarePublicURL","title","renderProducts","PhotoDetailsPage","props","useParams","fetchProduct","handleAddToCart","returnUrl","find","p","imageWmarkedMedPublicURL","rel","renderProduct","useCart","cart","missingProduct","cartItemsWithInfo","itemIds","itemId","cartItems","cartTotal","accumulator","pence","array","Array","String","splice","join","priceToPounds","CartPage","isCartLoaded","item","handlePhotoClick","LoginPage","setPassword","isUserAdmin","UsersEmail","UsersName","login","SignupPage","setName","repeatPassword","setRepeatPassword","onSignupSubmit","class","startOrderRequest","customerEmail","customerName","fetchOrdersRequest","fetchOrderRequest","orderId","downloadImage","key","url","saveAs","fetchSecureImageRequest","res","blob","URL","createObjectURL","backArrow","radioSelected","PaymentPage","elements","useElements","stripe","useStripe","inputStyle","fontSize","color","cartItemIds","onPaymentSubmit","clientSecret","cardNumberElement","getElement","CardNumberElement","confirmCardPayment","payment_method","card","options","base","cartItem","useOrders","orderItems","setOrderItems","orderList","orders","newOrderItems","order","ImageDownload","endpoint","paddingBottom","imageObjectURL","setImageObjectURL","objectURL","fetchImage","revokeObjectURL","OrderCompletePage","orderItem","index","s3ImagesKey","MyPhotosPage","handleDownloadClick","photosList","photo","split","reverse","renderMyPhotos","MyAccountPage","stripePromise","loadStripe","ProtectedLoginRoute","App","element","initialState","combineReducers","action","oldProductIndex","findIndex","existingItemIdIndex","filteredItemIds","oldOrderIndex","errorMessage","persistConfig","storage","whitelist","pReducer","persistReducer","reducers","createStore","composeWithDevTools","applyMiddleware","thunk","persistor","persistStore","ReactDOM","render","loading","querySelector"],"mappings":"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","file":"static/js/main.77056280.chunk.js","sourcesContent":["export const API_URL = 'https://skylight-photography.herokuapp.com';\r\n// export const API_URL = 'http://localhost:5000';\r\n","import { API_URL } from './config';\r\nimport { store } from '../index';\r\nimport { logout } from '../actions/authActions';\r\n\r\n// store.dispatch(logout());\r\n\r\nexport const errorParser = (response, data) => {\r\n  if (!response.ok) {\r\n    if (response.status === 401) {\r\n      store.dispatch(logout());\r\n    }\r\n\r\n    throw new Error(data.message || data.errors || 'Unexpected error');\r\n  }\r\n};\r\n\r\nexport const getAuthHeader = () => {\r\n  const userToken = store.getState().auth.token;\r\n\r\n  return userToken ? { Authorization: `Bearer ${userToken}` } : {};\r\n};\r\n\r\nexport const makeRequest = async (path, requestOptions = {}) => {\r\n  //Ensures there is always auth header in request if possible\r\n  const headers = { ...requestOptions?.headers, ...getAuthHeader() };\r\n  const authRequestOptions = { ...requestOptions, headers };\r\n\r\n  const response = await fetch(API_URL + path, authRequestOptions);\r\n\r\n  const data = await response.json();\r\n\r\n  errorParser(response, data);\r\n\r\n  return data;\r\n};\r\n","import { makeRequest } from '../util/util.js';\n\nexport const signupRequest = async (name, email, password) => {\n  const requestOptions = {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify({ name, email, password }),\n  };\n\n  return await makeRequest('/signup', requestOptions);\n};\n\nexport const loginRequest = async (email, password) => {\n  const requestOptions = {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify({ email, password }),\n  };\n\n  return await makeRequest('/login', requestOptions);\n};\n","export const PRODUCT_LIST_REQUEST = 'PRODUCT_LIST_REQUEST';\nexport const PRODUCT_LIST_SUCCESS = 'PRODUCT_LIST_SUCCESS';\nexport const PRODUCT_LIST_FAIL = 'PRODUCT_LIST_FAIL';\nexport const PRODUCT_FETCH_REQUEST = 'PRODUCT_FETCH_REQUEST';\nexport const PRODUCT_FETCH_SUCCESS = 'PRODUCT_FETCH_SUCCESS';\nexport const PRODUCT_FETCH_FAIL = 'PRODUCT_FETCH_FAIL';\nexport const ADD_CART_ITEM = 'ADD_CART_ITEM';\nexport const DELETE_CART_ITEM = 'DELETE_CART_ITEM';\nexport const EMPTY_CART = 'EMPTY_CART';\nexport const ORDER_LIST_REQUEST = 'ORDER_LIST_REQUEST';\nexport const ORDER_LIST_SUCCESS = 'ORDER_LIST_SUCCESS';\nexport const ORDER_LIST_FAIL = 'ORDER_LIST_FAIL';\nexport const ORDER_FETCH_REQUEST = 'ORDER_FETCH_REQUEST';\nexport const ORDER_FETCH_SUCCESS = 'ORDER_FETCH_SUCCESS';\nexport const ORDER_FETCH_FAIL = 'ORDER_FETCH_FAIL';\nexport const COLLECTION_LIST_REQUEST = 'COLLECTIONLIST_REQUEST';\nexport const COLLECTION_LIST_SUCCESS = 'COLLECTION_LIST_SUCCESS';\nexport const COLLECTION_LIST_FAIL = 'COLLECTION_LIST_FAIL';\n// export const COLLECTION_POST_SUCCESS = 'COLLECTION_POST_SUCCESS';\nexport const SIGNUP_REQUEST = 'SIGNUP_REQUEST';\nexport const SIGNUP_SUCCESS = 'SIGNUP_SUCCESS';\nexport const SIGNUP_FAIL = 'SIGNUP_FAIL';\nexport const LOGIN_REQUEST = 'LOGIN_REQUEST';\nexport const LOGIN_SUCCESS = 'LOGIN_SUCCESS';\nexport const LOGIN_FAIL = 'LOGIN_FAIL';\nexport const LOGOUT = 'LOGOUT';\n","import { loginRequest, signupRequest } from '../api/authApi';\n\nimport { LOGIN_REQUEST, LOGIN_SUCCESS, LOGIN_FAIL, LOGOUT, SIGNUP_REQUEST, SIGNUP_FAIL, SIGNUP_SUCCESS } from './types';\n\nexport const login = (email, password) => async (dispatch) => {\n  dispatch({ type: LOGIN_REQUEST });\n\n  try {\n    const { token, isUserAdmin, UsersEmail, UsersName } = await loginRequest(email, password);\n    dispatch({\n      type: LOGIN_SUCCESS,\n      payload: { token, isAdmin: isUserAdmin, name: UsersName, email: UsersEmail },\n    });\n  } catch (error) {\n    dispatch({ type: LOGIN_FAIL });\n  }\n};\n\nexport const logout = () => {\n  return {\n    type: LOGOUT,\n  };\n};\n\nexport const signup = (name, email, password) => async (dispatch) => {\n  dispatch({ type: SIGNUP_REQUEST });\n\n  try {\n    await signupRequest(name, email, password);\n    dispatch({ type: SIGNUP_SUCCESS });\n\n    //True denotes that signup was successful, so signup page can redirect on success.\n    return true;\n  } catch (error) {\n    dispatch({ type: SIGNUP_FAIL });\n    return false;\n  }\n};\n","import { useEffect } from 'react';\n\n//Idea is takes an element ref. and callback. When user clicks outside of this element on the page, then callback is run.\n//could be used for example to run a function to close a modal when user clicks outside of it,\nconst useOnClickOutsideElement = (elementRef, callback) => {\n  useEffect(() => {\n    const handleClick = (event) => {\n      //if modal isn't open\n\n      if (!elementRef.current || elementRef.current.contains(event.target)) {\n        return;\n      }\n      callback(event);\n    };\n\n    document.addEventListener('mousedown', handleClick);\n    document.addEventListener('touchstart', handleClick);\n\n    return () => {\n      document.removeEventListener('click', handleClick);\n    };\n    // eslint-disable-next-line\n  }, [elementRef]);\n};\n\nexport default useOnClickOutsideElement;\n","import React, { useRef, useState } from 'react';\r\nimport { Link, useLocation, useNavigate } from 'react-router-dom';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { logout } from '../../actions/authActions';\r\n\r\nimport useOnClickOutsideElement from '../../hooks/useOnClickOutsideElement';\r\n\r\nimport './NavBar.scss';\r\n\r\nconst NavBar = () => {\r\n  const modalToggleButton = useRef(null);\r\n  const modalRef = useRef(null);\r\n  // const [isUserModalOpen, setIsUserModalOpen] = useClickOutsideClose(modalRef);\r\n  const [isUserModalOpen, setIsUserModalOpen] = useState(false);\r\n  const { pathname } = useLocation();\r\n  const navigate = useNavigate();\r\n  const isLoggedIn = useSelector((state) => state.auth.isLoggedIn);\r\n  const isAdmin = useSelector((state) => state.auth.isAdmin);\r\n  const name = useSelector((state) => state.auth.name);\r\n  const dispatch = useDispatch();\r\n  useOnClickOutsideElement(modalRef, () => setIsUserModalOpen(false));\r\n\r\n  const renderRightElements = () => {\r\n    const signupElement = (\r\n      <button\r\n        className='navbar-button button-cadet'\r\n        onClick={() => {\r\n          navigate('/signup');\r\n        }}\r\n      >\r\n        Sign Up\r\n      </button>\r\n    );\r\n    const loginElement = (\r\n      <button\r\n        className='navbar-button button-orange'\r\n        onClick={() => {\r\n          navigate('/login');\r\n        }}\r\n      >\r\n        Login\r\n      </button>\r\n    );\r\n\r\n    const cartElement = (\r\n      <img\r\n        className='navBar-cart-icon'\r\n        src='/images/cart-icon.svg'\r\n        alt='cart-icon'\r\n        onClick={() => {\r\n          navigate('/cart');\r\n        }}\r\n      />\r\n    );\r\n\r\n    if (!isLoggedIn) {\r\n      return (\r\n        <>\r\n          {signupElement}\r\n          {loginElement}\r\n          {cartElement}\r\n        </>\r\n      );\r\n    } else {\r\n      return (\r\n        <>\r\n          <div\r\n            className={`nav-user-container ${isUserModalOpen ? 'active' : ''}`}\r\n            onClick={() => {\r\n              setIsUserModalOpen(true);\r\n            }}\r\n            ref={modalToggleButton}\r\n          >\r\n            Hi {name},\r\n            <svg\r\n              className='nav-user-arrow'\r\n              width='17'\r\n              height='11'\r\n              viewBox='0 0 17 11'\r\n              fill='none'\r\n              xmlns='http://www.w3.org/2000/svg'\r\n            >\r\n              <path\r\n                className={`nav-user-arrow-path ${isUserModalOpen ? 'active' : ''}`}\r\n                d='M2.28767 0L8.00195 6.875L13.7162 0L16.002 1.375L8.00195 11L0.00195312 1.375L2.28767 0Z'\r\n                fill='#8D8A8A'\r\n              />\r\n            </svg>\r\n            {isUserModalOpen && (\r\n              <div className='nav-user-modal' ref={modalRef}>\r\n                <div className='nav-user-modal-link'>\r\n                  <Link to='/myphotos'>My Photos</Link>\r\n                </div>\r\n                <div className='nav-user-modal-link'>\r\n                  <Link to='/myaccount'>My Account</Link>{' '}\r\n                </div>\r\n                {isAdmin && (\r\n                  <div className='nav-user-modal-link'>\r\n                    <a href='https://admin.skylightphotography.co.uk'>Dashboard</a>\r\n                  </div>\r\n                )}\r\n                <div className='nav-user-modal-bottom-container'>\r\n                  <div\r\n                    className='nav-user-modal-link nav-user-modal-logout'\r\n                    onClick={() => {\r\n                      dispatch(logout());\r\n                    }}\r\n                  >\r\n                    Sign out\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n          {/* <button\r\n            onClick={() => {\r\n              dispatch(logout());\r\n            }}\r\n          >\r\n            Logout\r\n          </button> */}\r\n          <div className='navbar-button-container'>\r\n            <Link to='/myphotos' className='navbar-button button-orange'>\r\n              My Photos\r\n            </Link>\r\n          </div>\r\n          {cartElement}\r\n        </>\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className='navbar-container'>\r\n      <div className='navBar'>\r\n        <div className='navBar-start'>\r\n          <div className='navBar-start-item-container'>\r\n            <Link to='/' className={`navBar-start-item-a ${pathname === '/' ? 'active' : ''}`}>\r\n              Home\r\n            </Link>\r\n          </div>\r\n          {/* <Link to='/'>Portolio</Link> */}\r\n          <div className='navBar-start-item-container'>\r\n            <Link to='/shop' className={`navBar-start-item-a ${pathname === '/shop' ? 'active' : ''}`}>\r\n              Shop\r\n            </Link>\r\n          </div>\r\n        </div>\r\n        <img\r\n          alt='skylight-photography-logo'\r\n          src='/images/logo.png'\r\n          className='navBar-logo'\r\n          onClick={() => {\r\n            navigate('/');\r\n          }}\r\n        />\r\n        <div className='navBar-end'>{renderRightElements()}</div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NavBar;\r\n","import React, { useState } from 'react';\n\nimport './MailingList.scss';\n\nconst MailingList = () => {\n  const [email, setEmail] = useState();\n\n  const handleMailListSignup = (e) => {\n    e.preventDefault();\n  };\n\n  return (\n    <div className='mail-list-container'>\n      <div className='mail-list'>\n        <div className='mail-list-title'>Mailing List</div>\n        <form className='mail-list-form' onSubmit={handleMailListSignup}>\n          <input\n            className='mail-list-email-input'\n            value={email}\n            onChange={(e) => {\n              setEmail(e.target.value);\n            }}\n            placeholder='E-mail Address'\n            type='email'\n          />\n          <button className='button-orange mail-list-email-signup-button' type='submit'>\n            Sign Up\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default MailingList;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport './Footer.scss';\n\nconst onLinkClick = () => {\n  window.scrollTo(0, 0);\n};\n\nconst Footer = () => {\n  return (\n    <div className='footer-container'>\n      <div className='footer-content'>\n        <div className='footer-content-left'>\n          <img src='/images/logo.png' alt='skylight-photography-logo' />\n          <div className='footer-left-text'>\n            Check out our socials below to keep up to date with Skylight Photography\n          </div>\n          <div className='footer-left-logos'>\n            <img className='footer-left-logo' src='/images/linked-in-logo-footer.png' alt='linked-in-logo' />\n            <img className='footer-left-logo' src='/images/twitter-logo-footer.png' alt='twitter-logo' />\n            <img className='footer-left-logo' src='/images/facebook-logo-footer.png' alt='facebook-logo' />\n          </div>\n        </div>\n        <div className='footer-content-right'>\n          <div className='footer-right-column'>\n            <div className='footer-right-header'>About</div>\n            <Link className='footer-right-column-subtext' to='/' onClick={onLinkClick}>\n              Home\n            </Link>\n            <Link className='footer-right-column-subtext' to='/shop' onClick={onLinkClick}>\n              Shop\n            </Link>\n          </div>\n          <div className='footer-right-column'>\n            <div className='footer-right-header'>Information</div>\n            <Link to='/myaccount' className='footer-right-column-subtext' onClick={onLinkClick}>\n              Account\n            </Link>\n            <Link to='/myphotos' className='footer-right-column-subtext' onClick={onLinkClick}>\n              My Photos\n            </Link>\n            <div className='footer-right-column-subtext'>Newsletter</div>\n          </div>\n          <div className='footer-right-column'>\n            <div className='footer-right-header'>Get In Touch</div>\n            <div className='get-in-touch-row footer-right-column-subtext'>\n              <div>Telephone:</div>\n              <div className='get-in-touch-value'>07585 952895</div>\n            </div>\n            <div className='get-in-touch-row footer-right-column-subtext'>\n              <div>E-mail:</div>\n              <div className='get-in-touch-value'>skylightphotography@gmail.com</div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div className='footer-copyright'>© 2022 All Rights Reserved</div>\n    </div>\n  );\n};\n\nexport default Footer;\n","import React, { useState } from 'react';\nimport { useNavigate, Link } from 'react-router-dom';\nimport NavBar from '../../components/NavBar/NavBar';\nimport MailingList from '../../components/MailingList/MailingList';\nimport Footer from '../../components/Footer/Footer';\n\nimport './HomePage.scss';\n\nconst featuredPhotos = [\n  null,\n\n  'featured-photo-2.png',\n  'featured-photo-3.png',\n  'featured-photo-4.png',\n  'featured-photo-5.png',\n  'featured-photo-1.png',\n  null,\n];\n\n// const animationTime = 500;\n\nconst HomePage = () => {\n  const navigate = useNavigate();\n\n  const [imageSliderState, setImageSliderState] = useState({\n    startingImageIndex: 0,\n    isFromLeft: false,\n    isFromRight: false,\n  });\n\n  const [formEmail, setFormEmail] = useState('');\n  const [formName, setFormName] = useState('');\n  const [formSubject, setFormSubject] = useState('');\n  const [formMessage, setFormMessage] = useState('');\n\n  const getNextStartingIndex = (change) => {\n    const newIndex = imageSliderState.startingImageIndex + change;\n    if (newIndex < 0 || newIndex > featuredPhotos.length - 5) {\n      return imageSliderState.startingImageIndex;\n    }\n    return newIndex;\n  };\n\n  const handleArrowClick = (change) => {\n    if (change === -1) {\n      const newIndex = getNextStartingIndex(-1);\n      if (newIndex === imageSliderState.startingImageIndex) {\n        return;\n      }\n\n      setImageSliderState({\n        startingImageIndex: getNextStartingIndex(-1),\n        isFromLeft: true,\n        isFromRight: false,\n      });\n    }\n    if (change === 1) {\n      const newIndex = getNextStartingIndex(1);\n      if (newIndex === imageSliderState.startingImageIndex) {\n        return;\n      }\n\n      setImageSliderState({\n        startingImageIndex: getNextStartingIndex(1),\n        isFromLeft: false,\n        isFromRight: true,\n      });\n    }\n  };\n\n  const renderFeaturedPhotos = () => {\n    // return featuredPhotos.map((fileName) => <img src={`/images/${fileName}`} />);\n\n    const renderedFeaturedPhotos = [];\n\n    // for (let i = startImageIndex; i < startImageIndex + 4; i++) {\n    //   const isFinalClass = i === startImageIndex + 3 ? 'final' : '';\n    //   renderedFeaturedPhotos.push(\n    //     <img className={`s2-img-slider-img ${isFinalClass}`} src={`/images/${featuredPhotos[i]}`} />\n    //   );\n    // }\n    const fromLeftClass = imageSliderState.isFromLeft ? 'from-left' : '';\n    const fromRightClass = imageSliderState.isFromRight ? 'from-right' : '';\n\n    for (let i = 0; i < 5; i++) {\n      if (imageSliderState.startingImageIndex === 0 && i === 0) {\n        //Fake image div to balance out positioning, is never in view.\n        renderedFeaturedPhotos.push(<div className='s2-img-slider-img s2-img-slider-fake-img-div'></div>);\n        continue;\n      }\n\n      renderedFeaturedPhotos.push(\n        <img\n          alt='slider'\n          className={`s2-img-slider-img ${fromLeftClass} ${fromRightClass} ${imageSliderState.startingImageIndex}`}\n          src={`/images/${featuredPhotos[i + imageSliderState.startingImageIndex]}`}\n          key={+new Date() + i}\n        />\n      );\n    }\n\n    return renderedFeaturedPhotos;\n  };\n\n  const renderFeaturedPhotosArrows = () => {\n    return (\n      <div className='hp-s2-photo-arrows'>\n        <svg\n          className='sp-arrow-left'\n          onClick={() => {\n            handleArrowClick(-1);\n          }}\n          width='39'\n          height='39'\n          viewBox='0 0 39 39'\n          fill='none'\n          xmlns='http://www.w3.org/2000/svg'\n        >\n          <rect x='0.5' y='0.5' width='38' height='38' stroke='#8D8A8A' />\n          <path\n            fillRule='evenodd'\n            clipRule='evenodd'\n            d='M29.4324 19.4998C29.4324 19.8221 29.3016 20.1313 29.0687 20.3592C28.8359 20.5871 28.5201 20.7152 28.1908 20.7152H13.8055L19.137 25.9315C19.2524 26.0445 19.344 26.1787 19.4065 26.3263C19.4689 26.474 19.5011 26.6322 19.5011 26.792C19.5011 26.9518 19.4689 27.1101 19.4065 27.2577C19.344 27.4053 19.2524 27.5395 19.137 27.6525C19.0215 27.7655 18.8845 27.8551 18.7337 27.9163C18.5828 27.9774 18.4212 28.0089 18.2579 28.0089C18.0947 28.0089 17.933 27.9774 17.7822 27.9163C17.6313 27.8551 17.4943 27.7655 17.3789 27.6525L9.92922 20.3603C9.8136 20.2474 9.72186 20.1133 9.65926 19.9656C9.59667 19.818 9.56445 19.6597 9.56445 19.4998C9.56445 19.34 9.59667 19.1817 9.65926 19.034C9.72186 18.8863 9.8136 18.7522 9.92922 18.6393L17.3789 11.3471C17.612 11.1189 17.9282 10.9907 18.2579 10.9907C18.5876 10.9907 18.9038 11.1189 19.137 11.3471C19.3701 11.5754 19.5011 11.8849 19.5011 12.2076C19.5011 12.5304 19.3701 12.8399 19.137 13.0681L13.8055 18.2844H28.1908C28.5201 18.2844 28.8359 18.4125 29.0687 18.6404C29.3016 18.8683 29.4324 19.1775 29.4324 19.4998Z'\n            fill='#8D8A8A'\n          />\n        </svg>\n        <svg\n          className='sp-arrow-right'\n          onClick={() => {\n            handleArrowClick(1);\n          }}\n          width='39'\n          height='39'\n          viewBox='0 0 39 39'\n          fill='none'\n          xmlns='http://www.w3.org/2000/svg'\n        >\n          <rect x='-0.5' y='0.5' width='38' height='38' transform='matrix(-1 0 0 1 38 0)' stroke='#8D8A8A' />\n          <path\n            fillRule='evenodd'\n            clipRule='evenodd'\n            d='M9.56762 19.4998C9.56762 19.8221 9.69843 20.1313 9.93128 20.3592C10.1641 20.5871 10.4799 20.7152 10.8092 20.7152H25.1945L19.863 25.9315C19.7476 26.0445 19.656 26.1787 19.5935 26.3263C19.5311 26.474 19.4989 26.6322 19.4989 26.792C19.4989 26.9518 19.5311 27.1101 19.5935 27.2577C19.656 27.4053 19.7476 27.5395 19.863 27.6525C19.9785 27.7655 20.1155 27.8551 20.2663 27.9163C20.4172 27.9774 20.5788 28.0089 20.7421 28.0089C20.9053 28.0089 21.067 27.9774 21.2178 27.9163C21.3687 27.8551 21.5057 27.7655 21.6211 27.6525L29.0708 20.3603C29.1864 20.2474 29.2781 20.1133 29.3407 19.9656C29.4033 19.818 29.4355 19.6597 29.4355 19.4998C29.4355 19.34 29.4033 19.1817 29.3407 19.034C29.2781 18.8863 29.1864 18.7522 29.0708 18.6393L21.6211 11.3471C21.388 11.1189 21.0718 10.9907 20.7421 10.9907C20.4124 10.9907 20.0962 11.1189 19.863 11.3471C19.6299 11.5754 19.4989 11.8849 19.4989 12.2076C19.4989 12.5304 19.6299 12.8399 19.863 13.0681L25.1945 18.2844H10.8092C10.4799 18.2844 10.1641 18.4125 9.93128 18.6404C9.69843 18.8683 9.56762 19.1775 9.56762 19.4998Z'\n            fill='#8D8A8A'\n          />\n        </svg>\n      </div>\n    );\n  };\n\n  const handleContactUsSubmit = (e) => {\n    e.preventDefault();\n    return;\n  };\n\n  return (\n    <div className='home-page'>\n      <NavBar />\n      <div className='section-1-container'>\n        <div className='section-1'>\n          <div className='hp-1-images-container'>\n            <img src='/images/clouds-photo-2.png' alt='skylight-photography' className='hp-1-image-under' />\n            <img src='/images/finger-photo-2.png' alt='skylight-photography' className='hp-1-image-over' />\n          </div>\n          <div className='hp-1-content-right'>\n            <div className='hp-1-welcome-text'>Welcome To</div>\n            <div className='hp-1-sp'>Skylight Photography</div>\n            <div className='hp-1-description'>\n              Profesional Photography Services centered in the Norfolk Rocklands St Peter area. Check out our digital\n              shop or read more about us below.\n            </div>\n            <button\n              className='button-orange hp-1-shop-button'\n              onClick={() => {\n                navigate('/shop');\n              }}\n            >\n              Shop\n            </button>\n          </div>\n        </div>\n      </div>\n      <div className='sp-section-2-container'>\n        <div className='sp-section-2'>\n          <div className='sp-s2-content-left'>\n            <div className='sp-s2-title'>Featured Photos</div>\n            <div className='sp-s2-description'>\n              We specialise in Landscape Photography which can be seen throughout our shop. We vary from beautfiul river\n              scapes to the streets of Milan. These featured photos are available for purchase in the shop.\n            </div>\n            <button className='button-orange sp-s2-shop-all-button'>\n              <Link to='/shop'>Shop All</Link>\n            </button>\n          </div>\n          <div className='sp-s2-content-right'>\n            <div className='sp-s2-photo-slider'>{renderFeaturedPhotos()}</div>\n            <div>{renderFeaturedPhotosArrows()}</div>\n          </div>\n        </div>\n      </div>\n      <div className='section-3-container'>\n        <div className='section-3'>\n          <div className='s3-about-us-container'>\n            <div className='s3-about-us-title'>About Us</div>\n            <div className='s3-about-us-text s3-about-us-text-1'>\n              Skylight Photography is a Proud small business centered in the Norfolk Rocklands St Peter area! We not\n              only sell our own photographs but also are avaliable for private event photography. See our contact us\n              section below for more details.\n            </div>\n            <div className='s3-about-us-text s3-about-us-text-2'>\n              {/* Skylight Photography isn’t just a business but a family of photographers. We take the wellbeing and\n              happiness of both our staff and clients with great pride. CEO, and Lead Photographer George Ward has been\n              looking after Skylight Photography for nearly 5 years now, and is at the forefront of the business still\n              to this day. */}\n            </div>\n          </div>\n          <div className='s3-images-container'>\n            <img className='s3-image-behind' alt='skylight-photography' src='/images/s3-behind.png' />\n            <img className='s3-image-top' alt='skylight-photography' src='/images/s3-front.png' />\n          </div>\n        </div>\n      </div>\n      <div className='section-4-container'>\n        <div className='section-4'>\n          <div className='s4-line s4-line-top'></div>\n          <div className='s4-title'>Contact Us</div>\n          <div className='s4-contact-us-container'>\n            <form className='s4-cu-form' onSubmit={handleContactUsSubmit}>\n              <input\n                className='s4-cu-form-input'\n                name='email'\n                type='email'\n                placeholder='E-mail Address'\n                value={formEmail}\n                onChange={(e) => {\n                  setFormEmail(e.target.value);\n                }}\n              />\n              <input\n                className='s4-cu-form-input'\n                name='name'\n                type='text'\n                placeholder='Name'\n                value={formName}\n                onChange={(e) => {\n                  setFormName(e.target.value);\n                }}\n              />\n              <input\n                className='s4-cu-form-input'\n                name='subject'\n                type='text'\n                placeholder='Subject'\n                value={formSubject}\n                onChange={(e) => {\n                  setFormSubject(e.target.value);\n                }}\n              />\n              <input\n                className='s4-cu-form-input'\n                name='message'\n                type='text'\n                placeholder='Message'\n                value={formMessage}\n                onChange={(e) => {\n                  setFormMessage(e.target.value);\n                }}\n              />\n              <button className='button-orange s4-cu-submit-button' type='submit'>\n                Send\n              </button>\n            </form>\n            <div className='s4-cu-right'>\n              <div className='s4-cu-subtitle'>Let’s Connect</div>\n              <div className='s4-cu-text'>\n                Here at Skylight Photography we provide a range of services including private event photography. We\n                specialise in aerial, weddings, sports, events, product, food and much more! If you have any questions\n                please contact the team now and we will get back to you as soon as possible.\n              </div>\n              <div className='s4-cu-text'>\n                If you want to keep up to date with the latest Skylight Photography news then subscribe to our Mailing\n                List below to get Newsletters and more!\n              </div>\n            </div>\n          </div>\n          <div className='s4-line s4-line-bottom'></div>\n        </div>\n        <MailingList />\n        <Footer />\n      </div>\n    </div>\n  );\n};\n\nexport default HomePage;\n","import { ADD_CART_ITEM, DELETE_CART_ITEM, EMPTY_CART } from './types';\n\nexport const AddCartItem = (id) => async (dispatch) => {\n  dispatch({\n    type: ADD_CART_ITEM,\n    payload: Number(id),\n  });\n};\n\nexport const DeleteCartItem = (id) => async (dispatch) => {\n  dispatch({\n    type: DELETE_CART_ITEM,\n    payload: Number(id),\n  });\n};\n\nexport const EmptyCart = () => ({\n  type: EMPTY_CART,\n});\n","import { makeRequest } from '../util/util.js';\n\nexport const fetchProductsRequest = async () => {\n  return await makeRequest('/shop/products');\n};\n\nexport const fetchProductRequest = async (id) => {\n  return await makeRequest(`/shop/products/${id}`);\n};\n","import { makeRequest } from '../util/util.js';\n\nexport const fetchCollectionsRequest = async () => {\n  return await makeRequest('/shop/collections');\n};\n","import { useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { fetchCollectionList } from '../actions/collectionActions';\n\n//Purpose is to ensure product list is fetched from server and added to redux state\n//Maybe add optional parm for fetchNewList, if true then will fetch product list from backend and update state\n//first time the component mounts (could be usefull for cart)\nconst useCollections = () => {\n  const { collections, isLoading, isLoaded, error } = useSelector((state) => state.collectionList);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (!isLoading && !isLoaded) {\n      dispatch(fetchCollectionList());\n    }\n    // eslint-disable-next-line\n  }, []);\n\n  if (isLoaded) {\n    //Generate list of collection names,\n    const collectionMap = {};\n\n    collections.forEach((collection) => {\n      collectionMap[collection.id] = collection.name;\n    });\n\n    return { collections, collectionMap, isLoaded, error };\n  }\n\n  return { collections: [], collectionMap: {}, isLoaded, error };\n};\n\nexport default useCollections;\n","import {\n  COLLECTION_LIST_REQUEST,\n  COLLECTION_LIST_FAIL,\n  COLLECTION_LIST_SUCCESS,\n  // COLLECTION_POST_SUCCESS,\n} from './types';\n\nimport { fetchCollectionsRequest } from '../api/collectionApi';\n\nexport const fetchCollectionList = () => async (dispatch) => {\n  try {\n    dispatch({\n      type: COLLECTION_LIST_REQUEST,\n    });\n\n    const productList = await fetchCollectionsRequest();\n\n    dispatch({\n      type: COLLECTION_LIST_SUCCESS,\n      payload: productList,\n    });\n  } catch (error) {\n    dispatch({\n      type: COLLECTION_LIST_FAIL,\n      payload: error,\n    });\n  }\n};\n","import { useState, useEffect, useLayoutEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { fetchProductList } from '../actions/productActions';\n\nimport useCollections from './useCollections';\n\n//Purpose is to ensure product list is fetched from server and added to redux state\n//Maybe add optional parm for fetchNewList, if true then will fetch product list from backend and update state\n//first time the component mounts (could be usefull for cart)\n\n//TODO: Need to only return when collection and products are loaded. Map products so\n//TODO: collectionid is turned to collection name.\n\nlet currentMaxProductPrice = 0;\n\nconst useProducts = () => {\n  const { collections, collectionMap, isLoaded: isCollectionsLoaded, error: collectionsError } = useCollections();\n  const {\n    products,\n    isLoading,\n    isLoaded: isProductsLoaded,\n    error: productsError,\n  } = useSelector((state) => state.productList);\n  const [maxProductPrice, setMaxProductPrice] = useState(currentMaxProductPrice);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (!isLoading && !isProductsLoaded) {\n      dispatch(fetchProductList());\n    }\n    // eslint-disable-next-line\n  }, []);\n\n  useLayoutEffect(() => {\n    //Get max price of product\n    let maxPrice =\n      products.reduce((prev, current) => (+current.priceInPence > prev ? current.priceInPence : prev), 0) / 100;\n\n    setMaxProductPrice(maxPrice);\n    currentMaxProductPrice = maxPrice;\n  }, [products]);\n\n  if (isProductsLoaded && isCollectionsLoaded && maxProductPrice) {\n    return {\n      products,\n      isLoaded: true,\n      error: null,\n      collectionMap,\n      collections,\n      maxProductPrice: maxProductPrice,\n    };\n  }\n\n  const error = productsError || collectionsError;\n\n  return { products: [], error, collectionMap: [], collections: [], isLoaded: false, maxProductPrice: maxProductPrice };\n};\n\nexport default useProducts;\n","import {\n  PRODUCT_LIST_REQUEST,\n  PRODUCT_LIST_FAIL,\n  PRODUCT_LIST_SUCCESS,\n  PRODUCT_FETCH_REQUEST,\n  PRODUCT_FETCH_FAIL,\n  PRODUCT_FETCH_SUCCESS,\n} from './types';\n\nimport { fetchProductRequest, fetchProductsRequest } from '../api/productsApi';\n\n//Fetches list of products from backend, productList.products is set to result\nexport const fetchProductList = () => async (dispatch, getState) => {\n  try {\n    dispatch({\n      type: PRODUCT_LIST_REQUEST,\n    });\n\n    const productList = await fetchProductsRequest();\n\n    dispatch({\n      type: PRODUCT_LIST_SUCCESS,\n      payload: productList,\n    });\n  } catch (error) {\n    dispatch({\n      type: PRODUCT_LIST_FAIL,\n      payload: error,\n    });\n  }\n};\n\n//Will fetch product from backend and put to productList\nexport const fetchProduct = (id) => async (dispatch) => {\n  try {\n    dispatch({\n      type: PRODUCT_FETCH_REQUEST,\n    });\n\n    const product = await fetchProductRequest(id);\n\n    dispatch({\n      type: PRODUCT_FETCH_SUCCESS,\n      payload: product,\n    });\n  } catch (error) {\n    dispatch({\n      type: PRODUCT_FETCH_FAIL,\n      payload: error,\n    });\n  }\n};\n","import React, { useLayoutEffect, useState, useRef, useEffect } from 'react';\n\nimport './TwoPointSlider.scss';\n\nlet thumbsize = 14;\n\nconst TwoPointSlider = ({ bouncyMinVal, setbouncyMinVal, bouncyMaxVal, setbouncyMaxVal, min, max }) => {\n  const [avg, setAvg] = useState((min + max) / 2);\n  const [width, setWidth] = useState(0);\n  const minMaxSlider = useRef(null);\n\n  const minWidth = thumbsize + ((avg - min) / (max - min)) * (width - 2 * thumbsize);\n  const minPercent = ((bouncyMinVal - min) / (avg - min)) * 100;\n  const maxPercent = ((bouncyMaxVal - avg) / (max - avg)) * 100;\n  const styles = {\n    min: {\n      width: minWidth,\n      left: 0,\n      '--minRangePercent': `${minPercent}%`,\n    },\n    max: {\n      width: thumbsize + ((max - avg) / (max - min)) * (width - 2 * thumbsize),\n      left: minWidth,\n      '--maxRangePercent': `${maxPercent}%`,\n    },\n  };\n\n  //This keeps the width of the component to the same as its parent container.\n  useEffect(() => {\n    const resize = () => {\n      if (!minMaxSlider.current) {\n        return;\n      }\n      setWidth(minMaxSlider.current.parentElement.getBoundingClientRect().width);\n    };\n\n    window.addEventListener('resize', resize);\n\n    return () => {\n      window.removeEventListener('resize', resize);\n    };\n  }, []);\n\n  useLayoutEffect(() => {\n    console.log('test');\n    // console.log(minMaxSlider.current.parentElement.getBoundingClientRect().width);\n    setWidth(minMaxSlider.current.parentElement.getBoundingClientRect().width);\n  }, []);\n\n  useLayoutEffect(() => {\n    setAvg((bouncyMaxVal + bouncyMinVal) / 2);\n  }, [bouncyMinVal, bouncyMaxVal]);\n\n  return (\n    <div\n      className='min-max-slider'\n      ref={minMaxSlider}\n      data-legendnum='2'\n      data-rangemin={min}\n      data-rangemax={max}\n      data-thumbsize={thumbsize}\n      data-rangewidth={width}\n    >\n      <label htmlFor='min'>Minimum price</label>\n      <input\n        id='min'\n        className='min'\n        style={styles.min}\n        name='min'\n        type='range'\n        step='1'\n        min={min}\n        max={avg}\n        value={bouncyMinVal}\n        onChange={({ target }) => setbouncyMinVal(Number(target.value))}\n      />\n      <label htmlFor='max'>Maximum price</label>\n      <input\n        id='max'\n        className='max'\n        style={styles.max}\n        name='max'\n        type='range'\n        step='1'\n        min={avg}\n        max={max}\n        value={bouncyMaxVal}\n        onChange={({ target }) => setbouncyMaxVal(Number(target.value))}\n      />\n    </div>\n  );\n};\n\nexport default TwoPointSlider;\n","import React, { useState, useEffect } from 'react';\nimport TwoPointSlider from '../TwoPointSlider';\n\nimport './TwoPointPriceSlider.scss';\n\n//Purpose of component is to display values of slider instantly as prices, but debounce the change for any other components to use\nconst TwoPointPriceSlider = ({ setMinVal, setMaxVal, min, max, initialMin, initialMax }) => {\n  const [bouncyMinVal, setBouncyMinVal] = useState(initialMin);\n  const [bouncyMaxVal, setBouncyMaxVal] = useState(initialMax);\n\n  //Effect to debounce the min and max values for any parent component to use\n  useEffect(() => {\n    const timeoutId = setTimeout(() => {\n      setMinVal(bouncyMinVal);\n      setMaxVal(Math.ceil(bouncyMaxVal));\n    }, 50);\n\n    return () => {\n      clearTimeout(timeoutId);\n    };\n  });\n\n  return (\n    <>\n      <div className='shop-price-slider-prices'>\n        <div>£{bouncyMinVal}</div>\n        <div className='shop-price-filter-maxprice'>£{Math.ceil(bouncyMaxVal)}</div>\n      </div>\n      <TwoPointSlider\n        bouncyMaxVal={bouncyMaxVal}\n        bouncyMinVal={bouncyMinVal}\n        setbouncyMinVal={setBouncyMinVal}\n        setbouncyMaxVal={setBouncyMaxVal}\n        min={min}\n        max={max}\n      />\n    </>\n  );\n};\n\nexport default TwoPointPriceSlider;\n","import { useLayoutEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\n\nconst useScrollToPrevious = () => {\n  const location = useLocation();\n\n  useLayoutEffect(() => {\n    if (location?.state?.scrollPos) {\n      const { scrollPos } = location.state;\n      console.log('scrolling to');\n      console.log(scrollPos);\n      window.scroll(0, scrollPos);\n    }\n  }, [location.state]);\n};\n\nexport default useScrollToPrevious;\n","import React, { useState, useRef } from 'react';\r\n\r\nimport useOnClickOutsideElement from '../../hooks/useOnClickOutsideElement';\r\n\r\nimport './SortBySelect.scss';\r\n\r\nconst SortBySelect = ({ sortByOptions, activeSortBy, setActiveSortBy }) => {\r\n  const [isSelectOpen, setIsSelectOpen] = useState(false);\r\n  const selectElementRef = useRef(null);\r\n  useOnClickOutsideElement(selectElementRef, () => setIsSelectOpen(false));\r\n\r\n  const renderSelectOptions = () => {\r\n    return sortByOptions.map((option) => {\r\n      const isActiveOption = option.id === activeSortBy.id;\r\n\r\n      return (\r\n        <div\r\n          key={option.id}\r\n          className='shop-sort-select-row'\r\n          onClick={() => {\r\n            setIsSelectOpen(false);\r\n            setActiveSortBy(option);\r\n          }}\r\n        >\r\n          <div className='shop-sort-select-row-tick-container'>\r\n            {isActiveOption && <img src='/images/active-tick.svg' alt='active tick' />}\r\n          </div>\r\n          <div className='shop-sort-select-row-description'>{option.description}</div>\r\n        </div>\r\n      );\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className='shop-sort-by-contaner'>\r\n      <button\r\n        className='shop-sort-by-button'\r\n        onClick={() => {\r\n          setIsSelectOpen(true);\r\n        }}\r\n      >\r\n        <div className='shop-sort-by-text'>Sort By: {activeSortBy.description.slice(0, 4)}...</div>\r\n\r\n        <svg\r\n          className='shop-sort-by-arrow'\r\n          width='15'\r\n          height='7'\r\n          viewBox='0 0 15 7'\r\n          fill='none'\r\n          xmlns='http://www.w3.org/2000/svg'\r\n        >\r\n          <path\r\n            d='M1.31714 0.299609C1.72031 0.117605 2.19299 0.191547 2.52133 0.487982L5.50846 3.18491C6.65044 4.21595 8.38728 4.21595 9.52925 3.18491L12.5164 0.487982C12.8447 0.191547 13.3174 0.117605 13.7206 0.299609C14.4524 0.629951 14.6045 1.60271 14.0086 2.14075L9.52925 6.18492C8.38728 7.21595 6.65044 7.21595 5.50846 6.18491L1.02912 2.14075C0.43319 1.60271 0.585362 0.629951 1.31714 0.299609Z'\r\n            fill='#8D8A8A'\r\n          />\r\n        </svg>\r\n      </button>\r\n      {isSelectOpen && (\r\n        <div className='sort-by-select' ref={selectElementRef}>\r\n          {renderSelectOptions()}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SortBySelect;\r\n","import React, { useState, useEffect, useLayoutEffect } from 'react';\nimport { useNavigate, useLocation } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\nimport { AddCartItem } from '../../actions/cartActions';\nimport useProducts from '../../hooks/useProducts';\nimport NavBar from '../../components/NavBar/NavBar';\nimport MailingList from '../../components/MailingList/MailingList';\nimport Footer from '../../components/Footer/Footer';\nimport TwoPointPriceSlider from '../../components/TwoPointPriceSlider/TwoPointPriceSlider';\nimport useScrollToPrevious from '../../hooks/useScrollToPrevious';\nimport SortBySelect from '../../components/SortBySelect/SortBySelect';\n\nimport './ShopPage.scss';\n\nconst PRODS_PER_PAGE = 9;\n\nconst sortByOptions = [\n  {\n    id: 1,\n    description: 'Featured',\n    sortFunc(a, b) {\n      return a.orderPosition - b.orderPosition;\n    },\n  },\n  {\n    id: 2,\n    description: 'Price: Low to High',\n    sortFunc(a, b) {\n      return a.priceInPence - b.priceInPence;\n    },\n  },\n  {\n    id: 3,\n    description: 'Price: High to Low',\n    sortFunc(a, b) {\n      return b.priceInPence - a.priceInPence;\n    },\n  },\n  {\n    id: 4,\n    description: 'Newest',\n    sortFunc(a, b) {\n      const aTimeStamp = new Date(a.createdAt).getTime();\n      const bTimeStamp = new Date(b.createdAt).getTime();\n\n      return bTimeStamp - aTimeStamp;\n    },\n  },\n  {\n    id: 5,\n    description: 'Oldest',\n    sortFunc(a, b) {\n      const aTimeStamp = new Date(a.createdAt).getTime();\n      const bTimeStamp = new Date(b.createdAt).getTime();\n\n      return aTimeStamp - bTimeStamp;\n    },\n  },\n];\n\nconst ShopPage = () => {\n  const { products, collections, collectionMap, isLoaded, error, maxProductPrice } = useProducts();\n  const [filteredProducts, setFilteredProducts] = useState([]);\n  const [filteredSortedProducts, setFilteredSortedProducts] = useState([]);\n\n  const location = useLocation();\n  // const [searchParams, setSearchParams] = useSearchParams();\n  const [activeSortBy, setActiveSortBy] = useState(sortByOptions[0]);\n\n  //Min and max values possible for price filter\n  const minValue = 0;\n  const maxValue = Math.ceil(maxProductPrice);\n  //TODO: Messy bellow, figure out cleaner simpler way of managing rehydrating filters\n  let initialMinPrice = 0;\n  let initialMaxPrice = 200;\n  let initialCollection = null;\n  if (location.state) {\n    initialMinPrice = location.state.minPrice ? location.state.minPrice : 0;\n    initialMaxPrice = location.state.maxPrice ? location.state.maxPrice : 200;\n    initialCollection = location.state.collection ? location.state.collection : null;\n  }\n  //Set active collection id for filtering, null means all collections\n  const [activeCollection, setActiveCollection] = useState(initialCollection);\n  const [pageNum, setPageNum] = useState(0);\n  const [isCollectionsFilterOpen, setIsCollectionsFilterOpen] = useState(true);\n  const [isPriceFilterOpen, setIsPriceFilterOpen] = useState(false);\n  //Current min and max values to filter products\n  const [minPrice, setMinPrice] = useState(initialMinPrice);\n  const [maxPrice, setMaxPrice] = useState(initialMaxPrice);\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  useScrollToPrevious();\n\n  useEffect(() => {\n    setMaxPrice(Math.ceil(maxProductPrice));\n  }, [maxProductPrice]);\n\n  //rehydrates the old filter settings from location state once clicked back from details page\n  useLayoutEffect(() => {\n    if (!location.state) {\n      return;\n    }\n\n    let { collection, minPrice, maxPrice, pageNum } = location.state;\n\n    if (!collectionMap[collection]) {\n      collection = null;\n    }\n\n    if (!maxPrice || maxPrice > maxProductPrice) {\n      maxPrice = Math.ceil(maxProductPrice);\n    }\n\n    if (!minPrice || minPrice < 0 || minPrice >= maxPrice) {\n      minPrice = 0;\n    }\n\n    if (!pageNum) {\n      pageNum = 0;\n    }\n\n    setActiveCollection(collection);\n    setMinPrice(minPrice);\n    setMaxPrice(maxPrice);\n    setPageNum(pageNum);\n\n    // eslint-disable-next-line\n  }, [isLoaded, maxProductPrice, location.state]);\n\n  //Filteres products\n  useEffect(() => {\n    const filterProducts = (prods) => {\n      const filteredSortedProducts = prods.filter((prod) => {\n        const isValidPrice = prod.priceInPence / 100 >= minPrice && prod.priceInPence / 100 <= maxPrice;\n        const isValidCollection = activeCollection === null || prod.collectionId === activeCollection ? true : false;\n\n        return isValidPrice && isValidCollection;\n      });\n\n      return filteredSortedProducts;\n    };\n\n    setFilteredProducts(filterProducts(products));\n    // eslint-disable-next-line\n  }, [products.length, activeCollection, minPrice, maxPrice]);\n\n  //This then sorts the filtered Products, then ready for rendering.\n  useEffect(() => {\n    const filteredProductsShallowCopy = [...filteredProducts];\n    setFilteredSortedProducts(filteredProductsShallowCopy.sort(activeSortBy.sortFunc));\n  }, [filteredProducts, activeSortBy]);\n\n  //Will scroll to top unless already close making it unnecessary\n  const scrollToTop = () => {\n    const scrollPos = window.scrollY || window.scrollTop || document.getElementsByTagName('html')[0].scrollTop;\n\n    if (scrollPos > 460) {\n      window.scrollTo(0, 0);\n    }\n  };\n\n  const changePageNum = (amount) => {\n    const finalPageNum = Math.floor(products.length / PRODS_PER_PAGE);\n    if (pageNum + amount >= 0 && pageNum + amount <= finalPageNum) {\n      window.scrollTo(0, 0);\n      setPageNum(pageNum + amount);\n    }\n  };\n\n  const handleProductClick = (product) => {\n    const scrollPos = window.scrollY || window.scrollTop || document.getElementsByTagName('html')[0].scrollTop;\n    const navState = {\n      from: '/shop',\n      collection: activeCollection,\n      minPrice,\n      maxPrice,\n      scrollPos,\n      pageNum,\n    };\n    navigate(`/photo/${product.id}`, { state: navState });\n  };\n\n  const renderProducts = () => {\n    if (error) {\n      return <div>Error fetching product data!</div>;\n    }\n\n    if (!isLoaded) {\n      return <div>Loading product data!</div>;\n    }\n\n    const renderedProductElements = [];\n\n    for (let i = PRODS_PER_PAGE * pageNum; i < PRODS_PER_PAGE * (pageNum + 1); i++) {\n      const product = filteredSortedProducts[i];\n      if (!product) {\n        continue;\n      }\n\n      renderedProductElements.push(\n        <div className='photo-container' key={product.id}>\n          <div\n            className='sp-photo-title-container'\n            onClick={() => {\n              handleProductClick(product);\n            }}\n          >\n            <div className='sp-photo-img-container'>\n              <div\n                className='sp-photo-img'\n                style={{ backgroundImage: `url('${product.imageWmarkedMedSquarePublicURL}')` }}\n                // stlye={{ backgroundImage: product.mediumCroppedSquareWatermarkedImagePublicURL }}\n              />\n            </div>\n            <div className='sp-photo-title'>{product.title}</div>\n          </div>\n          <div className='shop-photo-bottom'>\n            <button\n              className='button-orange shop-add-to-cart'\n              onClick={() => {\n                dispatch(AddCartItem(product.id));\n                navigate('/cart');\n              }}\n            >\n              Add To Cart\n            </button>\n            <div className='shop-photo-price'>£{product.priceInPence / 100}</div>\n          </div>\n          {/* <Link to={`/photo/${product.id}`}>Click me!</Link> */}\n        </div>\n      );\n    }\n\n    return renderedProductElements;\n  };\n\n  const renderCollectionFilters = () => {\n    return collections.map((collection) => (\n      <div\n        className={`shop-filter-block-filter ${activeCollection === collection.id ? 'active' : ''}`}\n        onClick={() => {\n          setActiveCollection(collection.id);\n          scrollToTop();\n        }}\n      >\n        {collection.name}\n      </div>\n    ));\n  };\n\n  const renderPageArrows = () => {\n    if (filteredSortedProducts.length <= PRODS_PER_PAGE) {\n      return <div className='no-filter-arrow-padding'></div>;\n      // return null;\n    }\n\n    return (\n      <div className='sp-page-arrows'>\n        <svg\n          className='sp-arrow-left'\n          onClick={() => {\n            changePageNum(-1);\n          }}\n          width='39'\n          height='39'\n          viewBox='0 0 39 39'\n          fill='none'\n          xmlns='http://www.w3.org/2000/svg'\n        >\n          <rect x='0.5' y='0.5' width='38' height='38' stroke='#8D8A8A' />\n          <path\n            fillRule='evenodd'\n            clipRule='evenodd'\n            d='M29.4324 19.4998C29.4324 19.8221 29.3016 20.1313 29.0687 20.3592C28.8359 20.5871 28.5201 20.7152 28.1908 20.7152H13.8055L19.137 25.9315C19.2524 26.0445 19.344 26.1787 19.4065 26.3263C19.4689 26.474 19.5011 26.6322 19.5011 26.792C19.5011 26.9518 19.4689 27.1101 19.4065 27.2577C19.344 27.4053 19.2524 27.5395 19.137 27.6525C19.0215 27.7655 18.8845 27.8551 18.7337 27.9163C18.5828 27.9774 18.4212 28.0089 18.2579 28.0089C18.0947 28.0089 17.933 27.9774 17.7822 27.9163C17.6313 27.8551 17.4943 27.7655 17.3789 27.6525L9.92922 20.3603C9.8136 20.2474 9.72186 20.1133 9.65926 19.9656C9.59667 19.818 9.56445 19.6597 9.56445 19.4998C9.56445 19.34 9.59667 19.1817 9.65926 19.034C9.72186 18.8863 9.8136 18.7522 9.92922 18.6393L17.3789 11.3471C17.612 11.1189 17.9282 10.9907 18.2579 10.9907C18.5876 10.9907 18.9038 11.1189 19.137 11.3471C19.3701 11.5754 19.5011 11.8849 19.5011 12.2076C19.5011 12.5304 19.3701 12.8399 19.137 13.0681L13.8055 18.2844H28.1908C28.5201 18.2844 28.8359 18.4125 29.0687 18.6404C29.3016 18.8683 29.4324 19.1775 29.4324 19.4998Z'\n            fill='#8D8A8A'\n          />\n        </svg>\n        <svg\n          className='sp-arrow-right'\n          onClick={() => {\n            changePageNum(1);\n          }}\n          width='39'\n          height='39'\n          viewBox='0 0 39 39'\n          fill='none'\n          xmlns='http://www.w3.org/2000/svg'\n        >\n          <rect x='-0.5' y='0.5' width='38' height='38' transform='matrix(-1 0 0 1 38 0)' stroke='#8D8A8A' />\n          <path\n            fillRule='evenodd'\n            clipRule='evenodd'\n            d='M9.56762 19.4998C9.56762 19.8221 9.69843 20.1313 9.93128 20.3592C10.1641 20.5871 10.4799 20.7152 10.8092 20.7152H25.1945L19.863 25.9315C19.7476 26.0445 19.656 26.1787 19.5935 26.3263C19.5311 26.474 19.4989 26.6322 19.4989 26.792C19.4989 26.9518 19.5311 27.1101 19.5935 27.2577C19.656 27.4053 19.7476 27.5395 19.863 27.6525C19.9785 27.7655 20.1155 27.8551 20.2663 27.9163C20.4172 27.9774 20.5788 28.0089 20.7421 28.0089C20.9053 28.0089 21.067 27.9774 21.2178 27.9163C21.3687 27.8551 21.5057 27.7655 21.6211 27.6525L29.0708 20.3603C29.1864 20.2474 29.2781 20.1133 29.3407 19.9656C29.4033 19.818 29.4355 19.6597 29.4355 19.4998C29.4355 19.34 29.4033 19.1817 29.3407 19.034C29.2781 18.8863 29.1864 18.7522 29.0708 18.6393L21.6211 11.3471C21.388 11.1189 21.0718 10.9907 20.7421 10.9907C20.4124 10.9907 20.0962 11.1189 19.863 11.3471C19.6299 11.5754 19.4989 11.8849 19.4989 12.2076C19.4989 12.5304 19.6299 12.8399 19.863 13.0681L25.1945 18.2844H10.8092C10.4799 18.2844 10.1641 18.4125 9.93128 18.6404C9.69843 18.8683 9.56762 19.1775 9.56762 19.4998Z'\n            fill='#8D8A8A'\n          />\n        </svg>\n      </div>\n    );\n  };\n\n  return (\n    <div className='main-shop-container'>\n      <NavBar />\n      <div className='main-shop'>\n        <div className='shop-top'>\n          <SortBySelect sortByOptions={sortByOptions} setActiveSortBy={setActiveSortBy} activeSortBy={activeSortBy} />\n        </div>\n        <div className='shop-lower'>\n          <div className='content-left'>\n            <div className='shop-title'>\n              OUR <br /> ARTWORK\n            </div>\n            <div className='shop-filter-container'>\n              <div className='shop-filter-title'>Filter by</div>\n              <div className='shop-filter-list'>\n                <div className='shop-filter-block'>\n                  <div className='shop-filter-header'>\n                    <div className='shop-filter-block-title'>Collection</div>\n                    <div\n                      className='shop-filter-svg-container'\n                      onClick={() => {\n                        setIsCollectionsFilterOpen(!isCollectionsFilterOpen);\n                      }}\n                    >\n                      {isCollectionsFilterOpen && (\n                        <svg\n                          className='sp-filter-minus'\n                          width='15'\n                          height='3'\n                          viewBox='0 0 15 3'\n                          fill='none'\n                          xmlns='http://www.w3.org/2000/svg'\n                        >\n                          <path d='M13.4453 1.875H1.44531' stroke='#8D8A8A' stroke-width='2' stroke-linecap='round' />\n                        </svg>\n                      )}\n                      {!isCollectionsFilterOpen && (\n                        <svg\n                          className='sp-filter-plus'\n                          width='14'\n                          height='14'\n                          viewBox='0 0 14 14'\n                          fill='none'\n                          xmlns='http://www.w3.org/2000/svg'\n                        >\n                          <path d='M13 7H1' stroke='#8D8A8A' stroke-width='2' stroke-linecap='round' />\n                          <path d='M7 1L7 13' stroke='#8D8A8A' stroke-width='2' stroke-linecap='round' />\n                        </svg>\n                      )}\n                    </div>\n                  </div>\n                  {isLoaded && (\n                    <div className={`shop-filter-block-filters${isCollectionsFilterOpen ? '' : ' hidden'}`}>\n                      <div\n                        className={`shop-filter-block-filter ${activeCollection === null ? 'active' : ''}`}\n                        onClick={() => {\n                          setActiveCollection(null);\n                          scrollToTop();\n                        }}\n                      >\n                        All\n                      </div>\n                      {renderCollectionFilters()}\n                    </div>\n                  )}\n                </div>\n                <div className='shop-filter-block'>\n                  <div className='shop-filter-header'>\n                    <div className='shop-filter-block-title'>Price</div>\n                    <div\n                      className='shop-filter-svg-container'\n                      onClick={() => {\n                        setIsPriceFilterOpen(!isPriceFilterOpen);\n                      }}\n                    >\n                      {isPriceFilterOpen && (\n                        <svg\n                          className='sp-filter-minus'\n                          width='15'\n                          height='3'\n                          viewBox='0 0 15 3'\n                          fill='none'\n                          xmlns='http://www.w3.org/2000/svg'\n                        >\n                          <path d='M13.4453 1.875H1.44531' stroke='#8D8A8A' stroke-width='2' stroke-linecap='round' />\n                        </svg>\n                      )}\n                      {!isPriceFilterOpen && (\n                        <svg\n                          className='sp-filter-plus'\n                          width='14'\n                          height='14'\n                          viewBox='0 0 14 14'\n                          fill='none'\n                          xmlns='http://www.w3.org/2000/svg'\n                        >\n                          <path d='M13 7H1' stroke='#8D8A8A' stroke-width='2' stroke-linecap='round' />\n                          <path d='M7 1L7 13' stroke='#8D8A8A' stroke-width='2' stroke-linecap='round' />\n                        </svg>\n                      )}\n                    </div>\n                  </div>\n                  <div className={`shop-filter-block-filters${isPriceFilterOpen ? '' : ' hidden'}`}>\n                    <div className='shop-price-slider-container'>\n                      <div className='shop-twopointslider'>\n                        {isPriceFilterOpen && (\n                          <TwoPointPriceSlider\n                            min={minValue}\n                            max={maxValue}\n                            setMinVal={setMinPrice}\n                            setMaxVal={setMaxPrice}\n                            initialMin={minPrice}\n                            initialMax={maxPrice}\n                          />\n                        )}\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div className='content-right'>\n            <div className='photo-photo-list'>{renderProducts()}</div>\n            {renderPageArrows()}\n          </div>\n        </div>\n      </div>\n      <MailingList />\n      <Footer />\n    </div>\n  );\n};\n\nexport default ShopPage;\n","import React, { useEffect, useLayoutEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { useParams, useNavigate, useLocation } from 'react-router-dom';\n\nimport NavBar from '../../components/NavBar/NavBar';\nimport Footer from '../../components/Footer/Footer';\nimport MailingList from '../../components/MailingList/MailingList';\n\nimport useProducts from '../../hooks/useProducts';\n\nimport useCollections from '../../hooks/useCollections';\nimport { fetchProduct } from '../../actions/productActions';\nimport { AddCartItem } from '../../actions/cartActions';\n\nimport './PhotoDetailsPage.scss';\n\nconst PhotoDetailsPage = (props) => {\n  const navigate = useNavigate();\n  const location = useLocation();\n  console.log(location.state.scrollPos);\n  const id = Number(useParams().id);\n  const dispatch = useDispatch();\n\n  const { products, isLoaded: isProductsLoaded, error } = useProducts();\n  const { collectionMap, isLoaded: isCollectionsLoaded } = useCollections();\n\n  const isLoaded = isProductsLoaded && isCollectionsLoaded;\n\n  useEffect(() => {\n    //Causes product to be updated in product List\n    dispatch(fetchProduct(id));\n  }, [dispatch, id]);\n\n  useLayoutEffect(() => {\n    window.scrollTo(0, 0);\n  }, []);\n\n  const handleAddToCart = () => {\n    dispatch(AddCartItem(id));\n    navigate('/cart');\n  };\n\n  const handleClickBack = () => {\n    let returnUrl = '/shop';\n\n    if (location?.state?.from) {\n      returnUrl = location.state.from;\n    }\n\n    navigate(returnUrl, { state: { ...location.state, from: null } });\n  };\n\n  const renderProduct = () => {\n    if (error) {\n      return <div>Error loading product data</div>;\n    }\n    if (!isLoaded) {\n      return <div>Loading</div>;\n    }\n\n    const product = products.find((p) => p.id === id);\n\n    return (\n      <>\n        <div className='pd-details-image-left'>\n          <img alt='skylight-photography' className='pd-details-image' src={product.imageWmarkedMedPublicURL} />\n        </div>\n        <div className='pd-details-right'>\n          <h4 className='pd-collection'>{collectionMap[product.collectionId]}</h4>\n          <h1 className='pd-title'>{product.title}</h1>\n          <h2 className='pd-price'>£{product.priceInPence / 100}</h2>\n          <p className='pd-description'>{product.description}</p>\n\n          <button onClick={handleAddToCart} className='button-cadet pd-add-to-basket-button'>\n            Add to Basket\n          </button>\n          <p4 className='pd-share-this'>Share this</p4>\n          <div className='pd-share-this-buttons'>\n            {/* <img src='/images/linked-in-logo-footer.png' className='pd-linked-logo' alt='linked-in-logo' /> */}\n            <a\n              target='_blank'\n              rel='noreferrer'\n              href={`https://twitter.com/intent/tweet?url=https://skylightphotography.co.uk/photo/${product.id}&text=Check+out+this+awesome+photo+from+Skylight+Photography!`}\n            >\n              <img src='/images/twitter-logo-footer.png' className='pd-linked-logo' alt='twitter-logo' />\n            </a>\n            <a\n              target='_blank'\n              rel='noreferrer'\n              href={`https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fskylightphotography.co.uk%2Fphoto%2F${product.id}`}\n            >\n              <img src='/images/facebook-logo-footer.png' className='pd-linked-logo' alt='facebook-logo' />\n            </a>\n          </div>\n        </div>\n      </>\n    );\n  };\n\n  return (\n    <div>\n      <NavBar />\n      <div className='pd-back-arrow-container'>\n        <div className='pd-back-arrow' onClick={handleClickBack}>\n          <svg width='41' height='30' viewBox='0 0 41 30' fill='none' xmlns='http://www.w3.org/2000/svg'>\n            <path\n              d='M0.585786 13.5858C-0.195262 14.3668 -0.195262 15.6332 0.585786 16.4142L13.3137 29.1421C14.0948 29.9232 15.3611 29.9232 16.1421 29.1421C16.9232 28.3611 16.9232 27.0948 16.1421 26.3137L4.82843 15L16.1421 3.68629C16.9232 2.90524 16.9232 1.63891 16.1421 0.857864C15.3611 0.0768158 14.0948 0.0768158 13.3137 0.857864L0.585786 13.5858ZM41 13L2 13V17L41 17V13Z'\n              fill='#8D8A8A'\n            />\n          </svg>\n          Back\n        </div>\n      </div>\n      <div className='pd-details-container'>{renderProduct()}</div>\n      <MailingList />\n      <Footer />\n    </div>\n  );\n};\n\nexport default PhotoDetailsPage;\n","// import React from 'react';\nimport { useSelector } from 'react-redux';\n\nimport useProducts from '../hooks/useProducts';\n\nconst priceToPounds = (pence) => {\n  const array = Array.from(String(pence));\n  array.splice(array.length - 2, 0, '.');\n\n  return +array.join('');\n};\n\n//Expected output: {items, total}\nconst useCart = () => {\n  const { products, error, isLoaded } = useProducts();\n  const cart = useSelector((state) => state.cart);\n\n  let missingProduct = false;\n\n  const cartItemsWithInfo = cart.itemIds.map((itemId) => {\n    const prod = products.find((p) => p.id === itemId);\n\n    if (!prod) {\n      missingProduct = true;\n    }\n\n    return { ...prod };\n  });\n\n  if (missingProduct && !isLoaded) {\n    return { isLoaded, cartItems: [] };\n  }\n\n  if (missingProduct && isLoaded) {\n    return { error: 'Could not find all products in cart' };\n  }\n\n  let cartTotal = cartItemsWithInfo.reduce((accumulator, current) => accumulator + Number(current.priceInPence), 0);\n  cartTotal = priceToPounds(cartTotal);\n\n  return { cartItems: cartItemsWithInfo, cartTotal, error, isLoaded };\n};\n\nexport default useCart;\n","import React, { useLayoutEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { useNavigate } from 'react-router-dom';\n// import useProducts from '../../hooks/useProducts';\nimport { DeleteCartItem } from '../../actions/cartActions';\nimport NavBar from '../../components/NavBar/NavBar';\nimport Footer from '../../components/Footer/Footer';\nimport useCart from '../../hooks/useCart';\nimport useCollections from '../../hooks/useCollections';\nimport useScrollToPrevious from '../../hooks/useScrollToPrevious';\n\nimport './CartPage.scss';\n\nconst CartPage = () => {\n  const { cartItems, cartTotal, error, isLoaded: isCartLoaded } = useCart();\n  useScrollToPrevious();\n  const { collectionMap, isLoaded: isCollectionsLoaded } = useCollections();\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n\n  const isLoaded = isCartLoaded && isCollectionsLoaded;\n\n  useLayoutEffect(() => {\n    window.scrollTo(0, 0);\n  }, []);\n\n  if (error) {\n    return <div>Error fetching cart data!</div>;\n  }\n\n  const handlePhotoClick = (item) => {\n    const scrollPos = window.scrollY || window.scrollTop || document.getElementsByTagName('html')[0].scrollTop;\n    navigate(`/photo/${item.id}`, { state: { from: '/cart', scrollPos } });\n  };\n\n  const renderCartTableBody = () => {\n    if (!isLoaded) {\n      return <div>Loading cart data!</div>;\n    }\n\n    return cartItems.map((item) => {\n      return (\n        <tr className='cp-cart-table-row' key={item.id}>\n          <td\n            className='cp-photo-cell'\n            onClick={() => {\n              handlePhotoClick(item);\n            }}\n          >\n            <img className='cp-photo-img' alt='cart-item' src={`${item.imageWmarkedMedSquarePublicURL}`} />\n            <div className='cp-photo-cell-info'>\n              <div className='cp-photo-title'>{item.title}</div>\n              <div className='cp-photo-collection-name'>{collectionMap[item.collectionId]}</div>\n            </div>\n          </td>\n          <td className='text-center cp-cell'>£{item.priceInPence / 100}</td>\n          <td className='text-center cp-cell'>\n            <img\n              alt='del-icon'\n              className='cart-del-icon'\n              src='/images/del-icon.png'\n              onClick={() => {\n                dispatch(DeleteCartItem(item.id));\n              }}\n            />\n          </td>\n        </tr>\n      );\n    });\n  };\n\n  // return (\n  //   <div>\n  //     {renderCartItems()}\n  //     Cart total: {cartTotal}\n  //     <br />\n  //     <Link to='/payment'>Continue to purchase</Link>\n  //   </div>\n  // );\n\n  return (\n    <div className='cp-container'>\n      <NavBar />\n      <div className='cp'>\n        <div className='cp-title'>Shopping Cart</div>\n        <div className='cp-cart-info-container'>\n          <table className='cp-table'>\n            <thead className='cp-thead'>\n              <tr>\n                <th className='cp-th cp-th-photo text-left'>Photo</th>\n                <th className='cp-th cp-th-price text-center'>Price</th>\n                <th className='cp-th'>Action</th>\n              </tr>\n            </thead>\n            <tbody>{renderCartTableBody()}</tbody>\n          </table>\n          <div className='cp-order-summary'>\n            <div className='cp-order-summary-inner-content'>\n              <div className='cp-order-summary-title'>Order Summary</div>\n              <div className='cp-order-summary-subtotal'>\n                <div className='cb-order-summary-subtotal-title'>Subtotal</div>\n                <div className='cb-order-summary-subtotal-price'>£{cartTotal}</div>\n              </div>\n              <div className='cp-order-summary-total'>\n                <div className='cb-order-summary-total-title'>Total</div>\n                <div className='cb-order-summary-total-price'>£{cartTotal}</div>\n              </div>\n            </div>\n            <button\n              className='button-cadet cp-order-checkout-button'\n              onClick={() => {\n                navigate('/checkout');\n              }}\n            >\n              Checkout\n            </button>\n          </div>\n        </div>\n      </div>\n      <Footer />\n    </div>\n  );\n};\n\nexport default CartPage;\n","import React, { useState } from 'react';\nimport { Link, Navigate } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\nimport NavBar from '../../components/NavBar/NavBar';\n\nimport { login } from '../../actions/authActions';\n\nimport './LoginPage.scss';\n\nconst LoginPage = () => {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  // const navigate = useNavigate();\n  const isLoggedIn = useSelector((state) => state.auth.isLoggedIn);\n  // const { isLoading, errorMessage } = useSelector((state) => state.login);\n  const dispatch = useDispatch();\n\n  // dispatch(logout());\n\n  const onLoginSubmit = (e) => {\n    e.preventDefault();\n    dispatch(login(email, password));\n  };\n\n  if (isLoggedIn) {\n    return <Navigate to='/' />;\n  }\n\n  return (\n    <div className='lip-container'>\n      <NavBar />\n      <div className='lip'>\n        <img className='lip-image' alt='skylight-photography' src='/images/login-page-img.png' />\n        <form className='lip-form' onSubmit={onLoginSubmit}>\n          <div className='lip-title'>Login</div>\n          <div className='lip-email-input-container'>\n            <label className='lip-label' htmlFor='emailInput'>\n              <svg width='21' height='17' viewBox='0 0 21 17' fill='none' xmlns='http://www.w3.org/2000/svg'>\n                <path\n                  d='M17.9785 0.419922H3.97852C3.18287 0.419922 2.4198 0.735992 1.8572 1.2986C1.29459 1.86121 0.978516 2.62427 0.978516 3.41992V13.4199C0.978516 14.2156 1.29459 14.9786 1.8572 15.5412C2.4198 16.1039 3.18287 16.4199 3.97852 16.4199H17.9785C18.7742 16.4199 19.5372 16.1039 20.0998 15.5412C20.6624 14.9786 20.9785 14.2156 20.9785 13.4199V3.41992C20.9785 2.62427 20.6624 1.86121 20.0998 1.2986C19.5372 0.735992 18.7742 0.419922 17.9785 0.419922V0.419922ZM17.3085 2.41992L10.9785 7.16992L4.64852 2.41992H17.3085ZM17.9785 14.4199H3.97852C3.7133 14.4199 3.45895 14.3146 3.27141 14.127C3.08387 13.9395 2.97852 13.6851 2.97852 13.4199V3.66992L10.3785 9.21992C10.5516 9.34974 10.7621 9.41992 10.9785 9.41992C11.1949 9.41992 11.4054 9.34974 11.5785 9.21992L18.9785 3.66992V13.4199C18.9785 13.6851 18.8732 13.9395 18.6856 14.127C18.4981 14.3146 18.2437 14.4199 17.9785 14.4199Z'\n                  fill='black'\n                />\n              </svg>\n            </label>\n            <input\n              id='lipemailInput'\n              placeholder='E-mail Address'\n              type='email'\n              value={email}\n              onChange={(e) => {\n                setEmail(e.target.value);\n              }}\n            />\n          </div>\n          <div className='lip-password-input-container'>\n            <label className='lip-label' htmlFor='passwordInput'>\n              <svg width='18' height='24' viewBox='0 0 18 24' fill='none' xmlns='http://www.w3.org/2000/svg'>\n                <path\n                  d='M17.1973 10.8447H15.5371V4.50098C15.5371 2.49873 14.1382 0.875977 12.4121 0.875977H6.35742C4.63135 0.875977 3.23242 2.49873 3.23242 4.50098V10.8447H1.57227C1.14014 10.8447 0.791016 11.2497 0.791016 11.751V22.626C0.791016 23.1272 1.14014 23.5322 1.57227 23.5322H17.1973C17.6294 23.5322 17.9785 23.1272 17.9785 22.626V11.751C17.9785 11.2497 17.6294 10.8447 17.1973 10.8447ZM10.0684 17.5566V19.0576C10.0684 19.1822 9.98047 19.2842 9.87305 19.2842H8.89648C8.78906 19.2842 8.70117 19.1822 8.70117 19.0576V17.5566C8.49964 17.3888 8.34922 17.1511 8.27156 16.8778C8.19389 16.6045 8.193 16.3096 8.269 16.0357C8.345 15.7617 8.49397 15.5228 8.69447 15.3533C8.89498 15.1838 9.13667 15.0925 9.38477 15.0925C9.63286 15.0925 9.87455 15.1838 10.0751 15.3533C10.2756 15.5228 10.4245 15.7617 10.5005 16.0357C10.5765 16.3096 10.5756 16.6045 10.498 16.8778C10.4203 17.1511 10.2699 17.3888 10.0684 17.5566ZM13.7793 10.8447H4.99023V4.50098C4.99023 3.62588 5.60303 2.91504 6.35742 2.91504H12.4121C13.1665 2.91504 13.7793 3.62588 13.7793 4.50098V10.8447Z'\n                  fill='black'\n                />\n              </svg>\n            </label>\n            <input\n              id='lippasswordInput'\n              type='password'\n              placeholder='Password'\n              value={password}\n              onChange={(e) => {\n                setPassword(e.target.value);\n              }}\n            />\n          </div>\n          <button type='submit' className='button-orange lip-login-button'>\n            Login\n          </button>\n          <br />\n          <div className='lip-signup-link-container'>\n            <span className='lip-signup-pretext'>Don't have an account?</span>\n            <span className='lip-signup-link'>\n              <Link to='/signup'>Signup</Link>\n            </span>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default LoginPage;\n","import React, { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link, useNavigate, Navigate } from 'react-router-dom';\nimport { signup } from '../../actions/authActions';\nimport NavBar from '../../components/NavBar/NavBar';\n\nimport './SignupPage.scss';\n\nconst SignupPage = () => {\n  const isLoggedIn = useSelector((state) => state.auth.isLoggedIn);\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [repeatPassword, setRepeatPassword] = useState('');\n\n  if (isLoggedIn) {\n    return <Navigate to='/' />;\n  }\n\n  const onSignupSubmit = async (e) => {\n    e.preventDefault();\n    const isSignedup = await dispatch(signup(name, email, password));\n\n    if (isSignedup) {\n      navigate('/login');\n    }\n  };\n\n  return (\n    <div className='sup-container'>\n      <NavBar />\n      <div className='sup'>\n        <form class='sup-form' onSubmit={onSignupSubmit}>\n          <div className='sup-title'>Sign Up</div>\n\n          <div className='sup-name-input-container sup-input-container'>\n            <label className='sup-label' htmlFor='passwordInput'>\n              <svg width='20' height='23' viewBox='0 0 20 23' fill='none' xmlns='http://www.w3.org/2000/svg'>\n                <path\n                  d='M9.7959 11.7812C12.5573 11.7812 14.7959 9.54267 14.7959 6.78125C14.7959 4.01983 12.5573 1.78125 9.7959 1.78125C7.03447 1.78125 4.7959 4.01983 4.7959 6.78125C4.7959 9.54267 7.03447 11.7812 9.7959 11.7812Z'\n                  stroke='black'\n                  stroke-width='2'\n                />\n                <path\n                  d='M14.796 13.7813H15.148C15.879 13.7815 16.5849 14.0486 17.1329 14.5325C17.6809 15.0164 18.0333 15.6838 18.124 16.4093L18.515 19.5333C18.5501 19.8147 18.525 20.1004 18.4414 20.3714C18.3577 20.6424 18.2173 20.8924 18.0296 21.105C17.8419 21.3176 17.6111 21.4879 17.3525 21.6045C17.094 21.7211 16.8136 21.7813 16.53 21.7812H3.06196C2.77834 21.7813 2.49795 21.7211 2.2394 21.6045C1.98086 21.4879 1.75006 21.3176 1.56233 21.105C1.37461 20.8924 1.23425 20.6424 1.15056 20.3714C1.06688 20.1004 1.04179 19.8147 1.07696 19.5333L1.46696 16.4093C1.55766 15.6835 1.91037 15.0158 2.45879 14.5319C3.00721 14.0479 3.71354 13.781 4.44496 13.7813H4.79596'\n                  stroke='black'\n                  stroke-width='2'\n                  stroke-linecap='round'\n                  stroke-linejoin='round'\n                />\n              </svg>\n            </label>\n            <input\n              className='supInput'\n              type='text'\n              placeholder='Name'\n              value={name}\n              onChange={(e) => {\n                setName(e.target.value);\n              }}\n            />\n          </div>\n\n          <div className='sup-input-container'>\n            <label className='sup-label' htmlFor='emailInput'>\n              <svg width='21' height='17' viewBox='0 0 21 17' fill='none' xmlns='http://www.w3.org/2000/svg'>\n                <path\n                  d='M17.9785 0.419922H3.97852C3.18287 0.419922 2.4198 0.735992 1.8572 1.2986C1.29459 1.86121 0.978516 2.62427 0.978516 3.41992V13.4199C0.978516 14.2156 1.29459 14.9786 1.8572 15.5412C2.4198 16.1039 3.18287 16.4199 3.97852 16.4199H17.9785C18.7742 16.4199 19.5372 16.1039 20.0998 15.5412C20.6624 14.9786 20.9785 14.2156 20.9785 13.4199V3.41992C20.9785 2.62427 20.6624 1.86121 20.0998 1.2986C19.5372 0.735992 18.7742 0.419922 17.9785 0.419922V0.419922ZM17.3085 2.41992L10.9785 7.16992L4.64852 2.41992H17.3085ZM17.9785 14.4199H3.97852C3.7133 14.4199 3.45895 14.3146 3.27141 14.127C3.08387 13.9395 2.97852 13.6851 2.97852 13.4199V3.66992L10.3785 9.21992C10.5516 9.34974 10.7621 9.41992 10.9785 9.41992C11.1949 9.41992 11.4054 9.34974 11.5785 9.21992L18.9785 3.66992V13.4199C18.9785 13.6851 18.8732 13.9395 18.6856 14.127C18.4981 14.3146 18.2437 14.4199 17.9785 14.4199Z'\n                  fill='black'\n                />\n              </svg>\n            </label>\n            <input\n              id='supemailInput'\n              className='supInput'\n              placeholder='E-mail Address'\n              type='email'\n              value={email}\n              onChange={(e) => {\n                setEmail(e.target.value);\n              }}\n            />\n          </div>\n          <div className='sup-input-container'>\n            <label className='sup-label' htmlFor='passwordInput'>\n              <svg width='18' height='24' viewBox='0 0 18 24' fill='none' xmlns='http://www.w3.org/2000/svg'>\n                <path\n                  d='M17.1973 10.8447H15.5371V4.50098C15.5371 2.49873 14.1382 0.875977 12.4121 0.875977H6.35742C4.63135 0.875977 3.23242 2.49873 3.23242 4.50098V10.8447H1.57227C1.14014 10.8447 0.791016 11.2497 0.791016 11.751V22.626C0.791016 23.1272 1.14014 23.5322 1.57227 23.5322H17.1973C17.6294 23.5322 17.9785 23.1272 17.9785 22.626V11.751C17.9785 11.2497 17.6294 10.8447 17.1973 10.8447ZM10.0684 17.5566V19.0576C10.0684 19.1822 9.98047 19.2842 9.87305 19.2842H8.89648C8.78906 19.2842 8.70117 19.1822 8.70117 19.0576V17.5566C8.49964 17.3888 8.34922 17.1511 8.27156 16.8778C8.19389 16.6045 8.193 16.3096 8.269 16.0357C8.345 15.7617 8.49397 15.5228 8.69447 15.3533C8.89498 15.1838 9.13667 15.0925 9.38477 15.0925C9.63286 15.0925 9.87455 15.1838 10.0751 15.3533C10.2756 15.5228 10.4245 15.7617 10.5005 16.0357C10.5765 16.3096 10.5756 16.6045 10.498 16.8778C10.4203 17.1511 10.2699 17.3888 10.0684 17.5566ZM13.7793 10.8447H4.99023V4.50098C4.99023 3.62588 5.60303 2.91504 6.35742 2.91504H12.4121C13.1665 2.91504 13.7793 3.62588 13.7793 4.50098V10.8447Z'\n                  fill='black'\n                />\n              </svg>\n            </label>\n            <input\n              id='suppasswordInput'\n              className='supInput'\n              type='password'\n              placeholder='Password'\n              value={password}\n              onChange={(e) => {\n                setPassword(e.target.value);\n              }}\n            />\n          </div>\n          <div className='sup-input-container'>\n            <label className='sup-label' htmlFor='passwordInput'>\n              <svg width='19' height='24' viewBox='0 0 19 24' fill='none' xmlns='http://www.w3.org/2000/svg'>\n                <path\n                  d='M17.3232 10.8423H15.6631V4.49854C15.6631 2.49629 14.2642 0.873535 12.5381 0.873535H6.4834C4.75732 0.873535 3.3584 2.49629 3.3584 4.49854V10.8423H1.69824C1.26611 10.8423 0.916992 11.2473 0.916992 11.7485V22.6235C0.916992 23.1248 1.26611 23.5298 1.69824 23.5298H17.3232C17.7554 23.5298 18.1045 23.1248 18.1045 22.6235V11.7485C18.1045 11.2473 17.7554 10.8423 17.3232 10.8423ZM5.11621 4.49854C5.11621 3.62344 5.729 2.9126 6.4834 2.9126H12.5381C13.2925 2.9126 13.9053 3.62344 13.9053 4.49854V10.8423H5.11621V4.49854ZM16.3467 21.4907H2.6748V12.8813H16.3467V21.4907ZM8.82715 17.5542V19.0552C8.82715 19.1798 8.91504 19.2817 9.02246 19.2817H9.99902C10.1064 19.2817 10.1943 19.1798 10.1943 19.0552V17.5542C10.3959 17.3864 10.5463 17.1487 10.624 16.8753C10.7016 16.602 10.7025 16.3072 10.6265 16.0332C10.5505 15.7593 10.4015 15.5203 10.201 15.3509C10.0005 15.1814 9.75883 15.0901 9.51074 15.0901C9.26265 15.0901 9.02096 15.1814 8.82045 15.3509C8.61995 15.5203 8.47097 15.7593 8.39497 16.0332C8.31897 16.3072 8.31987 16.602 8.39753 16.8753C8.4752 17.1487 8.62562 17.3864 8.82715 17.5542Z'\n                  fill='black'\n                />\n              </svg>\n            </label>\n            <input\n              id='suppasswordInput'\n              className='supInput'\n              type='password'\n              placeholder='Repeat password'\n              value={repeatPassword}\n              onChange={(e) => {\n                setRepeatPassword(e.target.value);\n              }}\n            />\n          </div>\n          <button type='submit' className='button-cadet sup-login-button'>\n            Sign up\n          </button>\n          <br />\n          <div className='sup-signup-link-container'>\n            <span className='sup-signup-pretext'>Already have an account?</span>\n            <span className='sup-signup-link'>\n              <Link to='/login'>Login</Link>\n            </span>\n          </div>\n        </form>\n        <img className='sup-image' alt='skylight-photography' src='/images/signup-page-img1.png' />\n      </div>\n    </div>\n  );\n};\n\n// return (\n//   <div className='sup-container'>\n//     <NavBar />\n//     <form onSubmit={onSignupSubmit}>\n//       <div>\n//         <label htmlFor='firstName'>First name</label>\n//         <input\n//           id='firstName'\n//           type='text'\n//           value={firstName}\n//           onChange={(e) => {\n//             setFirstName(e.target.value);\n//           }}\n//         />\n//       </div>\n//       <div>\n//         <label htmlFor='emailInput'>Surname</label>\n//         <input\n//           id='surname'\n//           type='text'\n//           value={surname}\n//           onChange={(e) => {\n//             setSurname(e.target.value);\n//           }}\n//         />\n//       </div>\n//       <div>\n//         <label htmlFor='emailInput'>Email</label>\n//         <input\n//           id='emailInput'\n//           type='email'\n//           value={email}\n//           onChange={(e) => {\n//             setEmail(e.target.value);\n//           }}\n//         />\n//       </div>\n//       <div>\n//         <label htmlFor='passwordInput'>Password</label>\n//         <input\n//           id='passwordInput'\n//           type='password'\n//           value={password}\n//           onChange={(e) => {\n//             setPassword(e.target.value);\n//           }}\n//         />\n//       </div>\n//       <button type='submit'>Login</button>\n//     </form>\n//   </div>\n// );\n// };\n\nexport default SignupPage;\n","import { makeRequest } from '../util/util.js';\nimport { API_URL } from '../util/config';\nimport { getAuthHeader, errorParser } from '../util/util';\nimport { saveAs } from 'file-saver';\n\nexport const startOrderRequest = async (customerEmail, customerName, itemIds) => {\n  const requestOptions = {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify({\n      customerEmail,\n      customerName,\n      itemIds,\n    }),\n  };\n\n  return await makeRequest('/shop/startOrder', requestOptions);\n};\n\nexport const fetchOrdersRequest = async () => {\n  return await makeRequest('/shop/myorders');\n};\n\nexport const fetchOrderRequest = async (orderId) => {\n  return await makeRequest(`/shop/myorder/${orderId}`);\n};\n\nexport const downloadImage = async (key) => {\n  const { url } = await makeRequest(`/shop/photoTempURL/${key}`);\n\n  // const a = document.createElement('a');\n  // a.style.display = 'none';\n  // a.href = url;\n  // document.body.appendChild(a);\n  // console.log('clicking download');\n  // a.click();\n\n  console.log('saving url');\n  saveAs(url);\n\n  // saveAs(blob, filename);\n\n  // const requestOptions = {\n  //   method: 'GET',\n  //   headers: {\n  //     ...getAuthHeader(),\n  //   },\n  // };\n\n  // const res = await fetch(`${API_URL}/shop${path}`, requestOptions);\n\n  // errorParser(res, { message: 'Could not download image' });\n\n  // const blob = await res.blob();\n\n  // const objectURL = URL.createObjectURL(blob);\n  // const a = document.createElement('a');\n  // a.style.display = 'none';\n  // a.href = objectURL;\n  // // the filename you want\n  // a.download = filename;\n  // document.body.appendChild(a);\n  // a.click();\n  // window.URL.revokeObjectURL(objectURL);\n  // // saveAs(blob, filename);\n};\n\nexport const fetchSecureImageRequest = async (path) => {\n  const requestOptions = {\n    method: 'GET',\n    headers: {\n      ...getAuthHeader(),\n    },\n  };\n\n  const res = await fetch(`${API_URL}/shop${path}`, requestOptions);\n\n  errorParser(res, { message: 'Could not download image' });\n\n  const blob = await res.blob();\n\n  return URL.createObjectURL(blob);\n};\n","import React from 'react';\nimport { CardNumberElement, CardExpiryElement, CardCvcElement, useElements, useStripe } from '@stripe/react-stripe-js';\nimport { useNavigate, Link } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { startOrderRequest } from '../../api/ordersApi';\nimport useCart from '../../hooks/useCart';\nimport { EmptyCart } from '../../actions/cartActions';\n\nimport NavBar from '../../components/NavBar/NavBar';\nimport './PaymentPage.scss';\nimport useCollections from '../../hooks/useCollections';\n\nconst PaymentPage = () => {\n  const elements = useElements();\n  const stripe = useStripe();\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  const { name, email } = useSelector((state) => state.auth);\n  const { cartItems, cartTotal, isLoaded } = useCart();\n  const { collectionMap } = useCollections();\n\n  const inputStyle = {\n    fontSize: '20px',\n    '::placeholder': {\n      color: '#B1ADAD',\n    },\n  };\n\n  if (!isLoaded) {\n    return <div>Loading data!</div>;\n  }\n\n  const cartItemIds = cartItems.map((item) => item.id);\n\n  const renderOrderSummaryItems = () =>\n    cartItems.map((cartItem) => (\n      <div className='pp-order-summary-item' key={cartItem.id}>\n        <img className='pp-summary-item-img' alt={cartItem.title} src={cartItem.imageWmarkedMedSquarePublicURL} />\n        <div className='pp-summary-item-titleandcollection'>\n          <div className='pp-summary-item-title'>{cartItem.title}</div>\n          <div className='pp-summary-item-collection'>{collectionMap[cartItem.collectionId]}</div>\n        </div>\n        <div className='pp-summary-item-price'>£{cartItem.priceInPence / 100}</div>\n      </div>\n    ));\n\n  const onPaymentSubmit = async (e) => {\n    e.preventDefault();\n    if (!stripe || !elements) {\n      return;\n    }\n\n    try {\n      //TODO: When guest option available will need to conditionally change where email, name come from.\n      const { clientSecret, orderId } = await startOrderRequest(email, name, cartItemIds);\n\n      const cardNumberElement = elements.getElement(CardNumberElement);\n\n      const { error } = await stripe.confirmCardPayment(clientSecret, {\n        payment_method: {\n          card: cardNumberElement,\n        },\n      });\n      // const {error, paymentMethod} = await stripe?.createPaymentMethod({\n      //   type: 'card',\n      //   card: cardNumberElement,  // pass as card\n      //   billing_details: {\n      //     name, // name of the user\n      //   },\n      // });\n\n      if (!error) {\n        dispatch(EmptyCart());\n        navigate(`/order/success/${orderId}`);\n      }\n    } catch (error) {\n      //TODO: Add error handling. error component to display error at top of payment page????\n      //Would need to have state to store error. General error state or state for payment page containing errors?\n      console.log(error);\n    }\n  };\n\n  return (\n    <>\n      <NavBar />\n      <div className='pp-container'>\n        <h1 className='pp-title-checkout'>Checkout</h1>\n        <div className='pp-payment-container'>\n          <div className='pp-form-container'>\n            <h2 className='pp-subtitle'>Payment Method</h2>\n            <p className='pp-description'>\n              All transactions are secure and your credit card information is never stored\n            </p>\n            <div className='payment-option'>\n              {radioSelected}\n              <div className='payment-option-1-text'>Credit/Debit Card</div>\n              <div className='payment-option-1-icons'>\n                <img className='payment-option-1-visa-icon' alt='visa icon' src='/images/VisaIcon.png' />\n                <img\n                  className='payment-option-1-mastercard-icon'\n                  alt='mastercard icon'\n                  src='/images/mastercardIcon.svg'\n                />\n              </div>\n            </div>\n            <form className='payment-form' onSubmit={onPaymentSubmit}>\n              {/* <label htmlFor='card-element'>Card</label> */}\n              <div className='pp-stripe-order-row-1'>\n                <CardNumberElement\n                  className='stripe-element'\n                  options={{\n                    style: {\n                      base: inputStyle,\n                    },\n                    placeholder: 'Card Number',\n                  }}\n                />\n              </div>\n              <div className='pp-stripe-order-row-2'>\n                <CardExpiryElement\n                  className='stripe-element pp-stripe-card-expiry'\n                  options={{\n                    style: {\n                      base: inputStyle,\n                    },\n                  }}\n                />\n\n                <CardCvcElement\n                  className='stripe-element pp-stripe-card-cvc'\n                  options={{\n                    style: {\n                      base: inputStyle,\n                    },\n                  }}\n                />\n              </div>\n              <button type='submit' id='pp-place-order-button' className='button-orange'>\n                Place Order\n              </button>\n              <Link to='/shop' className='pp-return-to-store'>\n                <div className='pp-back-arrow-returnstore'>{backArrow}</div>Return to Store\n              </Link>\n            </form>\n          </div>\n          <div className='pp-order-summary'>\n            <div className='pp-order-summary-title-container'>\n              <h2 className='pp-order-summary-title'>Your Order</h2>\n              <Link to='/cart' className='pp-order-summary-edit-text'>\n                (Edit)\n              </Link>\n            </div>\n            {renderOrderSummaryItems()}\n            <div className='pp-order-summary-total-info'>\n              <div className='pp-order-summary-total-title'>Total</div>\n              <div className='pp-order-summary-total-value'>£{cartTotal}</div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nconst backArrow = (\n  <svg width='14' height='10' viewBox='0 0 14 10' fill='none' xmlns='http://www.w3.org/2000/svg'>\n    <path\n      fill-rule='evenodd'\n      clip-rule='evenodd'\n      d='M14.0009 5.09731C14.0009 4.9647 13.9482 4.83753 13.8544 4.74376C13.7607 4.64999 13.6335 4.59731 13.5009 4.59731H1.70789L4.85489 1.45131C4.90138 1.40482 4.93826 1.34963 4.96342 1.28889C4.98858 1.22816 5.00153 1.16306 5.00153 1.09731C5.00153 1.03157 4.98858 0.966467 4.96342 0.905728C4.93826 0.844988 4.90138 0.789799 4.85489 0.743311C4.80841 0.696823 4.75322 0.659947 4.69248 0.634788C4.63174 0.609629 4.56664 0.59668 4.50089 0.59668C4.43515 0.59668 4.37005 0.609629 4.30931 0.634788C4.24857 0.659947 4.19338 0.696823 4.14689 0.743311L0.146894 4.74331C0.100331 4.78976 0.0633877 4.84493 0.0381812 4.90568C0.0129748 4.96642 0 5.03154 0 5.09731C0 5.16308 0.0129748 5.2282 0.0381812 5.28894C0.0633877 5.34969 0.100331 5.40487 0.146894 5.45131L4.14689 9.45131C4.19338 9.4978 4.24857 9.53468 4.30931 9.55983C4.37005 9.58499 4.43515 9.59794 4.50089 9.59794C4.56664 9.59794 4.63174 9.58499 4.69248 9.55983C4.75322 9.53468 4.80841 9.4978 4.85489 9.45131C4.90138 9.40482 4.93826 9.34963 4.96342 9.28889C4.98858 9.22816 5.00153 9.16305 5.00153 9.09731C5.00153 9.03157 4.98858 8.96647 4.96342 8.90573C4.93826 8.84499 4.90138 8.7898 4.85489 8.74331L1.70789 5.59731H13.5009C13.6335 5.59731 13.7607 5.54463 13.8544 5.45086C13.9482 5.3571 14.0009 5.22992 14.0009 5.09731Z'\n      fill='black'\n    />\n  </svg>\n);\n\nconst radioSelected = (\n  <svg width='31' height='30' viewBox='0 0 31 30' fill='none' xmlns='http://www.w3.org/2000/svg'>\n    <path\n      d='M15.918 6.25C11.0942 6.25 7.16797 10.1763 7.16797 15C7.16797 19.8237 11.0942 23.75 15.918 23.75C20.7417 23.75 24.668 19.8237 24.668 15C24.668 10.1763 20.7417 6.25 15.918 6.25ZM15.918 21.25C12.4717 21.25 9.66797 18.4462 9.66797 15C9.66797 11.5538 12.4717 8.75 15.918 8.75C19.3642 8.75 22.168 11.5538 22.168 15C22.168 18.4462 19.3642 21.25 15.918 21.25Z'\n      fill='black'\n    />\n    <path\n      d='M15.918 11.25C13.8842 11.25 12.168 12.9663 12.168 15C12.168 17.0338 13.8842 18.75 15.918 18.75C17.9517 18.75 19.668 17.0338 19.668 15C19.668 12.9663 17.9517 11.25 15.918 11.25Z'\n      fill='black'\n    />\n  </svg>\n);\n\nexport default PaymentPage;\n","import { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { fetchOrderList } from '../actions/orderActions';\n\n//Purpose is to ensure product list is fetched from server and added to redux state\n//Maybe add optional parm for fetchNewList, if true then will fetch product list from backend and update state\n//first time the component mounts (could be usefull for cart)\nconst useOrders = () => {\n  const [orderItems, setOrderItems] = useState([]);\n  const { orders, isLoading, isLoaded, error } = useSelector((state) => state.orderList);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (!isLoading && !isLoaded) {\n      dispatch(fetchOrderList());\n    }\n    // eslint-disable-next-line\n  }, []);\n\n  useEffect(() => {\n    if (!orders) {\n      return;\n    }\n\n    const newOrderItems = [];\n\n    orders.forEach((order) => {\n      newOrderItems.push(...order.orderItems);\n    });\n\n    setOrderItems(newOrderItems);\n  }, [orders]);\n\n  return { orders, orderItems, isLoaded, error };\n};\n\nexport default useOrders;\n","import {\n  ORDER_LIST_REQUEST,\n  ORDER_LIST_FAIL,\n  ORDER_LIST_SUCCESS,\n  ORDER_FETCH_REQUEST,\n  ORDER_FETCH_FAIL,\n  ORDER_FETCH_SUCCESS,\n} from './types';\n\nimport { fetchOrderRequest, fetchOrdersRequest } from '../api/ordersApi';\n\n//Fetches list of orders from backend, orderList.orders is set to result\nexport const fetchOrderList = () => async (dispatch, getState) => {\n  try {\n    dispatch({\n      type: ORDER_LIST_REQUEST,\n    });\n\n    const { orders: orderList } = await fetchOrdersRequest();\n\n    dispatch({\n      type: ORDER_LIST_SUCCESS,\n      payload: orderList,\n    });\n  } catch (error) {\n    dispatch({\n      type: ORDER_LIST_FAIL,\n      payload: error,\n    });\n  }\n};\n\n//Will fetch order from backend and put to orderList\nexport const fetchOrder = (id) => async (dispatch) => {\n  try {\n    dispatch({\n      type: ORDER_FETCH_REQUEST,\n    });\n\n    const { order } = await fetchOrderRequest(id);\n\n    dispatch({\n      type: ORDER_FETCH_SUCCESS,\n      payload: order,\n    });\n  } catch (error) {\n    dispatch({\n      type: ORDER_FETCH_FAIL,\n      payload: error,\n    });\n  }\n};\n","import { useState, useEffect } from 'react';\r\nimport { fetchSecureImageRequest } from '../../api/ordersApi';\r\n\r\nimport './ImageDownload.scss';\r\n\r\nconst ImageDownload = ({ endpoint, paddingBottom }) => {\r\n  const [imageObjectURL, setImageObjectURL] = useState(null);\r\n\r\n  useEffect(() => {\r\n    let objectURL;\r\n\r\n    const fetchImage = async () => {\r\n      objectURL = await fetchSecureImageRequest(endpoint);\r\n      setImageObjectURL(objectURL);\r\n    };\r\n\r\n    fetchImage();\r\n\r\n    return () => {\r\n      URL.revokeObjectURL(objectURL);\r\n    };\r\n  }, [endpoint]);\r\n\r\n  return <div style={{ backgroundImage: `url('${imageObjectURL}')`, paddingBottom }} className='mpp-photo-img' />;\r\n};\r\n\r\nexport default ImageDownload;\r\n","import React, { useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { fetchOrder } from '../../actions/orderActions';\nimport { useDispatch } from 'react-redux';\nimport useOrders from '../../hooks/useOrders';\nimport { Link } from 'react-router-dom';\n\nimport { downloadImage } from '../../api/ordersApi';\nimport ImageDownload from '../../components/ImageDownload/ImageDownload';\nimport MailingList from '../../components/MailingList/MailingList';\nimport Footer from '../../components/Footer/Footer';\nimport NavBar from '../../components/NavBar/NavBar';\n\nimport './OrderCompletePage.scss';\n\nconst OrderCompletePage = () => {\n  const { orders } = useOrders();\n  const orderId = useParams().orderId;\n  const dispatch = useDispatch();\n\n  const order = orders?.find((order) => order.id === +orderId);\n\n  const handleImageDownloadClick = (s3ImagesKey) => {\n    downloadImage(s3ImagesKey);\n  };\n\n  const handleDownloadAllClick = () => {\n    order.orderItems.forEach((orderItem, index) => {\n      setTimeout(() => {\n        downloadImage(orderItem.s3ImagesKey);\n      }, index * 100);\n    });\n  };\n\n  useEffect(() => {\n    dispatch(fetchOrder(orderId));\n\n    // eslint-disable-next-line\n  }, [orderId]);\n\n  const renderOrderItemsList = () => {\n    return order.orderItems.map((orderItem) => {\n      return (\n        <div key={orderItem.id} className='oc-orderItem'>\n          <div className='oc-orderItem-img-container'>\n            <ImageDownload paddingBottom={'100%'} endpoint={`/photoMedCropped2to1/${orderItem.s3ImagesKey}`} />\n          </div>\n          <div className='oc-orderItem-title'>{orderItem.title}</div>\n          <img\n            className='oc-download-image-button'\n            onClick={() => handleImageDownloadClick(orderItem.s3ImagesKey)}\n            src='/images/download-icon-grey.svg'\n            alt='download img icon'\n          />\n        </div>\n      );\n    });\n  };\n\n  return (\n    <>\n      <NavBar />\n      <div>\n        <div className='oc-page'>\n          <div className='oc-page-inner'>\n            <img className='oc-order-success-tick' src='/images/order-success-tick.svg' alt='order succcess tick' />\n            <div className='oc-order-thank-you text-center'>\n              Thank you for your <br /> Order!\n            </div>\n            <div className='oc-text-desc text-center'>\n              Your photos are available for download at any time on the My Photos page of your account. Also feel free\n              to download your photos below.\n            </div>\n            <div className='oc-nav-buttons-container'>\n              <Link to='/myphotos' className='button-orange oc-nav-button'>\n                My Photos\n              </Link>\n              <Link to='/shop' className='button-cadet oc-nav-button'>\n                Continue Shopping\n              </Link>\n            </div>\n\n            {order && (\n              <div className='oc-orderItems-container'>\n                <div className='oc-download-all-button' onClick={handleDownloadAllClick}>\n                  Download All\n                </div>\n                <div className='oc-orderItems'>{renderOrderItemsList()}</div>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n      <MailingList />\n      <Footer />\n    </>\n  );\n};\n\nexport default OrderCompletePage;\n","import React from 'react';\nimport useOrders from '../../hooks/useOrders';\nimport NavBar from '../../components/NavBar/NavBar';\nimport MailingList from '../../components/MailingList/MailingList';\nimport Footer from '../../components/Footer/Footer';\nimport { downloadImage } from '../../api/ordersApi';\nimport ImageDownload from '../../components/ImageDownload/ImageDownload';\n\nimport './MyPhotosPage.scss';\n\nconst MyPhotosPage = () => {\n  const { orderItems, isLoading, error } = useOrders();\n\n  //TODO: UX for downloading\n  // When downloading have download wheel and disable access to click button. Grey it out a bit etc..\n  const handleDownloadClick = async (s3ImagesKey) => {\n    downloadImage(s3ImagesKey);\n  };\n\n  const renderMyPhotos = () => {\n    if (isLoading) {\n      return <div>Loading Photos!</div>;\n    }\n\n    if (error) {\n      return <div>Error!</div>;\n    }\n\n    const photosList = [];\n\n    console.log(orderItems);\n\n    orderItems.forEach((photo) => {\n      photosList.push(\n        <div className='mpp-photo-container' key={photo.id}>\n          <div className='mpp-photo-img-container'>\n            <ImageDownload paddingBottom={'84.5%'} endpoint={`/photoMedCropped2to1/${photo.s3ImagesKey}`} />\n          </div>\n          <div className='mpp-photo-content-right'>\n            <div className='mpp-photo-info-grid'>\n              <div className='mpp-photo-info-heading'>Name</div>\n              <div className='mpp-photo-info-text  mpp-photo-name'>{photo.title}</div>\n\n              <div className='mpp-photo-info-heading'>Date</div>\n              <div className='mpp-photo-info-text'>{photo.createdAt.split('T')[0].split('-').reverse().join('/')}</div>\n\n              <div className='mpp-photo-info-heading'>Status</div>\n              <div className='mpp-photo-info-text'>Confirmed</div>\n\n              <div className='mpp-photo-info-heading'>Total</div>\n              <div className='mpp-photo-info-text'>£{photo.priceInPence / 100}</div>\n            </div>\n            <button\n              className='button-orange mpp-download-button'\n              onClick={() => {\n                handleDownloadClick(photo.s3ImagesKey);\n              }}\n            >\n              Download\n              <div className='mpp-download-icon'>\n                <img src='/images/download-icon-white.svg' alt='download img icon' />\n              </div>\n            </button>\n          </div>\n        </div>\n      );\n    });\n\n    return photosList;\n  };\n\n  return (\n    <>\n      <NavBar />\n      <div className='mpp-container'>\n        <h1 className='mpp-page-title'>My Photos</h1>\n        <p className='mpp-page-desc'>\n          Check the status of Orders or Browse through your <br /> Purchases\n        </p>\n        <div className='mpp-photos-container'>{renderMyPhotos()}</div>\n      </div>\n      <MailingList />\n      <Footer />\n    </>\n  );\n};\n\nexport default MyPhotosPage;\n","import React from 'react';\nimport NavBar from '../../components/NavBar/NavBar';\n\nimport './MyAccountPage.scss';\n\nconst MyAccountPage = () => {\n  return (\n    <>\n      <NavBar />\n      <div>My account page</div>\n    </>\n  );\n};\n\nexport default MyAccountPage;\n","import React, { useEffect } from 'react';\nimport { BrowserRouter, Route, Routes, Outlet } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport { Elements } from '@stripe/react-stripe-js';\nimport { loadStripe } from '@stripe/stripe-js';\nimport { API_URL } from './util/config';\n\nimport HomePage from './pages/HomePage/HomePage';\nimport ShopPage from './pages/ShopPage/ShopPage';\nimport PhotoDetailsPage from './pages/PhotoDetailsPage/PhotoDetailsPage';\nimport CartPage from './pages/CartPage/CartPage';\nimport LoginPage from './pages/LoginPage/LoginPage';\nimport SignupPage from './pages/SignupPage/SignupPage';\nimport PaymentPage from './pages/PaymentPage/PaymentPage';\nimport OrderCompletePage from './pages/OrderCompletePage/OrderCompletePage';\nimport MyPhotosPage from './pages/MyPhotosPage/MyPhotosPage';\nimport MyAccountPage from './pages/MyAccountPage/MyAccountPage';\n\nimport './styles/global.scss';\n\nconst STRIPE_PUBLISHABLE_KEY =\n  'pk_test_51JmjyLBxc7UTHklpkl2msXfRPXO5UmEfW2b33xIk4S0y5Pc9oKObZibwotF3S626UWjGdGFQSJ7JGRZfVIwITrt800sVddKcVx';\n\nconst stripePromise = loadStripe(STRIPE_PUBLISHABLE_KEY);\n\n//TODO: Route back to original route once logged in\nconst ProtectedLoginRoute = () => {\n  const isLoggedIn = useSelector((state) => state.auth.isLoggedIn);\n  return isLoggedIn ? <Outlet /> : <LoginPage />;\n};\n\nconst App = () => {\n  //Wake up backend server if it's asleep\n  useEffect(() => {\n    console.log(API_URL);\n    fetch(`${API_URL}/ping`);\n  }, []);\n\n  return (\n    <Elements stripe={stripePromise}>\n      <BrowserRouter>\n        <Routes>\n          <Route path='/' element={<HomePage />} />\n          <Route path='/shop' element={<ShopPage />} />\n          <Route path='/photo/:id' element={<PhotoDetailsPage />} />\n          <Route path='/cart' element={<CartPage />} />\n          <Route path='/login' element={<LoginPage />} />\n          <Route path='/signup' element={<SignupPage />} />\n\n          {/* Routes requiring user to be logged in */}\n          <Route path='/' element={<ProtectedLoginRoute />}>\n            <Route path='/myPhotos' element={<MyPhotosPage />} />\n            <Route path='/checkout' element={<PaymentPage />} />\n            <Route path='/myaccount' element={<MyAccountPage />} />\n            <Route path='/order/success/:orderId' element={<OrderCompletePage />} />\n          </Route>\n        </Routes>\n      </BrowserRouter>\n    </Elements>\n  );\n};\n\nexport default App;\n","import {\n  SIGNUP_REQUEST,\n  SIGNUP_SUCCESS,\n  SIGNUP_FAIL,\n  LOGIN_REQUEST,\n  LOGIN_SUCCESS,\n  LOGIN_FAIL,\n  LOGOUT,\n} from '../actions/types';\n\n//TODO: IDEA?\n// const getDefaultAuthValues = () => {\n//   return { isLoggedIn: false, name: null, token: null, isAdmin: null, email: null };\n// };\n\n//then just write ...getDefaultAuthValues(),\n\nconst initialState = { isLoggedIn: false, token: null, isAdmin: false, name: null };\n\nexport const authReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case SIGNUP_REQUEST:\n      return {\n        ...state,\n        isLoggedIn: false,\n        name: null,\n        token: null,\n        isAdmin: null,\n        email: null,\n      };\n    case SIGNUP_SUCCESS:\n      return {\n        ...state,\n        isLoggedIn: false,\n        name: null,\n        token: null,\n        isAdmin: null,\n        email: null,\n      };\n    case SIGNUP_FAIL:\n      return {\n        ...state,\n        isLoggedIn: false,\n        name: null,\n        token: null,\n        isAdmin: null,\n        email: null,\n      };\n    case LOGIN_REQUEST:\n      return {\n        ...state,\n        isLoggedIn: false,\n        name: null,\n        token: null,\n        isAdmin: null,\n        email: null,\n      };\n    case LOGIN_SUCCESS:\n      return {\n        ...state,\n        isLoggedIn: true,\n        name: action.payload.name,\n        token: action.payload.token,\n        isAdmin: action.payload.isAdmin,\n        email: action.payload.email,\n      };\n    case LOGIN_FAIL:\n      return {\n        ...state,\n        isLoggedIn: false,\n        name: null,\n        token: null,\n        isAdmin: null,\n        email: null,\n      };\n    case LOGOUT:\n      return {\n        ...state,\n        isLoggedIn: false,\n        name: null,\n        token: null,\n        isAdmin: null,\n        email: null,\n      };\n    default:\n      return state;\n  }\n};\n\nexport const loginReducer = (state = { isLoading: false, errorMessage: null }, action) => {\n  switch (action.type) {\n    case LOGIN_REQUEST:\n      return {\n        isLoading: true,\n        errorMessage: null,\n      };\n    case LOGIN_SUCCESS:\n      return {\n        isLoading: false,\n        errorMessage: null,\n      };\n    case LOGIN_FAIL:\n      return {\n        isLoading: false,\n        errorMessage: action.payload,\n      };\n    default:\n      return state;\n  }\n};\n\nexport const signupReducer = (state = { isLoading: false, errorMessage: null }, action) => {\n  switch (action.type) {\n    case SIGNUP_REQUEST:\n      return {\n        isLoading: true,\n        errorMessage: null,\n      };\n    case SIGNUP_SUCCESS:\n      return {\n        isLoading: false,\n        errorMessage: null,\n      };\n    case SIGNUP_FAIL:\n      return {\n        isLoading: false,\n        errorMessage: action.payload,\n      };\n    default:\n      return state;\n  }\n};\n","import { combineReducers } from 'redux';\nimport { productListReducer } from './productReducers';\nimport { cartReducer } from './cartReducers';\nimport { authReducer, loginReducer, signupReducer } from './authReducers';\nimport { OrderListReducer } from './ordersReducers';\nimport { collectionReducer } from './collectionReducers';\n\nexport default combineReducers({\n  productList: productListReducer,\n  collectionList: collectionReducer,\n  cart: cartReducer,\n  orderList: OrderListReducer,\n  auth: authReducer,\n  login: loginReducer,\n  signup: signupReducer,\n});\n","//Actions needed:\n//Get products (fetches a list of all products)\n//\n\nimport {\n  PRODUCT_LIST_REQUEST,\n  PRODUCT_LIST_FAIL,\n  PRODUCT_LIST_SUCCESS,\n  PRODUCT_FETCH_SUCCESS,\n  PRODUCT_FETCH_FAIL,\n} from '../actions/types';\n\nexport const productListReducer = (state = { products: [] }, action) => {\n  switch (action.type) {\n    case PRODUCT_LIST_REQUEST:\n      return { isLoading: true, products: [] };\n    case PRODUCT_LIST_SUCCESS:\n      return { isLoading: false, isLoaded: true, products: action.payload };\n    case PRODUCT_LIST_FAIL:\n      return { isLoading: false, error: action.payload, products: [] };\n    case PRODUCT_FETCH_SUCCESS:\n      //Logic below required to ensure newly fetched product is put in same place in array as before\n      const oldProductIndex = state.products.findIndex((prod) => prod.id === action.payload.id);\n      if (oldProductIndex >= 0) {\n        return {\n          isLoading: state.isLoading,\n          isLoaded: state.isLoaded,\n          products: [\n            ...state.products.slice(0, oldProductIndex),\n            action.payload,\n            ...state.products.slice(oldProductIndex + 1),\n          ],\n        };\n      } else {\n        return { isLoading: false, isLoaded: true, products: [...state.products, action.payload] };\n      }\n    case PRODUCT_FETCH_FAIL:\n      return { isLoading: false, error: action.payload, products: [] };\n    default:\n      return state;\n  }\n};\n\n//Seperate state to store product on product details page. Easier to work with than getting info from productList.\n","import { COLLECTION_LIST_REQUEST, COLLECTION_LIST_SUCCESS, COLLECTION_LIST_FAIL } from '../actions/types';\n\nexport const collectionReducer = (\n  state = { collections: [], isLoading: false, isLoaded: false, error: null },\n  action\n) => {\n  switch (action.type) {\n    case COLLECTION_LIST_REQUEST:\n      return { collections: [], isLoading: true, isLoaded: false, error: null };\n    case COLLECTION_LIST_SUCCESS:\n      return { collections: action.payload, isLoading: false, isLoaded: true, error: null };\n    case COLLECTION_LIST_FAIL:\n      return { collections: [], isLoading: false, isLoaded: false, error: action.payload };\n    default:\n      return state;\n  }\n};\n","import { ADD_CART_ITEM, DELETE_CART_ITEM, EMPTY_CART } from '../actions/types';\n\nexport const cartReducer = (state = { itemIds: [] }, action) => {\n  switch (action.type) {\n    case ADD_CART_ITEM: {\n      const itemId = action.payload;\n      const existingItemIdIndex = state.itemIds.findIndex((id) => id === itemId);\n      if (existingItemIdIndex >= 0) {\n        return state;\n      }\n      return { itemIds: [itemId, ...state.itemIds] };\n    }\n    case DELETE_CART_ITEM: {\n      const itemId = action.payload;\n      const filteredItemIds = state.itemIds.filter((id) => id !== itemId);\n      return { itemIds: filteredItemIds };\n    }\n    case EMPTY_CART:\n      return { itemIds: [] };\n    default: {\n      return state;\n    }\n  }\n};\n","import {\n  ORDER_LIST_REQUEST,\n  ORDER_LIST_SUCCESS,\n  ORDER_FETCH_SUCCESS,\n  ORDER_FETCH_FAIL,\n  ORDER_LIST_FAIL,\n  LOGOUT,\n} from '../actions/types';\n\nexport const OrderListReducer = (state = { orders: [] }, action) => {\n  switch (action.type) {\n    case LOGOUT:\n      return { isLoading: false, orders: [] };\n    case ORDER_LIST_REQUEST:\n      return { isLoading: true, orders: [] };\n    case ORDER_LIST_SUCCESS:\n      return { isLoading: false, isLoaded: true, orders: action.payload };\n    case ORDER_LIST_FAIL:\n      return { isLoading: false, error: action.payload, orders: [] };\n    case ORDER_FETCH_SUCCESS:\n      //Logic below required to ensure newly fetched ORDER is put in same place in array as before\n      const oldOrderIndex = state.orders.findIndex((prod) => prod.id === action.payload.id);\n      if (oldOrderIndex >= 0) {\n        return {\n          isLoading: state.isLoading,\n          isLoaded: state.isLoaded,\n          orders: [...state.orders.slice(0, oldOrderIndex), action.payload, ...state.orders.slice(oldOrderIndex + 1)],\n        };\n      } else {\n        return { isLoading: false, isLoaded: true, orders: [...state.orders, action.payload] };\n      }\n    case ORDER_FETCH_FAIL:\n      return { isLoading: false, error: action.payload, orders: [] };\n    default:\n      return state;\n  }\n};\n","import ReactDOM from 'react-dom';\nimport React from 'react';\nimport { Provider } from 'react-redux';\nimport { createStore, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\nimport { persistStore, persistReducer } from 'redux-persist';\nimport storage from 'redux-persist/lib/storage';\nimport { PersistGate } from 'redux-persist/lib/integration/react';\nimport { composeWithDevTools } from 'redux-devtools-extension';\n\nimport App from './App';\nimport reducers from './reducers';\n\nconst persistConfig = {\n  key: 'reduxPersist',\n  storage: storage,\n  whitelist: ['cart', 'auth'], // which reducer want to store\n};\n\nconst pReducer = persistReducer(persistConfig, reducers);\n\n// const store = createStore(reducers, applyMiddleware(thunk));\nexport const store = createStore(pReducer, composeWithDevTools(applyMiddleware(thunk)));\n\nconst persistor = persistStore(store);\n\nReactDOM.render(\n  <Provider store={store}>\n    <PersistGate loading={null} persistor={persistor}>\n      <App />\n    </PersistGate>\n  </Provider>,\n  document.querySelector('#root')\n);\n"],"sourceRoot":""}